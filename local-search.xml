<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>tBLASTn比对根肿菌基因</title>
    <link href="/2024/05/03/tBLASTn%E6%AF%94%E5%AF%B9%E6%A0%B9%E8%82%BF%E8%8F%8C%E5%9F%BA%E5%9B%A0/"/>
    <url>/2024/05/03/tBLASTn%E6%AF%94%E5%AF%B9%E6%A0%B9%E8%82%BF%E8%8F%8C%E5%9F%BA%E5%9B%A0/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="tblastn比对根肿菌基因">tBLASTn比对根肿菌基因</h1><p>bBLAST:</p><p>TBLASTN是蛋白序列到核酸库中的一种查询。与BLASTX相反，它是将库中的核酸序列翻译成蛋白序列，再同所查序列作蛋白与蛋白的比对。</p><p>蛋白质序列对核酸库的比对，核酸库中的序列按照六个读码框翻译后与蛋白质序列进行比对搜索。反之，当你不是想找跟你手上这条蛋白质序列相似的蛋白质序列，而是想找跟编码这条蛋白质序列的核酸序列相似的核酸序列的时候，就要做<em>tBLASTn</em>。</p><p><em>tBLASTn</em>是用蛋白质序列搜核酸序列数据库，核酸数据库中的核酸序列要按6条链翻译成蛋白质序列后再被搜索。你可能要问了，核酸数据库里不是已经注释了某条核酸序列能够翻译成什么蛋白质序列吗?为什么还要把这些序列可能翻译出来的6条蛋白质序列都翻译出来搜索呢?我们说，你看到的是已经注释的，还有没注释的呢!就算是已经注释的，你看到的也只是已经研究出来的成果，还有没研究出来的呢!别忘了，基因可以重叠，注释上说某段DNA序列可以编码某个蛋白，但是可能某个未被发现的基因也用到了这段DNA序列。而你要搜索的这个蛋白质序列可能刚好就是这个未被发现的基因的翻译产物。这样就必须把核酸序列所有可能的翻译产物都翻译出来，才能搜索得到。</p><p>长度：370 bp</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">&gt;</span><span class="language-bash">Pb-zf-CCCH</span><br>MNAFHKRVVSGSSSSPPRCKFVNTPGGCRKADCQFSHEAQPCKFYQQGNCRNGASCRFQHGPAPSSSNPFNPSGGFGSAS<br>SNPFQAKFGQSSGLATAVAQGVRRRLVHIISASMTSVLTPSEFTPFSLAEIVPVNHNTKIYRFKLPDQVSLGLPVASCVL<br>VRGKIGDELVTRPYTPITSNRVKGHFDLMIKSYPAGKLSAHFATLKPGQTLEFQGPFKKVEYVPKKKKCIAMIAGGTGIT<br>PMLQVIEESLNHPNDTTKFLLIFANVTEGDILLRERLEGFARSAPGRLEIRYVLEKTEGLSKVKASKGYVTADLLKSLLP<br>APAPDMSIFVCGPPPMMKAISGDKNPDKSQGPLTGILAQLGYTSDHVFKF<br></code></pre></td></tr></table></figure><p>将北京根肿菌基因组文章数据中<em>Pb001646</em>数据进行<em>tblastn</em>，结果只有一个根肿菌（<em>Plasmodiophorabrassicae</em>）的匹配</p><p><em>Plasmodiophora brassicae strain 3A chromosome 12</em></p><p>匹配到3块地方，序列范围已经确定</p><p>Sequence ID: CP145419.1 匹配到的序列ID</p><p>Length: 1206894 长度</p><p>Number of Matches: 3 得到的匹配数</p><p>Range 1: 79644 to 80402 （759 bp/3=253 个氨基酸）</p><p>Query: 162 to 370 209 个氨基酸</p><table><thead><tr class="header"><th style="text-align: left;">Score</th><th style="text-align: left;">Expect（E值）</th><th style="text-align: left;">Method</th><th style="text-align: left;">Identities一致性</th><th style="text-align: left;">Positives</th><th style="text-align: left;">Gaps插入缺少</th><th style="text-align: left;">Frame</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">377 bits(969)</td><td style="text-align: left;">9e-135</td><td style="text-align: left;">Compositional matrix adjust.</td><td style="text-align: left;">209/253(83%)</td><td style="text-align: left;">209/253(82%)</td><td style="text-align: left;">44/253(17%)</td><td style="text-align: left;">-2</td></tr></tbody></table><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Query</span>  <span class="hljs-number">162</span>    RGKIGDELVTRPYTPITSNRVKGHFDLMIKSYPAGKLSAHFATLKPGQTLEFQ-------  <span class="hljs-number">214</span><br>              <span class="hljs-attribute">RGKIGDELVTRPYTPITSNRVKGHFDLMIKSYPAGKLSAHFATLKPGQTLEFQ</span>       <br><span class="hljs-attribute">Sbjct</span>  <span class="hljs-number">80402</span>  RGKIGDELVTRPYTPITSNRVKGHFDLMIKSYPAGKLSAHFATLKPGQTLEFQVVDLAGR  <span class="hljs-number">80223</span>（这里的编号是核酸编号，但是转成了蛋白质，因此序号之差有<span class="hljs-number">3</span>倍的关系）<br><br><span class="hljs-attribute">Query</span>  <span class="hljs-number">215</span>    --------------GPFkkveyvpkkkkCIAMIAGGTGITPMLQVIEESLNHPNDTTKFL  <span class="hljs-number">260</span><br>                            <span class="hljs-attribute">GPFKKVEYVPKKKKCIAMIAGGTGITPMLQVIEESLNHPNDTTKFL</span><br><span class="hljs-attribute">Sbjct</span>  <span class="hljs-number">80222</span>  LHRLQV*AHFSFVQGPFKKVEYVPKKKKCIAMIAGGTGITPMLQVIEESLNHPNDTTKFL  <span class="hljs-number">80043</span><br><br><span class="hljs-attribute">Query</span>  <span class="hljs-number">261</span>    LIFANVTEGDILLRERLEGFARSAPGRLEIRYVLEKTEGLSKVKASKGYVTADLLKSLLP  <span class="hljs-number">320</span><br>              <span class="hljs-attribute">LIFANVTEGDILLRERLEGFARSAPGRLEIRYVLEKTEGLSKVKASKGYVTADLLKSLLP</span><br><span class="hljs-attribute">Sbjct</span>  <span class="hljs-number">80042</span>  LIFANVTEGDILLRERLEGFARSAPGRLEIRYVLEKTEGLSKVKASKGYVTADLLKSLLP  <span class="hljs-number">79863</span><br><br><span class="hljs-attribute">Query</span>  <span class="hljs-number">321</span>    APAPDMSIFVC-----------------------GPPPMMKAISGDKNPDKSQGPLTGIL  <span class="hljs-number">357</span><br>              <span class="hljs-attribute">APAPDMSIFVC</span>                       GPPPMMKAISGDKNPDKSQGPLTGIL<br><span class="hljs-attribute">Sbjct</span>  <span class="hljs-number">79862</span>  APAPDMSIFVCGTNCISFPVFMGVFVAEFRGVLVGPPPMMKAISGDKNPDKSQGPLTGIL  <span class="hljs-number">79683</span><br><br><span class="hljs-attribute">Query</span>  <span class="hljs-number">358</span>    AQLGYTSDHVFKF  <span class="hljs-number">370</span><br>              <span class="hljs-attribute">AQLGYTSDHVFKF</span><br><span class="hljs-attribute">Sbjct</span>  <span class="hljs-number">79682</span>  AQLGYTSDHVFKF  <span class="hljs-number">79644</span><br></code></pre></td></tr></table></figure><p>Range 2: 80461 to 80664</p><table><thead><tr class="header"><th style="text-align: left;">Score</th><th style="text-align: left;">Expect</th><th style="text-align: left;">Method</th><th style="text-align: left;">Identities</th><th style="text-align: left;">Positives</th><th style="text-align: left;">Gaps</th><th style="text-align: left;">Frame</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">137 bits(344)</td><td style="text-align: left;">9e-135</td><td style="text-align: left;">Compositional matrix adjust.</td><td style="text-align: left;">68/68(100%)</td><td style="text-align: left;">68/68(100%)</td><td style="text-align: left;">0/68(0%)</td><td style="text-align: left;">-1</td></tr></tbody></table><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Query</span>  <span class="hljs-number">95</span>     ATAVAQGVRRRLVHIISASMTSVLTPSEFTPFSLAEIVPVNHNTKIYRFKLPDQVSLGLP  <span class="hljs-number">154</span><br>              <span class="hljs-attribute">ATAVAQGVRRRLVHIISASMTSVLTPSEFTPFSLAEIVPVNHNTKIYRFKLPDQVSLGLP</span><br><span class="hljs-attribute">Sbjct</span>  <span class="hljs-number">80664</span>  ATAVAQGVRRRLVHIISASMTSVLTPSEFTPFSLAEIVPVNHNTKIYRFKLPDQVSLGLP  <span class="hljs-number">80485</span><br><br><span class="hljs-attribute">Query</span>  <span class="hljs-number">155</span>    VASCVLVR  <span class="hljs-number">162</span><br>              <span class="hljs-attribute">VASCVLVR</span><br><span class="hljs-attribute">Sbjct</span>  <span class="hljs-number">80484</span>  VASCVLVR  <span class="hljs-number">80461</span><br></code></pre></td></tr></table></figure><p>Range 3: 81568 to 81927</p><table><thead><tr class="header"><th style="text-align: left;">Score</th><th style="text-align: left;">Expect</th><th style="text-align: left;">Method</th><th style="text-align: left;">Identities</th><th style="text-align: left;">Positives</th><th style="text-align: left;">Gaps</th><th style="text-align: left;">Frame</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">138 bits(348)</td><td style="text-align: left;">7e-31</td><td style="text-align: left;">Compositional matrix adjust.</td><td style="text-align: left;">96/120(80%)</td><td style="text-align: left;">96/120(80%)</td><td style="text-align: left;">20/120(16%)</td><td style="text-align: left;">-1</td></tr></tbody></table><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Query</span>  <span class="hljs-number">1</span>      MNAFHKRVVsgssssPPRCKFVNTPGGCRKADCQFSHEAQPCKFYQQGNCRNGASCRF--  <span class="hljs-number">58</span><br>              <span class="hljs-attribute">MNAFHKRVVSGSSSSPPRCKFVNTPGGCRKADCQFSHEAQPCKFYQQGNCRNGASCRF</span>  <br><span class="hljs-attribute">Sbjct</span>  <span class="hljs-number">81927</span>  MNAFHKRVVSGSSSSPPRCKFVNTPGGCRKADCQFSHEAQPCKFYQQGNCRNGASCRFQV  <span class="hljs-number">81748</span><br><br><span class="hljs-attribute">Query</span>  <span class="hljs-number">59</span>     ------------------QHgpapsssnpfnpsggfgsASSNPFQAKFGQSSGLATAVAQ  <span class="hljs-number">100</span><br>                                <span class="hljs-attribute">QHGPAPSSSNPFNPSGGFGSASSNPFQAKFGQSSGL</span>    AQ<br><span class="hljs-attribute">Sbjct</span>  <span class="hljs-number">81747</span>  TDRAVLVLLCVP*CAVCVQHGPAPSSSNPFNPSGGFGSASSNPFQAKFGQSSGLGAFGAQ  <span class="hljs-number">81568</span><br></code></pre></td></tr></table></figure><p>知道定位到基因组序列上一段范围后，对基因组进行注释，确定这一范围的基因，及OCF</p><p>自昨天通过基因组文章的蛋白注释信息找到在芸薹根肿菌中含有其结构域的蛋白，其信息如下：</p><p>长度：370 bp</p><p>基因编号： PLBR_LOCUS6622</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">&gt;</span><span class="language-bash">Pb-zf-CCCH</span><br>MNAFHKRVVSGSSSSPPRCKFVNTPGGCRKADCQFSHEAQPCKFYQQGNCRNGASCRFQHGPAPSSSNPFNPSGGFGSAS<br>SNPFQAKFGQSSGLATAVAQGVRRRLVHIISASMTSVLTPSEFTPFSLAEIVPVNHNTKIYRFKLPDQVSLGLPVASCVL<br>VRGKIGDELVTRPYTPITSNRVKGHFDLMIKSYPAGKLSAHFATLKPGQTLEFQGPFKKVEYVPKKKKCIAMIAGGTGIT<br>PMLQVIEESLNHPNDTTKFLLIFANVTEGDILLRERLEGFARSAPGRLEIRYVLEKTEGLSKVKASKGYVTADLLKSLLP<br>APAPDMSIFVCGPPPMMKAISGDKNPDKSQGPLTGILAQLGYTSDHVFKF<br></code></pre></td></tr></table></figure><p>通过基因编号 PLBR_LOCUS6622 找到基因组</p><p>https://www.ncbi.nlm.nih.gov/datasets/genome/GCA_900303365.2/</p><p>下载基因组，并截取PLBR_LOCUS6622基因，进行blast，结果还是对到了昨天的染色体12上</p><figure><img src="https://s2.loli.net/2024/05/08/iDOLntawgplPbH6.png"alt="image-20240508210811922" /><figcaption aria-hidden="true">image-20240508210811922</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>molecule biology</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>安装VMware软件</title>
    <link href="/2024/01/14/%E5%AE%89%E8%A3%85vmsation/"/>
    <url>/2024/01/14/%E5%AE%89%E8%A3%85vmsation/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h3 id="安装步骤">安装步骤</h3><p>下面是安装VMware workstation的步骤：</p><h4 id="安装界面">（1）安装界面</h4><p><img src="https://s2.loli.net/2023/10/29/BNaGeTMi1AOmQWq.png" /></p><h4 id="用户协议">（2）用户协议</h4><p><img src="https://s2.loli.net/2023/10/29/Rlz9ibqaOJkegDw.png" /></p><h4 id="安装whp">（3）安装WHP</h4><p>安装WHP可以让Hyper-V和VMWarePlayer同时运行<sup id="fnref:1"><a href="#fn:1" rel="footnote"><spanclass="hint--top hint--error hint--medium hint--rounded hint--bounce"aria-label="[喜大普奔！Hyper-V 和 VMWare 终于可以无缝共存、同时运行了！](https://www.jianshu.com/p/c02f776a65cd)">[1]</span></a></sup></p><p><img src="https://s2.loli.net/2023/10/29/hNIqWtdbEC9HjFY.png" /></p><h4 id="添加系统路径">（4）添加系统路径</h4><p>将 VMware Workstation 控制台工具添加到系统 PATH的作用是方便在命令行或终端中直接运行该工具，而无需在其所在文件夹下输入完整的路径<sup id="fnref:2"><a href="#fn:2" rel="footnote"><spanclass="hint--top hint--error hint--medium hint--rounded hint--bounce"aria-label="[VMwarepro16安装完整流程——注意事项全部详解](https://blog.csdn.net/feng8403000/article/details/131816016)">[2]</span></a></sup>。</p><p><img src="https://s2.loli.net/2023/10/29/tnAFJc6ivVNu3eE.png" /></p><h4 id="这里继续">（5）这里继续</h4><p><img src="https://s2.loli.net/2023/10/29/ZPoSwtb3Kk9TpEX.png" /></p><p><img src="https://s2.loli.net/2023/10/29/PpKsWrQb9DXzHlB.png" /></p><p><img src="https://s2.loli.net/2023/10/29/1cxzMthb4VOJnUX.png" /></p><h4 id="等待安装即可">（6）等待安装即可</h4><p><img src="https://s2.loli.net/2023/10/29/EbqN6iOfDkRFCpg.png" /></p><p><img src="https://s2.loli.net/2023/10/29/Ipn2fclYayqLubT.png" /></p><p><img src="https://s2.loli.net/2023/10/29/5i7Pm6JMOKqStp2.png" /></p><h3 id="reference">Reference</h3><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><spanstyle="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><spanstyle="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://www.jianshu.com/p/c02f776a65cd">喜大普奔！Hyper-V和 VMWare终于可以无缝共存、同时运行了！</a><a href="#fnref:1" rev="footnote">↩︎</a></span></li><li id="fn:2"><spanstyle="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><spanstyle="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://blog.csdn.net/feng8403000/article/details/131816016">VMwarepro16安装完整流程——注意事项全部详解</a><a href="#fnref:2" rev="footnote">↩︎</a></span></li><li id="fn:3"><spanstyle="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">3.</span><spanstyle="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://zhuanlan.zhihu.com/p/636071805">猴子看了也能装，热门虚拟机VMwareWorkstation Pro 17安装激活教程</a><a href="#fnref:3" rev="footnote">↩︎</a></span></li></ol></div></div>]]></content>
    
    
    
    <tags>
      
      <tag>虚拟机</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NCBI Genbank使用方法解析</title>
    <link href="/2023/11/12/NCBI%20Genbank%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E8%A7%A3%E6%9E%90/"/>
    <url>/2023/11/12/NCBI%20Genbank%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E8%A7%A3%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>什么是 GenBank？ GenBank是美国国立卫生研究院（NIH）的基因序列数据库，是所有可公开获得的DNA序列的注释集合。GenBank是国际核苷酸序列数据库合作组织（InternationalNucleotide Sequence DatabaseCollaboration）的一部分，该组织由日本DNA数据库（DDBJ）、欧洲核苷酸档案馆（ENA）和美国国立卫生研究院（NCBI）的GenBank组成。这三个组织每天交换数据。</p><p>GenBank <strong>每两个月</strong>发布一次，可从 ftp站点获取。当前版本的 GenBank 发布说明提供了有关该版本的详细信息以及GenBank 即将发生的更改通知。此外，还提供GenBank以前版本的发布说明。每个版本都提供传统GenBank部门和WGS部门的GenBank增长统计数据。</p><p>通过NCBI的GenBank搜索Digitaria sanguinalis的基因条目</p><p>这个Nucleotide数据库就是GenBank数据库</p><p><img src="https://s2.loli.net/2023/12/22/dZ1OoTgmYWHE8S7.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>bioinformatics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>latex安装</title>
    <link href="/2023/10/26/latex/"/>
    <url>/2023/10/26/latex/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><figure><img src="https://s2.loli.net/2023/11/28/N26jXfVEiAx7qhJ.png"alt="image-20231128195831396" /><figcaption aria-hidden="true">image-20231128195831396</figcaption></figure><figure><img src="https://s2.loli.net/2023/11/28/8d1sZXnmfyUIlA6.png"alt="image-20231128195950410" /><figcaption aria-hidden="true">image-20231128195950410</figcaption></figure><figure><img src="https://s2.loli.net/2023/11/28/i79LA3ImwQq2KcR.png"alt="image-20231128200321047" /><figcaption aria-hidden="true">image-20231128200321047</figcaption></figure><figure><img src="https://s2.loli.net/2023/11/28/6nNXBDyZbkpqVoa.png"alt="image-20231128200356815" /><figcaption aria-hidden="true">image-20231128200356815</figcaption></figure><p>下载后打开，选择bat，以管理员身份运行</p><figure><img src="https://s2.loli.net/2023/11/28/LhqmQp4zRwBnjY9.png"alt="image-20231128225156664" /><figcaption aria-hidden="true">image-20231128225156664</figcaption></figure><figure><img src="https://s2.loli.net/2023/11/28/ZSWJhum2cUQFBYq.png"alt="image-20231128225245479" /><figcaption aria-hidden="true">image-20231128225245479</figcaption></figure><figure><img src="https://s2.loli.net/2023/11/28/4OnbP59SHrfB6Mo.png"alt="image-20231128225533995" /><figcaption aria-hidden="true">image-20231128225533995</figcaption></figure><p>点击安装</p><figure><img src="https://s2.loli.net/2023/11/28/HK6TzOuy94YC72m.png"alt="image-20231128233242687" /><figcaption aria-hidden="true">image-20231128233242687</figcaption></figure><figure><img src="https://s2.loli.net/2023/11/28/Cra6KuRJQW2xTAE.png"alt="image-20231128233325015" /><figcaption aria-hidden="true">image-20231128233325015</figcaption></figure><figure><img src="https://s2.loli.net/2023/11/28/sYLdr8CSEXHwk5K.png"alt="image-20231128233409133" /><figcaption aria-hidden="true">image-20231128233409133</figcaption></figure><figure><img src="https://s2.loli.net/2023/11/28/CORV6Jdi4hn35Dq.png"alt="image-20231128233420871" /><figcaption aria-hidden="true">image-20231128233420871</figcaption></figure><figure><img src="https://s2.loli.net/2023/11/28/ELuzsMoS21vhAyD.png"alt="image-20231128233802958" /><figcaption aria-hidden="true">image-20231128233802958</figcaption></figure><figure><img src="https://s2.loli.net/2023/11/28/r2pLZh9j85xlDaR.png"alt="image-20231128233840260" /><figcaption aria-hidden="true">image-20231128233840260</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>latex</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>转录组分析</title>
    <link href="/2023/07/18/%E8%BD%AC%E5%BD%95%E7%BB%84%E5%88%86%E6%9E%90/"/>
    <url>/2023/07/18/%E8%BD%AC%E5%BD%95%E7%BB%84%E5%88%86%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="转录组分析">转录组分析</h2><h3 id="section"></h3><p>为了寻找表型变化背后的分子机制，可能是一个基因，更可能是多个基因组成的相互作用网络共同导致了表型的差异在DNA层次上也许是SNP、InDel、SV、CNV、甲基化等造成的差异。</p><p>在RNA层次上也许是差异表达、可变剪切、修饰等造成的差异。</p><p>在蛋白层次上也许是蛋白的丰度差异、折叠方式差异等造成的差异。</p><p>也可能是以上这些层次之间相互影响造成的变化</p><p>为什么研究RNA层次，一般蛋白上出现差异通常可以从RNA层次上可以看出来。</p><p>DNA的变异也可能在RNA的表达上表现出来</p><p>得到表达数据挖掘三张表</p><p>样本信息表</p><p>表达矩阵</p><p>基因信息表</p><blockquote><p>在植物生物信息挖掘中，特别是在进行RNA测序（RNA-seq）后得到的表达数据，通常会涉及三张表：样本信息表、表达矩阵和基因信息表。这些表格提供了关于样本、表达量和基因的重要信息，对于进一步的分析和解释至关重要。1.样本信息表：样本信息表是描述每个样本的属性和特征的表格。它包含每个样本的唯一标识符（如样本ID或名称），以及与样本相关的各种信息，如处理条件、生理状态、时间点等。样本信息表提供了实验设计和样本分组的基础，帮助研究人员在后续分析中考虑到潜在的批次效应或其他实验条件对表达量的影响。2.表达矩阵：表达矩阵是一个二维矩阵，其中行表示基因，列表示样本，每个元素表示相应基因在对应样本中的表达量。表达矩阵是从RNA-seq数据中计算得出的主要结果之一。它反映了每个基因在不同样本中的表达水平，可以用于比较不同基因的表达模式、寻找差异表达基因以及进行聚类和分类等分析。表达矩阵的值通常是基因表达的定量值，例如FPKM（FragmentsPer Kilobase of transcript per Million mapped reads）或TPM（TranscriptsPer Million）。 3.基因信息表：基因信息表提供了每个基因的注释和相关信息。它包含基因的唯一标识符、基因名、基因描述、功能注释、基因本体论述（GeneOntology，GO）注释等。基因信息表提供了对于表达矩阵中的基因进行功能注释和解释的基础。通过基因信息表，研究人员可以了解每个基因的功能、参与的生物过程以及可能的调控机制，从而进一步理解表达数据的生物学意义。这三张表在植物生物信息挖掘中是相互关联的。样本信息表提供了实验设计和样本分组的基础，表达矩阵提供了基因在样本中的表达水平信息，基因信息表提供了对基因功能和注释的解释。通过整合和分析这些表格的信息，研究人员可以揭示植物基因表达的模式、寻找差异表达基因、发现关键的生物学通路以及探索植物的生物学机制。</p></blockquote><p>当研究人员想要了解哪些基因在特定条件下被表达、表达量如何变化时，他们可以使用两种常见的方法：表达芯片和RNA测序（RNA-seq）。</p><p>表达芯片是一种基于杂交技术的高通量基因表达分析方法。它使用已知的DNA探针序列来检测样本中特定基因的表达水平。首先，研究人员将待检测的RNA样本转录成互补DNA（cDNA），然后将其与芯片上的DNA探针进行杂交。芯片上的DNA探针代表了大量的基因，每个探针对应一个特定的基因。如果待测的RNA中含有与DNA探针互补的序列，它们会结合在一起。之后，通过检测结合的信号强度，可以确定基因的表达水平。表达芯片适用于检测已知基因的表达情况，但对于未知基因或基因组中的变异不太敏感。</p><p>相比之下，RNA测序（RNA-seq）是一种更先进、更全面的方法，可以提供更详细的基因表达信息。RNA-seq利用高通量测序技术，直接对RNA样本进行测序。首先，RNA样本被逆转录成cDNA，然后进行文库构建和测序。测序得到的是cDNA的序列信息，然后使用计算方法将这些序列比对到参考基因组上，以确定每个基因的表达水平。与表达芯片不同，RNA-seq不受限于已知基因，可以发现新的转录本、识别未知基因和变异，并提供更准确的表达量测量。此外，RNA-seq还可以提供转录本的边界信息、剪接变体和基因表达的动态范围。</p><p>因此，表达芯片主要适用于检测已知基因的表达水平，而RNA-seq可以提供更全面的信息，包括已知和未知基因的表达，并提供更详细的转录本分析。RNA-seq通常在研究中更受青睐，因为它具有更高的灵敏度和更广泛的应用范围，尤其适用于探索未知基因或进行深入的基因表达研究。</p><p>表达芯片和RNA-seq在敏感性和动态范围方面存在一些区别，这些区别主要源自它们的原理和技术差异。</p><p>敏感性：表达芯片的敏感性通常较低。它使用预先设计的DNA探针来检测已知基因的表达水平，这些探针通常是特定的序列片段。因此，对于未知基因或未覆盖的基因，表达芯片无法提供相应的表达信息。此外，由于杂交过程和检测方法的限制，表达芯片可能无法准确地测量低表达基因或表达量变化较小的基因。</p><p>相比之下，RNA-seq具有更高的敏感性。它使用高通量测序技术直接测序RNA样本，因此不受预先设计的探针的限制。RNA-seq能够检测到低表达基因和罕见转录本，因为它能够检测到更广泛的RNA序列。此外，RNA-seq的信号强度与基因的表达量呈线性关系，使其能够准确测量表达量的变化。</p><p>动态范围：动态范围是指可以检测到的最低和最高表达量之间的差异范围。表达芯片的动态范围通常较窄。由于使用的DNA探针是预先确定的，表达芯片对于高表达基因可能存在饱和效应，即高表达基因的信号强度达到上限，无法准确测量其真实的表达水平。另一方面，对于低表达基因，表达芯片的信号可能混杂在背景噪声中，导致较低的动态范围。</p><p>RNA-seq具有较宽的动态范围。通过测序RNA样本并计数每个基因的测序reads数量，RNA-seq可以提供基因表达的直接定量信息。由于没有信号饱和的限制，并且使用计数数据来表示表达量，RNA-seq能够捕获从极低到极高表达水平的基因，并提供更广泛的动态范围。</p><p>这些差异主要是由于表达芯片和RNA-seq的技术原理不同所致。表达芯片使用杂交技术和预先设计的DNA探针，而RNA-seq使用直接测序RNA样本的方法。RNA-seq的直接测序和计数优势使其在敏感性和动态范围方面具有更高的性能，尤其适用于研究未知基因或探索表达水平变化较大的基因。</p><ul><li>比对</li></ul><p>hisat2</p><p>把rna数据比对到参考基因组上</p><ul><li><p>表达定量</p></li><li><p>标准化</p></li></ul><p>TPM------------------------------------TMM</p><p>差异表达</p><p>log2FC FoldChange</p><p>生物学重复-----------------------多个生物学重复</p><p>测3个生物学重复</p><p>假设检验</p><p>统计分布----t检验</p><p>组内差异小 组间差异大-------------被判定为差异表达</p><p>如何筛选差异基因？</p><p>使用Pvalue adjust &lt; 0.05认为是差异表达基因 Pv不能设置为0.02</p><p>生物学重复越多，鉴定出的差异基因就越多？</p><p>数据太少无法判断，但是数据多了可以增大决策的准确性</p><p>fold change &gt;2 log2FC &gt; 1</p><p>富集分析</p><p>样本聚类分析和WGCNA</p><p>相关系数：比较组织之间的重复</p><p>3*4*2</p><p>特征表达分析</p><p>共有和特有表达基因</p><h3 id="研究背景">01 研究背景</h3><p>为了解释两种苹果果皮颜色的差异（一红一黄），已有研究表明和花青素的合成与积累有关。</p><p>目前，花青素的合成和积累受到三个方面的影响。在合成方面，苹果中的花青素合成酶大多与积累呈正相关，而葡萄中只有少数酶与积累相关。在调控方面，转录因子bHLH、WD40和MYB对花青素的调控至关重要，其中MYB因子发挥着关键作用。在运输和存储方面，花青素从细胞质转运到液泡中，液泡中的存储则由谷胱甘肽S转移酶（GSTS）和多药和有毒化合物外排转运蛋白（MATES）负责。</p><p>这两种苹果在花青素合成与积累有什么差异？能否找到差异的基因，差异基因的表达又是怎么样造成的（DNA变异？表观修饰？转录调控？），能否找到影响差异的分子机制？</p><p>这篇文章的样品与测序情况：</p><blockquote><p>5年生 苹果树 3 个生物学重复，2个品种，4个时期（S1: 7月16日; S2:8月7日; S3: 8月26日; S4: 9月14日），共 24 个样本。 模式: Single-end读长: 101 bp 测序仪: Hiseq 2000</p></blockquote><h3 id="分析案例">02 分析案例</h3><h4 id="寻找测序数据">（1）寻找测序数据</h4><p><img src="https://s2.loli.net/2023/09/26/wRfYzyIVslqLoQG.png" /></p><p><img src="https://s2.loli.net/2023/09/26/wRcJXSoAaKI7vZg.png" /></p><p>SRA高通量数据</p><p><img src="https://s2.loli.net/2023/09/26/VIy4FMTunjKPBeb.png" /></p><p><img src="https://s2.loli.net/2023/09/26/uIFMd94wOCDSZAh.png" /></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda install sra-tools<br>prefetch SRR2176381<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/09/26/SPU6ZETwuLYvA42.png" /></p><h4 id="批量下载">（2）批量下载</h4><p>获取所有的编号</p><p><img src="https://s2.loli.net/2023/09/26/soPL3S4uCIarpYy.png" /></p><p><img src="https://s2.loli.net/2023/09/24/4jdkRDLPnIHvpsF.png" /></p><p>得到<code>SRR_Acc_List.txt</code>，里面包含了24个RNAseq的原始数据文件，增加批量处理的程序，下载这些文件</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">awk</span> <span class="hljs-string">&#x27;&#123;print &quot;prefetch &quot; <span class="hljs-variable">$1</span>&#125;&#x27;</span> SRR_Acc_List.txt &gt; download_SRR.sh<br></code></pre></td></tr></table></figure><blockquote><p>prefetch SRRXXXXX</p><p>#下载NCBI里面的项目：SRRXXXXX</p></blockquote><p>随后批量进行下载 修改一下samples.txt</p><p><img src="https://s2.loli.net/2024/02/27/Y5HSPEnrGBc1Dua.png" /></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">:%s<span class="hljs-comment">#/home/zhxd/workspace/02.RNA-seq/apple_data/clean_data#/home/brianyjh/rnaseq-apple-training/RNASeq-ref#g</span><br></code></pre></td></tr></table></figure><blockquote><p>:%s/{寻找的片段}/{替换的片段}/g</p><p>这里的<code>/</code>可以替换成<code>#</code>，<code>g</code>表示全部都会被替换</p></blockquote><p><img src="https://s2.loli.net/2024/02/27/FM4pBtlxg2WQPSh.png" /></p><h4 id="准备参考基因组">（3）准备参考基因组</h4><p>参考基因组要准备三个文件：</p><blockquote><ol type="1"><li>基因组序列（<code>genome.fasta</code>）</li><li>基因注释（<code>genes.gtf</code>）</li><li>蛋白序列（<code>proteins.fasta</code>）</li></ol></blockquote><p>使用苹果参考基因组：https://github.com/moold/Genome-data-of-Hanfu-apple</p><p><img src="https://s2.loli.net/2023/09/26/7TRh3nPxFkGbIzV.png" /></p><p><img src="https://s2.loli.net/2024/02/27/axjfnQeBmiwMO2r.png" /></p><p><em>圈中的文件依次是基因组序列文件、基因注释文件（gff文件格式）和蛋白注释文件</em></p><p>基因组序列文件包含了苹果染色体的染色体序列，需要进行合并<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> Chr*.fa.gz &gt; apple_genome.fa.gz<br>gunzip apple_genome.fa.gz<br></code></pre></td></tr></table></figure></p><p>gff文件通过<code>gffread</code>转化成<code>gtf</code>文件<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">gffread -T -o genes.gtf HFTH1.gene.gff3<br></code></pre></td></tr></table></figure></p><h4 id="比对参考基因组">（4）比对参考基因组</h4><p>获取参考基因组后，下一步将RNA-Seq结果比对到参考基因组。</p><p>**理论上RNA-Seq的测序数据需要做过滤和质控*</p><h5 id="mapping">4.1 mapping</h5><p>构建参考基因组的index</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hisat2-build ../ref/genome.fasta ../ref/genome 1&gt;hisat2-build.log 2&gt;&amp;1<br></code></pre></td></tr></table></figure><p>这个程序用我的虚拟机跑了得有30分钟，得到index：</p><p><img src="https://s2.loli.net/2024/02/27/ZzydxwIoaFGklX2.png" /></p><h5 id="比对">4.2 比对</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hisat2 --new-summary -p 10 -x ../ref/genome -U ../data/BLO_S1_LD1.fq.gz -S BLO_S1_LD1.sam --rna-strandness R 1&gt;BLO_S1_LD1.<span class="hljs-built_in">log</span> 2&gt;&amp;1<br></code></pre></td></tr></table></figure><blockquote><p>--new-summary 使用新的日志格式 -p {线程数} -x {刚刚创建的index的位置}-U {测序文件，fastq格式} -S 输出文件，sam格式 --rna-strandness {R、dUTP、RF} 普通文库</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hisat2 --new-summary -p 10 -x ../ref/genome -U ../data/BLO_S1_LD1.fq.gz -S BLO_S1_LD1.sam --rna-strandness R 1&gt;BLO_S1_LD1.<span class="hljs-built_in">log</span> 2&gt;&amp;1<br></code></pre></td></tr></table></figure><p>这里进行批处理：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">awk <span class="hljs-string">&#x27;&#123;print &quot;hisat2 --new-summary -p 10 -x ../ref/genome -U ../data/&quot;$2&quot;.fq.gz -S &quot;$2&quot;.sam --rna-strandness R 1&gt;&quot;$2&quot;.log 2&gt;&amp;1&quot;&#125;&#x27;</span> ../data/samples.txt &gt; step2_batch_processing.sh<br></code></pre></td></tr></table></figure><p>如果要并行运行程序，需要在每一个程序后面加一个<code>&amp;</code>，将每一个测序文件进行运行后得到24个比对的文件及相应的日志文件</p><figure><img src="https://s2.loli.net/2024/02/27/8opdt2sRfCnNKVX.png"alt="image-20240227200917409" /><figcaption aria-hidden="true">image-20240227200917409</figcaption></figure><p>打开其中一个日志文件<code>BLO_S1_LD1.log</code>,可以看到比对率为76.38%<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">HISAT2 summary stats:<br>        Total reads: 10000000<br>                Aligned 0 time: 2362122 (23.62%)<br>                Aligned 1 time: 7078521 (70.79%)<br>                Aligned &gt;1 <span class="hljs-built_in">times</span>: 559357 (5.59%)<br>        Overall alignment rate: 76.38%<br></code></pre></td></tr></table></figure></p><p>下一步，将sam文件转换成bam文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">samtools <span class="hljs-built_in">sort</span> -o BLO_S1_LD1.bam BLO_S1_LD1.sam <span class="hljs-comment">#将sam文件转换成bam文件</span><br>awk <span class="hljs-string">&#x27;&#123;print &quot;samtools sort -o &quot;$2&quot;.bam &quot;$2&quot;.sam&quot;&#125;&#x27;</span> ../data/samples.txt &gt; step3_batch_processing.sh <span class="hljs-comment">#批处理</span><br><span class="hljs-built_in">nohup</span> sh step3_batch_processing.sh &amp; <span class="hljs-comment">#后台运行</span><br></code></pre></td></tr></table></figure><p>转成bam文件后，生成对应的index文件 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">samtools index BLO_S1_LD1.bam <span class="hljs-comment">#生成对应的index文件</span><br>awk <span class="hljs-string">&#x27;&#123;print &quot;samtools index  &quot;$2&quot;.bam &quot;&#125;&#x27;</span> ../data/samples.txt &gt; step4_batch_processing.sh <span class="hljs-comment">#批处理</span><br><span class="hljs-built_in">nohup</span> sh step4_batch_processing.sh &amp; <span class="hljs-comment">#后台运行</span><br></code></pre></td></tr></table></figure></p><p>比对完成后，打开IGV软件，通过load genome from file放入苹果的基因组文件</p><figure><img src="https://s2.loli.net/2024/02/27/rLg7SmZDdhfTqPJ.png"alt="image-20240227205653042" /><figcaption aria-hidden="true">image-20240227205653042</figcaption></figure><p>通过load from file导入gtf文件，同样可以导入bam文件查看比对结果</p><figure><img src="https://s2.loli.net/2024/02/27/WbCH7d4arkEyTXi.png"alt="image-20240227210619290" /><figcaption aria-hidden="true">image-20240227210619290</figcaption></figure><figure><img src="https://s2.loli.net/2024/02/27/wj3CJaoxhnLVtcP.png"alt="image-20240227211029483" /><figcaption aria-hidden="true">image-20240227211029483</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>bioinformatics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git 安装</title>
    <link href="/2023/07/12/Git%20%E5%AE%89%E8%A3%85/"/>
    <url>/2023/07/12/Git%20%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>进入<ahref="https://git-scm.com/downloads">Git的官网</a>，下载最新版的Git客户端，我下载的是windows版本的</p><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222230619423.png"alt="Git官网" /><figcaption aria-hidden="true">Git官网</figcaption></figure><p>选择安装组件，默认是添加两个功能到鼠标右键菜单，GitLFS是大文件支持，后面两个"associate ..."都是关联文件</p><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222230735003.png"alt="安装程序" /><figcaption aria-hidden="true">安装程序</figcaption></figure><p>选择 Git 默认编辑器为Vim</p><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222230846467.png"alt="image-20231222230846467" /><figcaption aria-hidden="true">image-20231222230846467</figcaption></figure><p>决定初始化新项目(仓库)的主干名字</p><p>第一种是让 Git 自己选择，名字是 <code>master</code>，但是未来也有可能会改为其他名字；</p><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222230950244.png"alt="image-20231222230950244" /><figcaption aria-hidden="true">image-20231222230950244</figcaption></figure><h5 id="调整你的-path-环境变量">调整你的 path 环境变量</h5><p>这里直接选择推荐的</p><blockquote><p>Git from the command line and also from 3rd-party software(Recommended) This option adds only some minimal Git wrappers to yourPATH to avoid cluttering your environment with optional Unix tools. Youwill be able to use Git from Git Bash, the Command Prompt and the WindovPowerShell as well as any third-party software looking for Git in PATH.从命令行以及第三方软件进行 Git （推荐）此选项仅将一些最小的 Git包装器添加到PATH中，以避免使用可选的 Unix 工具使环境混乱。 您将能够使用Git Bash 中的 Git，命令提示符和 Windov PowerShell 以及在 PATH 中寻找 Git的任何第三方软件。</p></blockquote><p>能够从 <code>Git Bash</code>，<code>命令提示符(cmd)</code> 和<code>Windows PowerShell</code>以及<code>可以从 Windows 系统环境变量中寻找 Git</code>的任何第三方软件中使用Git。推荐使用这个。</p><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222231023029.png"alt="image-20231222231023029" /><figcaption aria-hidden="true">image-20231222231023029</figcaption></figure><h5 id="选择-ssh-执行文件">选择 SSH 执行文件</h5><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222231102716.png"alt="image-20231222231102716" /><figcaption aria-hidden="true">image-20231222231102716</figcaption></figure><h5 id="选择https后端传输">选择HTTPS后端传输</h5><blockquote><p>use the OpenSSL library Server certificates will be validated usingthe ca-bundle. crt file. 使用 OpenSSL 库 服务器证书将使用 ca-bundle.crt文件进行验证。</p></blockquote><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222231112590.png"alt="image-20231222231112590" /><figcaption aria-hidden="true">image-20231222231112590</figcaption></figure><p>作为普通用户，只是用 Git 来访问 Github、GitLab等网站，选择前者就行了。</p><h5 id="配置行尾符号转换">2.2.10 配置行尾符号转换</h5><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222231125449.png"alt="image-20231222231125449" /><figcaption aria-hidden="true">image-20231222231125449</figcaption></figure><blockquote><p>Checkout Windows-style, commit Unix-style line endings Git willconvert LF to CRLF when checking out text files. When committing textfiles, CRLF will be converted to LF. For cross-platform projects, thisis the recommended setting on Windows("core. autocrif"is set to "true").签出 Windows 样式，提交 Unix 样式的行结尾 Git 签出文本文件时，会将 LF转换为 CRLF。 提交文本文件时，CRLF 将转换为 LF。 对于跨平台项目，这是Windows 上的建议设置（"core.autocrif" 设置为 "true"）。</p></blockquote><p>选择Windows type</p><h5 id="配置终端模拟器以与-git-bash-一起使用">2.2.11 配置终端模拟器以与Git Bash 一起使用</h5><blockquote><p>Use MinTTY(the default terminal of MSYS2) Git Bash will use MinTTY asterminal emulator, which sports a resizable window non-rectangularselections and a Unicode font.Windows console programs(such asinteractive Python) must be launched via 'winpty' to work in MinTTY.使用 MinTTY（MSYS2的默认终端） Git Bash 将使用 MinTTY作为终端仿真器，该仿真器具有可调整大小的窗口非矩形选择和 Unicode 字体。Windows 控制台程序（例如交互式 Python）必须通过 "winpty" 启动才能在MinTTY 中运行。</p></blockquote><p>建议选择第一种，MinTTY <ahref="https://blog.csdn.net/mukes/article/details/115693833#fn3">3</a>功能比cmd 多，cmd 只不过 比 MinTTY 更适合处理 Windows 的一些接口问题，这个对Git 用处不大，除此之外 Windows的默认控制台窗口（<code>cmd</code>）有很多劣势，比如 cmd具有非常有限的默认历史记录回滚堆栈和糟糕的字体编码等等。相比之下，MinTTY具有可调整大小的窗口和其他有用的可配置选项，可以通过右键单击的工具栏来打开它们git-bash 。点击 [next] 到第十二步。</p><figure><img src="https://s2.loli.net/2023/12/24/BDNyqgYWP5urGcL.png"alt="image-20231222231138720" /><figcaption aria-hidden="true">image-20231222231138720</figcaption></figure><h5 id="选择默认的-git-pull-行为">2.2.12 选择默认的 “git pull” 行为</h5><blockquote><p>ODefault(fast-forward or merge) This is the standard behavior ofgitpull": fast-forward the current branch to the fetched branch whenpossible, otherwise create a merge commit. 默认（快进或合并） 这是 "gitpull" 的标准行为：在可能的情况下将 当前分支 快进到获取的分支，否则创建合并提交。</p></blockquote><p>一般默认选择第一项，<code>git rebase</code>绝大部分程序员都用不好或者不懂，而且风险很大，但是很多会用的人也很推崇，但是用不好就是灾难。</p><p>git pull 只是拉取远程分支并与本地分支合并，而 git fetch只是拉取远程分支，怎么合并，选择 merge 还是 rebase ，可以再做选择。</p><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222231147951.png"alt="image-20231222231147951" /><figcaption aria-hidden="true">image-20231222231147951</figcaption></figure><h5 id="选择一个凭证帮助程序">2.2.13 选择一个凭证帮助程序</h5><p>第一个选项是提供<code>登录凭证</code>帮助的，Git有时需要用户的凭据才能执行操作；例如，可能需要输入<code>用户名</code>和<code>密码</code>才能通过HTTP 访问远程存储库（GitHub，GItLab 等等）。</p><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222231156975.png"alt="image-20231222231156975" /><figcaption aria-hidden="true">image-20231222231156975</figcaption></figure><h5 id="配置额外的选项">2.2.14 配置额外的选项</h5><p><code>启用文件系统缓存</code>就是将批量读取文件系统数据并将其缓存在内存中以进行某些操作，可以显著提升性能。这个选项默认开启。<code>启用符号链接</code> ，符号链接是一类特殊的文件，其包含有一条以绝对路径或者相对路径的形式指向其它文件或者目录的<code>引用</code>，类似于Windows 的快捷方式，不完全等同 类Unix（如 Linux） 下的符号链接。因为该功能的支持需要一些<ahref="https://github.com/git-for-windows/git/wiki/Symbolic-Links">条件</a>，所以默认不开启。</p><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222231206136.png"alt="image-20231222231206136" /><figcaption aria-hidden="true">image-20231222231206136</figcaption></figure><h5 id="配置实验性选项">2.2.15 配置实验性选项</h5><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231222231214155.png"alt="image-20231222231214155" /><figcaption aria-hidden="true">image-20231222231214155</figcaption></figure><p>这是实验性功能，可能会有一些小错误之类的，建议不用开启。</p><h4 id="设置git用户名和邮箱">设置Git用户名和邮箱</h4><figure><img src="https://s2.loli.net/2023/12/24/hfZpOW9JF1KoPXr.png"alt="image-20231224151236556" /><figcaption aria-hidden="true">image-20231224151236556</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>软件安装</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>安装Node JS</title>
    <link href="/2023/07/12/Node%20JS%20%E5%AE%89%E8%A3%85/"/>
    <url>/2023/07/12/Node%20JS%20%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231224151659100.png"alt="image-20231224151659100" /><figcaption aria-hidden="true">image-20231224151659100</figcaption></figure><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231224151827213.png"alt="image-20231224151827213" /><figcaption aria-hidden="true">image-20231224151827213</figcaption></figure><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231224151838798.png"alt="image-20231224151838798" /><figcaption aria-hidden="true">image-20231224151838798</figcaption></figure><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231224151914413.png"alt="image-20231224151914413" /><figcaption aria-hidden="true">image-20231224151914413</figcaption></figure><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231224151940458.png"alt="image-20231224151940458" /><figcaption aria-hidden="true">image-20231224151940458</figcaption></figure><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231224151957320.png"alt="image-20231224151957320" /><figcaption aria-hidden="true">image-20231224151957320</figcaption></figure><p>在cmd命令行中执行如下两条命令</p><blockquote><p>npm config set prefix "D:_global" npm config set cache "D:_cache"</p></blockquote><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231224152817441.png"alt="image-20231224152817441" /><figcaption aria-hidden="true">image-20231224152817441</figcaption></figure><h5 id="三修改环境变量">三、修改环境变量</h5><p>上面步骤里更改了npm全局模块的存放路径和cache路径，但是系统还不知道，所以需要修改环境变量。</p><p>1、修改用户变量 <code>path</code>，添加 <code>node_global</code>的路径</p><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231224153058145.png"alt="image-20231224153058145" /><figcaption aria-hidden="true">image-20231224153058145</figcaption></figure><p>2、添加系统变量 <code>NODE_PATH</code></p><figure><imgsrc="C:\Users\brian\AppData\Roaming\Typora\typora-user-images\image-20231224153416267.png"alt="image-20231224153416267" /><figcaption aria-hidden="true">image-20231224153416267</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>bioinformatics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>服务器的初始化</title>
    <link href="/2023/07/11/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96/"/>
    <url>/2023/07/11/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h3 id="在云服务器中访问root权限">在云服务器中访问root权限</h3><p><img src="https://s2.loli.net/2023/09/28/tO7hkf6m2Hb1uyA.png" /></p><p><img src="https://s2.loli.net/2023/09/28/tTiHrku71UQzslV.png" /></p><p><img src="https://s2.loli.net/2023/09/28/Ez9OMiykvNXG1jF.png" /></p><p><img src="https://s2.loli.net/2023/09/28/2xDoPuglpQqIzZf.png" /></p><p><img src="https://s2.loli.net/2023/09/28/7jwQWJUlDzP5odq.png" /></p><p><img src="https://s2.loli.net/2023/09/28/lSzaMJkh2GPHIXW.png" /></p><p><img src="https://s2.loli.net/2023/09/28/F1vqNklORIGn7UM.png" /></p><p><img src="https://s2.loli.net/2023/09/28/XFaD3Wvs4LKI7O2.png" /></p><p>常见命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> <br><span class="hljs-built_in">ls</span> -h 文件大小正常显示<br><span class="hljs-built_in">ls</span> -l 列表显示<br><br>/bin 很多系统软件<br>/etc <br>/home 多用户<br><span class="hljs-built_in">cat</span> .md 查看一个文件<br>less 显示一部分<br><br></code></pre></td></tr></table></figure><h3 id="vim-的使用">vim 的使用</h3><p><code>/</code> 可以用于搜索，使用的方法如下</p><p><img src="https://s2.loli.net/2023/09/28/gjYxfdiblO7VBnW.png" /></p><p>退出使用Q(必须大写)</p><p>如果要进行替换：</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-symbol">:s/tv/cn</span>  替换光标所在行的第一个字符    : s / [ 原字符 ] / [替换字符 ]<br><br><span class="hljs-symbol">:s/tv/cn/g</span> 当前行<br><br><span class="hljs-symbol">:%s/tv/cn</span><br></code></pre></td></tr></table></figure><p>如果要进行简单的观察一个文件的话，可以使用less head tail 命令：<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">less</span> -N 可以显示行号<br><span class="hljs-attribute">less</span> -S 不换行<br><span class="hljs-attribute">head</span> 查看前<span class="hljs-number">10</span>行<br><span class="hljs-attribute">head</span> -n <span class="hljs-number">3</span> 前<span class="hljs-number">3</span>行<br><span class="hljs-attribute">tail</span> 查看后<span class="hljs-number">10</span>行<br><span class="hljs-attribute">sudo</span> apt install <br></code></pre></td></tr></table></figure> 如果是修改一个文件的读写权限：</p><p><code>chmod u+x fastqc  u指的是用户  +x指的是变成可执行</code></p><p>如果要搜索一个软件的时候，可以使用which和whereis <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">which</span> java<br><span class="hljs-built_in">which</span> -a java 所有的<br>whereis java<br></code></pre></td></tr></table></figure></p><h3 id="修改path">修改PATH</h3><p>手动安装软件后，下载软件，把软件安装目录放到PATH，编译，修改执行权限，修改bashrc随后source</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ruby">export <span class="hljs-variable constant_">PATH</span>=<span class="hljs-regexp">/usr/local</span><span class="hljs-regexp">/sbin:/usr</span><span class="hljs-regexp">/local/bin</span><span class="hljs-symbol">:/usr/sbin</span><span class="hljs-symbol">:/usr/bin</span><span class="hljs-symbol">:/sbin</span><span class="hljs-symbol">:/bin</span><span class="hljs-symbol">:/usr/games</span><span class="hljs-symbol">:/usr/local/games</span><span class="hljs-symbol">:/snap/bin</span><br><br>export <span class="hljs-variable constant_">PATH</span>=<span class="hljs-variable">$PATH</span><span class="hljs-symbol">:/</span>新路径<br><br>添加到.bashrc <br><br>source .bashrc <br></code></pre></td></tr></table></figure><p>如果是想自定义命令，可以使用alias：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">alias</span> ll=<span class="hljs-string">&#x27;ls -alF&#x27;</span><br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2023/10/30/rslVmE7R1YjZfKM.png"alt="image-20231030102333681" /><figcaption aria-hidden="true">image-20231030102333681</figcaption></figure><h3 id="安装软件">安装软件</h3><p>对于安装软件，使用apt和conda都存在一点差异： apt需要管理员权限conda不需要管理员权限</p><p>conda</p><figure><img src="https://s2.loli.net/2023/09/28/zjOSV7LHAkmlGhy.png"alt="image-20230712214508550" /><figcaption aria-hidden="true">image-20230712214508550</figcaption></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda3-py38_4.9.2-Linux-x86_64.sh<br><span class="hljs-built_in">chmod</span> u+x Miniconda3-py38_4.9.2-Linux-x86_64.sh<br>./Miniconda3-py38_4.9.2-Linux-x86_64.sh<br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2023/09/28/NfydMvBgm8RciSn.png"alt="image-20230712214924652" /><figcaption aria-hidden="true">image-20230712214924652</figcaption></figure><p>https://blog.csdn.net/weixin_39278265/article/details/118276894</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">bash Miniconda3-py38_23.3.1-0-Linux-x86_64.sh<br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2023/09/28/NyEFc1rvZCH73wl.png"alt="image-20230712215936477" /><figcaption aria-hidden="true">image-20230712215936477</figcaption></figure><figure><img src="https://s2.loli.net/2023/09/28/6ElLSNv3GuszUZr.png"alt="image-20230712220244394" /><figcaption aria-hidden="true">image-20230712220244394</figcaption></figure><figure><img src="https://s2.loli.net/2023/09/28/FnXMIuYxjeGobQc.png"alt="image-20230712220432814" /><figcaption aria-hidden="true">image-20230712220432814</figcaption></figure><p>复制一下miniconda的bin路径，然后添加到地址里，随后source</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">/home/ubuntu/miniconda3/bin<br></code></pre></td></tr></table></figure><figure><img src="https://s2.loli.net/2023/09/28/ZFfk8hPDdIJ7i5e.png"alt="image-20230713204512519" /><figcaption aria-hidden="true">image-20230713204512519</figcaption></figure><p>随后init一下</p><figure><img src="https://s2.loli.net/2023/09/28/VEfpo4vzxqsJXwO.png"alt="image-20230713204649066" /><figcaption aria-hidden="true">image-20230713204649066</figcaption></figure><p>配置channels</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda info<br></code></pre></td></tr></table></figure><p>可以查看condarc的位置</p><figure><img src="https://s2.loli.net/2023/09/28/XaUk3iN2nIo1lef.png"alt="image-20230713214030790" /><figcaption aria-hidden="true">image-20230713214030790</figcaption></figure><p>修改内容：</p><figure><img src="https://s2.loli.net/2023/09/28/9lAmWhn4ydN6Iwz.png"alt="image-20230713214314430" /><figcaption aria-hidden="true">image-20230713214314430</figcaption></figure><p>或者</p><p>https://blog.csdn.net/m_lyxx/article/details/127703118</p><p>修改完condarc后</p><p>可以试一下search 一下</p><p>但是发现killed（2023.07.13）</p><h3 id="vim的复制粘贴">vim的复制粘贴</h3><p>vim-gnome</p><p>https://www.cnblogs.com/The-explosion/p/13381231.html</p><figure><img src="https://s2.loli.net/2023/09/28/vuOiQmgdnaX97pA.png"alt="image-20230810223427050" /><figcaption aria-hidden="true">image-20230810223427050</figcaption></figure>]]></content>
    
    
    
    <tags>
      
      <tag>bioinformatics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>安装linux（Debian）服务器</title>
    <link href="/2023/03/28/%E5%AE%89%E8%A3%85linux%EF%BC%88Debian%EF%BC%89%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <url>/2023/03/28/%E5%AE%89%E8%A3%85linux%EF%BC%88Debian%EF%BC%89%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><strong>安装虚拟机</strong></p><p>本文介绍如何使用<strong>VM WAREworkstation</strong>安装Debian系统，选用的系统版本是<code>Debian 4.19.160-2</code></p><h2 id="虚拟机设置">虚拟机设置</h2><h4 id="首先新建虚拟机">（1）首先新建虚拟机</h4><p><img src="https://s2.loli.net/2023/09/24/3ybjdrYJpaCqUPV.png" /></p><h4 id="选择好安装映像文件">（2）选择好安装映像文件</h4><p><img src="https://s2.loli.net/2023/09/24/R9r6kKzZT3hMxAS.png" /></p><h4 id="命名虚拟机">（3）命名虚拟机</h4><p><img src="https://s2.loli.net/2023/09/24/3YsAfhGnz6aRIS9.png" /></p><h4 id="指定磁盘大小">（3）指定磁盘大小</h4><p><img src="https://s2.loli.net/2023/09/24/VqlfM3vy2RethBI.png" /></p><h4id="我们还需要再自定义设置一下硬件">（4）我们还需要再自定义设置一下硬件</h4><p><img src="https://s2.loli.net/2023/09/24/1wVn4zhGuYAWbmQ.png" /></p><h4id="网络连接模式选择桥接模式">（5）网络连接模式选择<strong>桥接模式</strong></h4><p>桥接模式（BridgeMode）将虚拟机与主机的网络连接在一起，使得虚拟机可以和主机共享同一个网络，并且可以和其他设备（如路由器、交换机等）连接在一起，从而实现虚拟机和其他设备之间的通信<sup id="fnref:1"><a href="#fn:1" rel="footnote"><spanclass="hint--top hint--error hint--medium hint--rounded hint--bounce"aria-label="[虚拟机的桥接模式有何特点？](https://www.zhihu.com/question/39975579)">[1]</span></a></sup></p><p>这样可以像拥有另外一台不同操作系统的电脑一样在局域网中。<sup id="fnref:2"><a href="#fn:2" rel="footnote"><spanclass="hint--top hint--error hint--medium hint--rounded hint--bounce"aria-label="[2021/3/16 “VMware虚拟机网络配置—桥接模式”](https://blog.csdn.net/qq_47354826/article/details/114888325)">[2]</span></a></sup></p><p><img src="https://s2.loli.net/2023/09/24/V9uyD3XkzpYh8W5.png" /></p><h4 id="可以调大一下内存大小">（6）可以调大一下内存大小</h4><p><img src="https://s2.loli.net/2023/09/24/GFyDSc1fulVM3L5.png" /></p><h4 id="新建的虚拟机的配置如下">（7）新建的虚拟机的配置如下：</h4><p>硬盘为了进行生物信息操作，设置到了50GB以上。内存设置到了2GB以上。</p><p><img src="https://s2.loli.net/2023/09/24/54HeDkSPG12WX3z.png" /></p><p>下面进入安装界面.......(此处忽略前面的国家设置和语言设置等等)</p><h2 id="安装界面">安装界面</h2><h4 id="设置hostname">（8）设置Hostname</h4><p><em>在登录Linux系统后中"[root@iloveacm~]"的提示符，其中"@"后面的就是主机名字。</em></p><p><img src="https://s2.loli.net/2023/09/24/qnxO5QleK9SfgDd.png" /></p><h4id="设置domain-name我这里就不设置名字以后暂时用处不大直接空白了">（9）设置<code>Domain name</code>，我这里就不设置名字，以后暂时用处不大，直接空白了</h4><p><em>Debian的Domain name与其他操作系统中的Domainname概念相同。它是一个用于在互联网上标识网站的唯一名称。可以通过域名来访问互联网上的网站和其他资源。例如，"google.com"就是一个域名，代表Google的网站。</em></p><p><img src="https://s2.loli.net/2023/09/24/xFGoSqlXT4ZMpWr.png" /></p><h4 id="设置root用户的密码">（10）设置<code>root</code>用户的密码</h4><p><img src="https://s2.loli.net/2023/09/24/4WTuCOmNntpIMfA.png" /></p><h4id="设置普通用户full-name和username">（11）设置普通用户<code>full name</code>和<code>username</code></h4><p><img src="https://s2.loli.net/2023/09/24/xTc7dfGPsoWXbRu.png" /></p><p><img src="https://s2.loli.net/2023/09/24/zmrEQZ8gJPby2V5.png" /></p><h4 id="为新设置的用户设置密码">(12) 为新设置的用户设置密码</h4><p><img src="https://s2.loli.net/2023/09/24/VxAdNc9MFofeTXy.png" /></p><h4 id="设置时区安装程序会直接网络检测到在中国大陆选择eastern">(13)设置时区，安装程序会直接网络检测到在中国大陆，选择<code>Eastern</code></h4><p><img src="https://s2.loli.net/2023/09/24/HuZCQtyMBbegq9U.png" /></p><h4id="选择分区方法这里选择第一项并且选择分区位置">(14)选择分区方法，这里选择第一项,并且选择分区位置</h4><p>我们作为新手，在这里不设置LVM，下面是对于LVM的一段解释：</p><p>在Debian分区过程中，set LVM意味着您可以使用逻辑卷管理（Logical VolumeManager，简称LVM）来管理磁盘分区。LVM是Linux环境下对磁盘分区进行管理的一种机制，它建立在硬盘和分区之上的一个逻辑层，来提高磁盘分区管理的灵活性<sup id="fnref:3"><a href="#fn:3" rel="footnote"><spanclass="hint--top hint--error hint--medium hint--rounded hint--bounce"aria-label="[什么是LVM](https://www.cnblogs.com/rootarvin/p/4711640.html)">[3]</span></a></sup>。通过使用LVM，系统管理员可以轻松地管理磁盘分区，例如将若干个磁盘分区连接为一个整块存储空间<sup id="fnref:4"><a href="#fn:4" rel="footnote"><spanclass="hint--top hint--error hint--medium hint--rounded hint--bounce"aria-label="[Linux—LVM](https://zhuanlan.zhihu.com/p/112637861)">[4]</span></a></sup>。</p><p><img src="https://s2.loli.net/2023/09/24/hFxvb5HDkVWCTEI.png" /></p><p><img src="https://s2.loli.net/2023/09/24/edp6r1fnINORVz5.png" /></p><h4 id="这里也选择第一项">(15)这里也选择第一项</h4><p>作为新手，一个单独的/分区就可以了，选择<code>use entire disk</code>。</p><p><img src="https://s2.loli.net/2023/09/24/ZPLGrlwgs1ck25K.png" /></p><p><img src="https://s2.loli.net/2023/09/24/GwVkWL2IxbEORTB.png" /></p><h4id="下面安装程序罗列出了你之前进行分区进行的设置这里确认无误就可以选择yes">(16)下面安装程序罗列出了你之前进行分区进行的设置，这里确认无误就可以选择yes</h4><p><img src="https://s2.loli.net/2023/09/24/ZhE2PYUFSDRJKja.png" /></p><h4 id="等待...">(17)等待...</h4><p><img src="https://s2.loli.net/2023/09/24/IiKJF4jRaBv2oEU.png" /></p><h4id="我们不需要在设置其他的cddvd选择no">(18)我们不需要在设置其他的CD/DVD，选择NO</h4><p><img src="https://s2.loli.net/2023/09/24/2eELoMxRI68J3m1.png" /></p><h4 id="这里选择国家">(19)这里选择国家</h4><p><img src="https://s2.loli.net/2023/09/24/k3vGP6D4nRsqjXl.png" /></p><h4 id="这里选择debian服务器镜像">(20)这里选择Debian服务器镜像</h4><p><img src="https://s2.loli.net/2023/09/24/D63NHRauzdwV1hq.png" /></p><h4id="我们不需要网络代理因此不需要填写">(21)我们不需要网络代理，因此不需要填写</h4><p><img src="https://s2.loli.net/2023/09/24/TRIVxU6NirYLj25.png" /></p><h4id="漫长的等待....这个过程非常非常慢">(22)漫长的等待....这个过程非常非常慢</h4><p><img src="https://s2.loli.net/2023/09/24/bAnzQaH65olNd2J.png" /></p><p>我挂起这个镜像然后再重新启动，进度条竟然增快了....</p><p><img src="https://s2.loli.net/2023/09/24/mYy5tIMopEKQF9A.png" /></p><h4id="这里问要不要参与package使用调研选择no">（23）这里问要不要参与package使用调研，选择No</h4><p><img src="https://s2.loli.net/2023/09/24/aRYM6Cg2ctZzkx9.png" /></p><h4id="有些时候网络好会显示openssh的安装这次没有显示出来">（24）有些时候网络好，会显示openssh的安装，这次没有显示出来</h4><p><img src="https://s2.loli.net/2023/09/24/1uiqcPMhzJSAeHm.png" /></p><p><img src="https://s2.loli.net/2023/10/29/d2kOpfzVmKUR6FI.png" /></p><h4 id="这个grub-boot-loader必须要安装">（25）这个GRUB bootloader必须要安装</h4><p><img src="https://s2.loli.net/2023/09/24/pkY6USR1gMo5bVs.png" /></p><h4 id="这里是给grub-loader选择安装路径选择第二项">（26）这里是给GRUBloader选择安装路径，选择第二项</h4><p><img src="https://s2.loli.net/2023/09/24/U5PVqtkJTxHz1I7.png" /></p><h4 id="安装成功了">（27）安装成功了</h4><p><img src="https://s2.loli.net/2023/09/24/ycaBQtxRuS6IE49.png" /></p><h3 id="可能存在的问题远程访问">（可能存在的问题）远程访问</h3><p>本次安装不知道什么原因，安装程序没提供安装<code>ssh-server</code>的选项，所以需要手动安装：</p><p>在开机进入系统后，进入root：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">su<br></code></pre></td></tr></table></figure><p>随后安装:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">apt-get update<br>apt-get install openssh-server<br></code></pre></td></tr></table></figure><p>安装成功后可以远程访问服务器啦。</p><p>系统输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ip addr<br></code></pre></td></tr></table></figure><p>即将显示：</p><p><img src="https://s2.loli.net/2023/09/24/UiJPXYIwbjkAlrh.png" /></p><h3id="可能存在的问题2镜像网络连接问题">（可能存在的问题2）镜像网络连接问题</h3><p><img src="https://s2.loli.net/2023/09/24/pNSmAbd7Ltq96zP.png" /></p><p><img src="https://s2.loli.net/2023/09/24/XVBNCYGtb7WuwKj.png" /></p><p>这个错误可能是由于Debian存档镜像的问题导致的。可以尝试更改Debian存档镜像并重新运行安装程序。以下是一些有关如何更改Debian存档镜像的链接：<ahref="https://mirrors.tuna.tsinghua.edu.cn/help/debian/">清华大学开源软件镜像站</a>和<ahref="https://mirrors.ustc.edu.cn/help/debian.html">USTC MirrorHelp</a>。</p><p><img src="https://s2.loli.net/2023/09/24/na2uk8zUibI1fDw.png" /></p><h2 id="mobaxtern连接虚拟机">Mobaxtern连接虚拟机</h2><h4 id="打开mobaxtern选择session">(1)打开<code>Mobaxtern</code>，选择<code>Session</code></h4><p><img src="https://s2.loli.net/2023/09/24/Ms1ke7Gmqoz54HW.png" /></p><h4id="点击ssh设置远程主机名指定用户名">（2）点击<code>SSH</code>,设置远程主机名，指定用户名</h4><p><img src="https://s2.loli.net/2023/09/24/5PZe1w3VLWAjm9c.png" /></p><h4 id="需要输入密码">（3）需要输入密码</h4><p><img src="https://s2.loli.net/2023/09/24/tnZR1HPA24LOF59.png" /></p><p>随后就进入啦</p><p><img src="https://s2.loli.net/2023/09/24/uUqWANFHGBtnKad.png" /></p><h3 id="filezilla连接方法">FileZilla连接方法</h3><h4 id="进入filezilla选择文件">（1）进入FileZilla，选择文件</h4><p><img src="https://s2.loli.net/2023/09/24/LCq1dIp4POAmxZw.png" /></p><h4 id="选择站点管理器">（2）选择<code>站点管理器</code></h4><p><img src="https://s2.loli.net/2023/09/24/fiCMSg8BcDYT4yE.png" /></p><p><img src="https://s2.loli.net/2023/09/24/QgHxKs1DJtdcpbN.png" /></p><p><img src="https://s2.loli.net/2023/09/24/2cnbY9PyMhrzmXf.png" /></p><p><img src="https://s2.loli.net/2023/09/24/BFQdKtjf7mZDIik.png" /></p><p>这样就可以远程进行文件的访问</p><p><img src="https://s2.loli.net/2023/09/24/Aw9aHNnhyIzXV8K.png" /></p><h2 id="reference">Reference</h2><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><spanstyle="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><spanstyle="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://www.zhihu.com/question/39975579">虚拟机的桥接模式有何特点？</a><a href="#fnref:1" rev="footnote">↩︎</a></span></li><li id="fn:2"><spanstyle="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><spanstyle="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://blog.csdn.net/qq_47354826/article/details/114888325">2021/3/16“VMware虚拟机网络配置—桥接模式”</a><a href="#fnref:2" rev="footnote">↩︎</a></span></li><li id="fn:3"><spanstyle="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">3.</span><spanstyle="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://www.cnblogs.com/rootarvin/p/4711640.html">什么是LVM</a><a href="#fnref:3" rev="footnote">↩︎</a></span></li><li id="fn:4"><spanstyle="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">4.</span><spanstyle="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://zhuanlan.zhihu.com/p/112637861">Linux—LVM</a><a href="#fnref:4" rev="footnote">↩︎</a></span></li></ol></div></div>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>简单blast比对：FAD4-like基因在大豆、拟南芥和芝麻中的比对</title>
    <link href="/2023/02/23/%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E7%9A%84%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%88%86%E6%9E%90/"/>
    <url>/2023/02/23/%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E7%9A%84%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%88%86%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2id="简单blast比对fad4-like基因在大豆拟南芥和芝麻中的比对与进化关系研究">简单blast比对：FAD4-like基因在大豆、拟南芥和芝麻中的比对与进化关系研究</h2><h3 id="研究背景">01 研究背景</h3><p>芝麻油脂含量高，应该存在某一基因控制其油脂合成，将大豆（<em>Glycinemax</em>）、拟南芥（<em>Arabidopsis thaliana</em>）、芝麻（<em>Sesamumindicum</em>）的序列进行比对，寻找芝麻中与油脂合成相关的序列，FAD4-like基因在油脂合成通路中比较重要，因此本次研究芝麻、大豆、拟南芥中FAD4-like基因的进化关系。</p><h3 id="分析">02 分析</h3><h4 id="工作目录">（1）工作目录</h4><p>创建文件夹，并把资料存到工作文件夹<code>FAD4-like</code>中</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> FAD4-like<br>less -S <br><span class="hljs-built_in">cp</span> /home/ubuntu/work/rnaseq-apple-training/linux-basic/DATA/atha.fasta FAD4-like/atha.fasta<br>less -S atha.fasta <span class="hljs-comment">#拟南芥的所有基因</span><br><span class="hljs-built_in">cp</span> /home/ubuntu/work/rnaseq-apple-training/linux-basic/DATA/atha_FAD4.fa atha_FAD4.fa<br>less -S atha_FAD4.fa <span class="hljs-comment">#拟南芥的FAD4基因</span><br><span class="hljs-built_in">cp</span> /home/ubuntu/work/rnaseq-apple-training/linux-basic/DATA/sind.fasta ./ <span class="hljs-comment">#芝麻所有基因</span><br><span class="hljs-built_in">cp</span> /home/ubuntu/work/rnaseq-apple-training/linux-basic/DATA/gmax.fasta ./ <span class="hljs-comment">#大豆基因组</span><br><span class="hljs-built_in">cat</span> atha.fasta gmax.fasta sind.fasta &gt;all.fasta <span class="hljs-comment">#整合拟南芥、大豆、芝麻的序列一起</span><br><br></code></pre></td></tr></table></figure><p>文件夹<code>FAD4-like</code>有以下文件：</p><p><img src="https://s2.loli.net/2024/02/25/wf47tq2YFy9JSZ5.png" /></p><h4 id="参考基因序列">（2）参考基因序列</h4><p>从<ahref="http://aralip.plantbiology.msu.edu/pathways/pathways">油脂基因数据库</a>中寻找拟南芥FAD4-like基因（因为拟南芥被研究得比较透彻）</p><p>拟南芥FAD4-like基因有三条，At1g62190、At2g22890、At4g27030</p><p>将蛋白序列存放在 <code>atha_FAD4.fa</code> 中作为 拟南芥query蛋白序列</p><figure><img src="https://s2.loli.net/2023/09/28/7un5y6VmvDI8fYM.png"alt="拟南芥query序列" /><figcaption aria-hidden="true">拟南芥query序列</figcaption></figure><p>查看拟南芥中3条FAD4-like基因蛋白序列</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs base">(base) brianyjh@debian:~/rnaseq_data/rnaseq-apple-training/FAD4-like$ cat atha_FAD4.fa<br>&gt;atha|AT1G62190.1<br>MAVSFQTKNPLRPITNIPRSYGPTRVRVTCSVTTTNPQLNHENLVVEKRLVNPPLSKNNDPTLQSTWTHRLWVAAGSTTIFASFAKSIIGGFGSHLWLQPALACYAGYVFADLGSGVYHWAIDNYGGASTPIVGAQLEASQGHHKYPWTITKRQFANNSYTIARAITFIVLPLNLAINNPLFHSFVSTFAFCILLSQQFHAWAHGTKSKLPPLVMALQDMGLLVSRKDHPGHHQAPYNSNYCVVSGAWNKVLDESNLFKALEMALFFQFGVRPNSWNEPNSDWTEETETNFFTKI<br>&gt;atha|AT2G22890.1<br>MATSLQTKYTLNPITNNIPRSHRPSFLRVTSTTNSQPNHEMKLVVEQRLVNPPLSNDPTLQSTWTHRLWVAAGCTTVFVSFSKSIIGAFGSHLWLEPSLAGFAGYILADLGSGVYHWATDNYGDESTPLVGIHIEDSQDHHKCPWTITKRQFANNLHFMARGTTLIVLPLDLAFDDHVVHGFVSMFAFCVLFCQLFHAWAHGTKSKLPPLVVGLQDIGLLVSRIHHMNHHRAPYNNNYCVVSGVWNKVLDESNVFKAMEMVLYIQLGVRPRSWTEPNYE<br>&gt;atha|AT4G27030.1<br>MAVSLPTKYPLRPITNIPKSHRPSLLRVRVTCSVTTTKPQPNREKLLVEQRTVNLPLSNDQSLQSTKPRPNREKLVVEQRLASPPLSNDPTLKSTWTHRLWVAAGCTTLFVSLAKSVIGGFDSHLCLEPALAGYAGYILADLGSGVYHWAIDNYGDESTPVVGTQIEAFQGHHKWPWTITRRQFANNLHALAQVITFTVLPLDLAFNDPVFHGFVCTFAFCILFSQQFHAWAHGTKSKLPPLVVALQDMGLLVSRRQHAEHHRAPYNNNYCIVSGAWNNVLDESKVFEALEMVFYFQLGVRPRSWSEPNSDWIEETEISNNQA<br><br></code></pre></td></tr></table></figure><p><em>注：这里的序列id的写法：<code>AT4G27030.1</code>中AT4G27030是基因id，“.1”是转录本</em></p><p>此时已有拟南芥FAD4-like基因，如果从大豆或芝麻中找到对应相似的基因，常见两种方法：</p><p>一个是基于blast比对，一个是基于结构域，常常二者结合比较严谨</p><p>这里使用blast比对将拟南芥的FAD4基因家族分别与大豆和芝麻中做比对，寻找匹配度比较高的序列</p><h4 id="blast数据库构建">（3）blast数据库构建</h4><p>1.首先构建blast数据库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">makeblastdb -dbtype prot  -<span class="hljs-keyword">in</span> all.fasta -out all<br></code></pre></td></tr></table></figure><blockquote><p><code>-dbtype</code> 数据类型，核酸或者蛋白prot</p></blockquote><p>这里<code>all.fasta</code>也包含拟南芥序列，已经验证后续blast比对的参数是正确的。</p><p><img src="https://s2.loli.net/2023/09/28/OhGs8IXKlubNLHy.png" /></p><p>得到结果，生成一些数据库文件</p><p><img src="https://s2.loli.net/2024/02/25/aAGlL4geDQVO3bc.png" /></p><h4 id="blast比对">（4）blast比对</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">blastp -query atha_FAD4.fa -db all -out blast.out -evalue 1e-20 -outfmt 7<br></code></pre></td></tr></table></figure><blockquote><p><code>-query</code> 输入数据</p><p><code>-db</code> 把刚才生成的数据库名称写上（这里是all</p><p><code>-evalue</code> 把e-value设置成<spanclass="math inline">\(1^{-10}\)</span></p><p><code>-outfmt</code> 7 = Tabular with comment lines,带注释信息的表格</p></blockquote><p>查看比对结果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">less -S blast.out<br></code></pre></td></tr></table></figure><p>结果：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># Database: all</span><br><span class="hljs-comment"># Fields: query acc., subject acc., % identity, alignment length, mismatches, gap opens, q. start, q. end, s. start, s. end, evalue, bit score</span><br><span class="hljs-comment"># 10 hits found</span><br><span class="hljs-attribute">atha</span>|AT1G62190.<span class="hljs-number">1</span>        atha|AT1G62190.<span class="hljs-number">1</span>        <span class="hljs-number">100</span>.<span class="hljs-number">000</span> <span class="hljs-number">295</span>     <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">1</span>       <span class="hljs-number">295</span>     <span class="hljs-number">1</span>       <span class="hljs-number">295</span>     <span class="hljs-number">0</span>.<span class="hljs-number">0</span>     <span class="hljs-number">613</span><br><span class="hljs-attribute">atha</span>|AT1G62190.<span class="hljs-number">1</span>        atha|AT4G27030.<span class="hljs-number">1</span>        <span class="hljs-number">68</span>.<span class="hljs-number">770</span>  <span class="hljs-number">317</span>     <span class="hljs-number">70</span>      <span class="hljs-number">2</span>       <span class="hljs-number">1</span>       <span class="hljs-number">288</span>     <span class="hljs-number">1</span>       <span class="hljs-number">317</span>     <span class="hljs-number">1</span>.<span class="hljs-number">82</span>e-<span class="hljs-number">160</span>       <span class="hljs-number">451</span><br><span class="hljs-attribute">atha</span>|AT1G62190.<span class="hljs-number">1</span>        atha|AT2G22890.<span class="hljs-number">1</span>        <span class="hljs-number">70</span>.<span class="hljs-number">775</span>  <span class="hljs-number">284</span>     <span class="hljs-number">76</span>      <span class="hljs-number">4</span>       <span class="hljs-number">1</span>       <span class="hljs-number">282</span>     <span class="hljs-number">1</span>       <span class="hljs-number">279</span>     <span class="hljs-number">2</span>.<span class="hljs-number">33</span>e-<span class="hljs-number">144</span>       <span class="hljs-number">408</span><br><span class="hljs-attribute">atha</span>|AT1G62190.<span class="hljs-number">1</span>        gmax|KRG98807   <span class="hljs-number">54</span>.<span class="hljs-number">861</span>  <span class="hljs-number">288</span>     <span class="hljs-number">121</span>     <span class="hljs-number">1</span>       <span class="hljs-number">11</span>      <span class="hljs-number">289</span>     <span class="hljs-number">15</span>      <span class="hljs-number">302</span>     <span class="hljs-number">2</span>.<span class="hljs-number">15</span>e-<span class="hljs-number">113</span>       <span class="hljs-number">331</span><br><span class="hljs-attribute">atha</span>|AT1G62190.<span class="hljs-number">1</span>        gmax|KRH46136   <span class="hljs-number">55</span>.<span class="hljs-number">160</span>  <span class="hljs-number">281</span>     <span class="hljs-number">106</span>     <span class="hljs-number">3</span>       <span class="hljs-number">27</span>      <span class="hljs-number">289</span>     <span class="hljs-number">28</span>      <span class="hljs-number">306</span>     <span class="hljs-number">2</span>.<span class="hljs-number">10</span>e-<span class="hljs-number">111</span>       <span class="hljs-number">326</span><br><span class="hljs-attribute">atha</span>|AT1G62190.<span class="hljs-number">1</span>        sind|SIN_1014454        <span class="hljs-number">50</span>.<span class="hljs-number">336</span>  <span class="hljs-number">298</span>     <span class="hljs-number">120</span>     <span class="hljs-number">4</span>       <span class="hljs-number">1</span>       <span class="hljs-number">290</span>     <span class="hljs-number">1</span>       <span class="hljs-number">278</span>     <span class="hljs-number">6</span>.<span class="hljs-number">80</span>e-<span class="hljs-number">102</span>       <span class="hljs-number">301</span><br><span class="hljs-attribute">atha</span>|AT1G62190.<span class="hljs-number">1</span>        sind|SIN_1005002        <span class="hljs-number">47</span>.<span class="hljs-number">737</span>  <span class="hljs-number">243</span>     <span class="hljs-number">122</span>     <span class="hljs-number">1</span>       <span class="hljs-number">51</span>      <span class="hljs-number">288</span>     <span class="hljs-number">10</span>      <span class="hljs-number">252</span>     <span class="hljs-number">1</span>.<span class="hljs-number">26</span>e-<span class="hljs-number">79</span>        <span class="hljs-number">243</span><br><span class="hljs-attribute">atha</span>|AT1G62190.<span class="hljs-number">1</span>        sind|SIN_1005003        <span class="hljs-number">51</span>.<span class="hljs-number">598</span>  <span class="hljs-number">219</span>     <span class="hljs-number">105</span>     <span class="hljs-number">1</span>       <span class="hljs-number">65</span>      <span class="hljs-number">282</span>     <span class="hljs-number">26</span>      <span class="hljs-number">244</span>     <span class="hljs-number">1</span>.<span class="hljs-number">33</span>e-<span class="hljs-number">76</span>        <span class="hljs-number">235</span><br><span class="hljs-attribute">atha</span>|AT1G62190.<span class="hljs-number">1</span>        sind|SIN_1004729        <span class="hljs-number">42</span>.<span class="hljs-number">060</span>  <span class="hljs-number">233</span>     <span class="hljs-number">104</span>     <span class="hljs-number">2</span>       <span class="hljs-number">56</span>      <span class="hljs-number">283</span>     <span class="hljs-number">16</span>      <span class="hljs-number">222</span>     <span class="hljs-number">1</span>.<span class="hljs-number">56</span>e-<span class="hljs-number">57</span>        <span class="hljs-number">186</span><br><span class="hljs-attribute">atha</span>|AT1G62190.<span class="hljs-number">1</span>        sind|SIN_1005004        <span class="hljs-number">47</span>.<span class="hljs-number">794</span>  <span class="hljs-number">136</span>     <span class="hljs-number">70</span>      <span class="hljs-number">1</span>       <span class="hljs-number">147</span>     <span class="hljs-number">282</span>     <span class="hljs-number">74</span>      <span class="hljs-number">208</span>     <span class="hljs-number">2</span>.<span class="hljs-number">89</span>e-<span class="hljs-number">35</span>        <span class="hljs-number">127</span><br><span class="hljs-comment"># BLASTP 2.5.0+</span><br><span class="hljs-comment"># Query: atha|AT2G22890.1</span><br><span class="hljs-comment"># Database: all</span><br><span class="hljs-comment"># Fields: query acc., subject acc., % identity, alignment length, mismatches, gap opens, q. start, q. end, s. start, s. end, evalue, bit score</span><br><span class="hljs-comment"># 10 hits found</span><br><span class="hljs-attribute">atha</span>|AT2G22890.<span class="hljs-number">1</span>        atha|AT2G22890.<span class="hljs-number">1</span>        <span class="hljs-number">100</span>.<span class="hljs-number">000</span> <span class="hljs-number">279</span>     <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">1</span>       <span class="hljs-number">279</span>     <span class="hljs-number">1</span>       <span class="hljs-number">279</span>     <span class="hljs-number">0</span>.<span class="hljs-number">0</span>     <span class="hljs-number">582</span><br><span class="hljs-attribute">atha</span>|AT2G22890.<span class="hljs-number">1</span>        atha|AT4G27030.<span class="hljs-number">1</span>        <span class="hljs-number">68</span>.<span class="hljs-number">269</span>  <span class="hljs-number">312</span>     <span class="hljs-number">65</span>      <span class="hljs-number">3</span>       <span class="hljs-number">1</span>       <span class="hljs-number">279</span>     <span class="hljs-number">1</span>       <span class="hljs-number">311</span>     <span class="hljs-number">9</span>.<span class="hljs-number">74</span>e-<span class="hljs-number">152</span>       <span class="hljs-number">428</span><br><span class="hljs-attribute">atha</span>|AT2G22890.<span class="hljs-number">1</span>        atha|AT1G62190.<span class="hljs-number">1</span>        <span class="hljs-number">70</span>.<span class="hljs-number">775</span>  <span class="hljs-number">284</span>     <span class="hljs-number">76</span>      <span class="hljs-number">4</span>       <span class="hljs-number">1</span>       <span class="hljs-number">279</span>     <span class="hljs-number">1</span>       <span class="hljs-number">282</span>     <span class="hljs-number">2</span>.<span class="hljs-number">20</span>e-<span class="hljs-number">144</span>       <span class="hljs-number">408</span><br><span class="hljs-attribute">atha</span>|AT2G22890.<span class="hljs-number">1</span>        gmax|KRG98807   <span class="hljs-number">59</span>.<span class="hljs-number">925</span>  <span class="hljs-number">267</span>     <span class="hljs-number">96</span>      <span class="hljs-number">2</span>       <span class="hljs-number">24</span>      <span class="hljs-number">279</span>     <span class="hljs-number">29</span>      <span class="hljs-number">295</span>     <span class="hljs-number">5</span>.<span class="hljs-number">88</span>e-<span class="hljs-number">113</span>       <span class="hljs-number">329</span><br><span class="hljs-attribute">atha</span>|AT2G22890.<span class="hljs-number">1</span>        gmax|KRH46136   <span class="hljs-number">56</span>.<span class="hljs-number">000</span>  <span class="hljs-number">300</span>     <span class="hljs-number">110</span>     <span class="hljs-number">4</span>       <span class="hljs-number">1</span>       <span class="hljs-number">279</span>     <span class="hljs-number">1</span>       <span class="hljs-number">299</span>     <span class="hljs-number">3</span>.<span class="hljs-number">70</span>e-<span class="hljs-number">112</span>       <span class="hljs-number">327</span><br><span class="hljs-attribute">atha</span>|AT2G22890.<span class="hljs-number">1</span>        sind|SIN_1014454        <span class="hljs-number">56</span>.<span class="hljs-number">627</span>  <span class="hljs-number">249</span>     <span class="hljs-number">84</span>      <span class="hljs-number">3</span>       <span class="hljs-number">36</span>      <span class="hljs-number">279</span>     <span class="hljs-number">41</span>      <span class="hljs-number">270</span>     <span class="hljs-number">3</span>.<span class="hljs-number">24</span>e-<span class="hljs-number">97</span>        <span class="hljs-number">288</span><br><span class="hljs-attribute">atha</span>|AT2G22890.<span class="hljs-number">1</span>        sind|SIN_1005002        <span class="hljs-number">49</span>.<span class="hljs-number">784</span>  <span class="hljs-number">231</span>     <span class="hljs-number">111</span>     <span class="hljs-number">2</span>       <span class="hljs-number">54</span>      <span class="hljs-number">279</span>     <span class="hljs-number">16</span>      <span class="hljs-number">246</span>     <span class="hljs-number">1</span>.<span class="hljs-number">17</span>e-<span class="hljs-number">75</span>        <span class="hljs-number">232</span><br><span class="hljs-attribute">atha</span>|AT2G22890.<span class="hljs-number">1</span>        sind|SIN_1005003        <span class="hljs-number">48</span>.<span class="hljs-number">148</span>  <span class="hljs-number">216</span>     <span class="hljs-number">111</span>     <span class="hljs-number">1</span>       <span class="hljs-number">62</span>      <span class="hljs-number">276</span>     <span class="hljs-number">26</span>      <span class="hljs-number">241</span>     <span class="hljs-number">2</span>.<span class="hljs-number">15</span>e-<span class="hljs-number">71</span>        <span class="hljs-number">221</span><br><span class="hljs-attribute">atha</span>|AT2G22890.<span class="hljs-number">1</span>        sind|SIN_1004729        <span class="hljs-number">40</span>.<span class="hljs-number">179</span>  <span class="hljs-number">224</span>     <span class="hljs-number">103</span>     <span class="hljs-number">3</span>       <span class="hljs-number">61</span>      <span class="hljs-number">279</span>     <span class="hljs-number">24</span>      <span class="hljs-number">221</span>     <span class="hljs-number">8</span>.<span class="hljs-number">03</span>e-<span class="hljs-number">52</span>        <span class="hljs-number">171</span><br><span class="hljs-attribute">atha</span>|AT2G22890.<span class="hljs-number">1</span>        sind|SIN_1005004        <span class="hljs-number">44</span>.<span class="hljs-number">853</span>  <span class="hljs-number">136</span>     <span class="hljs-number">74</span>      <span class="hljs-number">1</span>       <span class="hljs-number">144</span>     <span class="hljs-number">279</span>     <span class="hljs-number">74</span>      <span class="hljs-number">208</span>     <span class="hljs-number">5</span>.<span class="hljs-number">89</span>e-<span class="hljs-number">32</span>        <span class="hljs-number">119</span><br><span class="hljs-comment"># BLASTP 2.5.0+</span><br><span class="hljs-comment"># Query: atha|AT4G27030.1</span><br><span class="hljs-comment"># Database: all</span><br><span class="hljs-comment"># Fields: query acc., subject acc., % identity, alignment length, mismatches, gap opens, q. start, q. end, s. start, s. end, evalue, bit score</span><br><span class="hljs-comment"># 10 hits found</span><br><span class="hljs-attribute">atha</span>|AT4G27030.<span class="hljs-number">1</span>        atha|AT4G27030.<span class="hljs-number">1</span>        <span class="hljs-number">100</span>.<span class="hljs-number">000</span> <span class="hljs-number">323</span>     <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">1</span>       <span class="hljs-number">323</span>     <span class="hljs-number">1</span>       <span class="hljs-number">323</span>     <span class="hljs-number">0</span>.<span class="hljs-number">0</span>     <span class="hljs-number">672</span><br><span class="hljs-attribute">atha</span>|AT4G27030.<span class="hljs-number">1</span>        atha|AT1G62190.<span class="hljs-number">1</span>        <span class="hljs-number">68</span>.<span class="hljs-number">652</span>  <span class="hljs-number">319</span>     <span class="hljs-number">67</span>      <span class="hljs-number">3</span>       <span class="hljs-number">1</span>       <span class="hljs-number">317</span>     <span class="hljs-number">1</span>       <span class="hljs-number">288</span>     <span class="hljs-number">2</span>.<span class="hljs-number">32</span>e-<span class="hljs-number">159</span>       <span class="hljs-number">448</span><br><span class="hljs-attribute">atha</span>|AT4G27030.<span class="hljs-number">1</span>        atha|AT2G22890.<span class="hljs-number">1</span>        <span class="hljs-number">68</span>.<span class="hljs-number">269</span>  <span class="hljs-number">312</span>     <span class="hljs-number">65</span>      <span class="hljs-number">3</span>       <span class="hljs-number">1</span>       <span class="hljs-number">311</span>     <span class="hljs-number">1</span>       <span class="hljs-number">279</span>     <span class="hljs-number">1</span>.<span class="hljs-number">13</span>e-<span class="hljs-number">151</span>       <span class="hljs-number">428</span><br><span class="hljs-attribute">atha</span>|AT4G27030.<span class="hljs-number">1</span>        gmax|KRG98807   <span class="hljs-number">62</span>.<span class="hljs-number">126</span>  <span class="hljs-number">301</span>     <span class="hljs-number">94</span>      <span class="hljs-number">3</span>       <span class="hljs-number">19</span>      <span class="hljs-number">317</span>     <span class="hljs-number">19</span>      <span class="hljs-number">301</span>     <span class="hljs-number">7</span>.<span class="hljs-number">04</span>e-<span class="hljs-number">133</span>       <span class="hljs-number">382</span><br><span class="hljs-attribute">atha</span>|AT4G27030.<span class="hljs-number">1</span>        gmax|KRH46136   <span class="hljs-number">64</span>.<span class="hljs-number">906</span>  <span class="hljs-number">265</span>     <span class="hljs-number">80</span>      <span class="hljs-number">1</span>       <span class="hljs-number">66</span>      <span class="hljs-number">317</span>     <span class="hljs-number">41</span>      <span class="hljs-number">305</span>     <span class="hljs-number">3</span>.<span class="hljs-number">69</span>e-<span class="hljs-number">130</span>       <span class="hljs-number">375</span><br><span class="hljs-attribute">atha</span>|AT4G27030.<span class="hljs-number">1</span>        sind|SIN_1014454        <span class="hljs-number">57</span>.<span class="hljs-number">994</span>  <span class="hljs-number">319</span>     <span class="hljs-number">85</span>      <span class="hljs-number">9</span>       <span class="hljs-number">1</span>       <span class="hljs-number">315</span>     <span class="hljs-number">1</span>       <span class="hljs-number">274</span>     <span class="hljs-number">9</span>.<span class="hljs-number">96</span>e-<span class="hljs-number">118</span>       <span class="hljs-number">342</span><br><span class="hljs-attribute">atha</span>|AT4G27030.<span class="hljs-number">1</span>        sind|SIN_1005002        <span class="hljs-number">52</span>.<span class="hljs-number">586</span>  <span class="hljs-number">232</span>     <span class="hljs-number">105</span>     <span class="hljs-number">2</span>       <span class="hljs-number">86</span>      <span class="hljs-number">312</span>     <span class="hljs-number">16</span>      <span class="hljs-number">247</span>     <span class="hljs-number">4</span>.<span class="hljs-number">65</span>e-<span class="hljs-number">84</span>        <span class="hljs-number">255</span><br><span class="hljs-attribute">atha</span>|AT4G27030.<span class="hljs-number">1</span>        sind|SIN_1005003        <span class="hljs-number">54</span>.<span class="hljs-number">751</span>  <span class="hljs-number">221</span>     <span class="hljs-number">95</span>      <span class="hljs-number">2</span>       <span class="hljs-number">94</span>      <span class="hljs-number">311</span>     <span class="hljs-number">26</span>      <span class="hljs-number">244</span>     <span class="hljs-number">2</span>.<span class="hljs-number">17</span>e-<span class="hljs-number">78</span>        <span class="hljs-number">241</span><br><span class="hljs-attribute">atha</span>|AT4G27030.<span class="hljs-number">1</span>        sind|SIN_1004729        <span class="hljs-number">42</span>.<span class="hljs-number">222</span>  <span class="hljs-number">225</span>     <span class="hljs-number">99</span>      <span class="hljs-number">2</span>       <span class="hljs-number">93</span>      <span class="hljs-number">312</span>     <span class="hljs-number">24</span>      <span class="hljs-number">222</span>     <span class="hljs-number">6</span>.<span class="hljs-number">35</span>e-<span class="hljs-number">57</span>        <span class="hljs-number">185</span><br><span class="hljs-attribute">atha</span>|AT4G27030.<span class="hljs-number">1</span>        sind|SIN_1005004        <span class="hljs-number">53</span>.<span class="hljs-number">788</span>  <span class="hljs-number">132</span>     <span class="hljs-number">60</span>      <span class="hljs-number">1</span>       <span class="hljs-number">180</span>     <span class="hljs-number">311</span>     <span class="hljs-number">78</span>      <span class="hljs-number">208</span>     <span class="hljs-number">5</span>.<span class="hljs-number">63</span>e-<span class="hljs-number">38</span>        <span class="hljs-number">135</span><br><span class="hljs-comment"># BLAST processed 3 queries</span><br><br></code></pre></td></tr></table></figure><h4 id="提取结果">（5）提取结果</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -v  <span class="hljs-string">&quot;#&quot;</span> blast.out &gt;blast2.out <span class="hljs-comment">#去掉#号</span><br><br>awk <span class="hljs-string">&#x27;$3&gt;50 &amp;&amp; $11&lt;1e-30 &#123;print $2&#125;&#x27;</span> blast2.out &gt;blast3.out<br><span class="hljs-comment">#综合上面的代码</span><br>grep -v <span class="hljs-string">&quot;#&quot;</span> blast.out | awk <span class="hljs-string">&#x27;$3&gt;50 &amp;&amp; $11&lt;1e-30&#123;print $2&#125;&#x27;</span> |<span class="hljs-built_in">sort</span>|<span class="hljs-built_in">uniq</span> &gt;protein_ids.txt <span class="hljs-comment"># 第3列是identity，筛选大于50，第11列是e-value，小于30 ，   print $2把id输出来，先进行排序再合并</span><br></code></pre></td></tr></table></figure><ul><li>根据蛋白id 提取蛋白序列</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">seqtk subseq all.fasta protein_ids.txt &gt; FAD4-like.fasta<br></code></pre></td></tr></table></figure><blockquote><p>seqtk subseq [options]&lt;in.fa&gt; &lt;in.bed&gt;&lt;name.list&gt;</p></blockquote><p>到FileZilla把文件下载下来</p><p>然后放到MEGA里面进行比对</p><p><img src="https://s2.loli.net/2023/09/28/fHMhqBWSaK2xjst.png" /></p><p><img src="https://s2.loli.net/2023/09/28/EfLrHTSXC1qngZy.png" /></p><p>多序列比对</p><p><img src="https://s2.loli.net/2023/09/28/NK97Hk4gsZ2UaQC.png" /></p><p>选择clust 或者 muscle</p><p><img src="https://s2.loli.net/2023/09/28/g2u7WI6hno8mGD3.png" /></p><p>然后做进化树分析</p><p><img src="https://s2.loli.net/2023/09/28/4vJ28MsutpGX1n7.png" /></p><p>这里使用最大似然分析或者NJ法</p><p><img src="https://s2.loli.net/2023/09/28/umjBSRCt8aLoc35.png" /></p><p><img src="https://s2.loli.net/2023/09/28/4w5HPxgWzMpRnO9.png" /></p><p><img src="https://s2.loli.net/2023/09/28/Vulka3HewBpZUyc.png" /></p><p>修改拓扑结构</p><p><img src="https://s2.loli.net/2023/09/28/ix3FdLevyP5swGI.png" /></p><p>还可以调整颜色</p><p><img src="https://s2.loli.net/2023/09/28/TNaJq4QDPcbSR7n.png" /></p><h3 id="结果">03 结果</h3><p>进化树显示芝麻FAD4-like基因有4个拷贝。拷贝数是否与油脂含量高相关，需进一步验证。</p>]]></content>
    
    
    
    <tags>
      
      <tag>bioinformatics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>线性模型</title>
    <link href="/2022/12/22/%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/"/>
    <url>/2022/12/22/%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="前言">前言</h1><p>这周我们参考的是<em>《机器学习实战：基于Scikit-Learn、Keras和TensorFlow》</em>第四章的内容，进行对于线性模型问题的探讨，本文你将学会的知识：</p><ol type="1"><li>机器学习中（其他）适用于分类的性能度量方法</li><li>多分类策略</li><li>涉及多分类问题的性能度量</li><li>多标签与多输出分类</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>分类问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>机器学习中的分类问题</title>
    <link href="/2022/10/29/20221029/"/>
    <url>/2022/10/29/20221029/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="前言">前言</h1><p>这周我们参考的是<em>《机器学习实战：基于Scikit-Learn、Keras和TensorFlow》</em>第三章的内容，进行对于分类问题的探讨，本文你将学会的知识：</p><ol type="1"><li>机器学习中（其他）适用于分类的性能度量方法</li><li>多分类策略</li><li>涉及多分类问题的性能度量</li><li>多标签与多输出分类</li></ol><h1 id="mnist数据集二分类">mnist数据集(二分类)</h1><p>我们本次训练的数据是著名的mnist数据集，从<code>mnist.keys()</code>我们可以看到其包含的内容</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> fetch_openml<br>mnist = fetch_openml(<span class="hljs-string">&#x27;mnist_784&#x27;</span>,version=<span class="hljs-number">1</span>,as_frame=<span class="hljs-literal">False</span>)<br>mnist.keys()<br><span class="hljs-comment">#dict_keys([&#x27;data&#x27;, &#x27;target&#x27;, &#x27;frame&#x27;, &#x27;categories&#x27;, &#x27;feature_names&#x27;, &#x27;target_names&#x27;, &#x27;DESCR&#x27;, &#x27;details&#x27;, &#x27;url&#x27;])</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">X, y =mnist[<span class="hljs-string">&#x27;data&#x27;</span>],mnist[<span class="hljs-string">&#x27;target&#x27;</span>]<br>X.shape<br><span class="hljs-comment"># (70000, 784)</span><br></code></pre></td></tr></table></figure><blockquote><p>mnist数据集的基本信息</p><p>mnist数据集是NIST（National Institute of Standards andTechnology，美国国家标准与技术研究所）数据集的一个子集</p><p>使用<code>mnist.keys()</code>返回9个<code>key</code>名字</p><p>data：图片数据</p><p>target：图片对应的字</p><p>frame: NoneType</p><p>categories:无</p><p>feature_names：数据集每个特征名字</p><p>target_names：target数据的名称</p><p>DESCR：来源信息</p><p>details：详细信息</p><p>url：数据集网站</p><p>7万张图片，每张图片28×28=784个特征，每个特征代表了每个像素点的强度，从0到255</p></blockquote><h2 id="划分数据">划分数据</h2><p>mnist数据集实际上已经将数据进行了合理的划分——前60000个数据为训练集，后面的是测试集</p><p>我们进行二元分类，模型用于判断是否是5</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">X_train, X_test, y_train, y_test =X[:<span class="hljs-number">60000</span>],X[<span class="hljs-number">60000</span>:], y[:<span class="hljs-number">60000</span>], y[<span class="hljs-number">60000</span>:]<br>y_train_5 = (y_train ==<span class="hljs-number">5</span>)<br>y_test_5 = (y_test==<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><h2 id="sgd分类">SGD分类</h2><p>在这里我们构建SGDclassify分类器，</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span>  sklearn.linear_model <span class="hljs-keyword">import</span> SGDClassifier<br><br>sgd_clf = SGDClassifier(random_state=<span class="hljs-number">42</span>)<br>sgd_clf.fit(X_train,y_train_5)<br><span class="hljs-comment"># SGDclassify Stochastic Gradient Descent 梯度下降分类</span><br></code></pre></td></tr></table></figure><h3 id="交叉验证">交叉验证</h3><p>在这里，我们使用3折交叉验证度量模型的性能，</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_score<br>cross_val_score(sgd_clf,X_train,y_train_5,cv=<span class="hljs-number">3</span>,scoring=<span class="hljs-string">&#x27;accuracy&#x27;</span>)<br><span class="hljs-comment"># array([0.95035, 0.96035, 0.9604 ])</span><br></code></pre></td></tr></table></figure><p>这里返回3折交叉验证的准确率得分，我们可以看到都大于95%</p><p>但是mnist只有一小部分的图片是数字5，因此造成了非常严重的<strong>数据不均衡问题</strong></p><p>我们可以从下面一个例子进行验证</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.base <span class="hljs-keyword">import</span> BaseEstimator<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Never5Classifer</span>(<span class="hljs-title class_ inherited__">BaseEstimator</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fit</span>(<span class="hljs-params">self,X,y=<span class="hljs-literal">None</span></span>):<br>        <span class="hljs-keyword">pass</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">predict</span>(<span class="hljs-params">self,X</span>):<br>        <span class="hljs-keyword">return</span> np.zeros((<span class="hljs-built_in">len</span>(X),<span class="hljs-number">1</span>),dtype=<span class="hljs-built_in">bool</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">never_5_clf =Never5Classifer()<br>cross_val_score(never_5_clf,X_train,y_train_5,cv=<span class="hljs-number">3</span>,scoring=<span class="hljs-string">&#x27;accuracy&#x27;</span>)<br><span class="hljs-comment">#array([0.91125, 0.90855, 0.90915])</span><br></code></pre></td></tr></table></figure><p>在上面的例子中，我们构建了一个永远只输出<code>False</code>的模型<code>never_5_clf</code>，即便是只输出<code>False</code>，我们可以发现准确率仍然是0.90以上。</p><p>因此此前使用准确率对模型性能进行判断不能说明模型有多好。</p><p>因此我们再会尝试使用<strong>混淆矩阵</strong>进行性能评估</p><h3 id="混淆矩阵">混淆矩阵</h3><p><strong>混淆矩阵</strong>ConfusionMatrix也称误差矩阵，是表示精度评价的一种标准格式，用n行n列的矩阵形式来表示<sup id="fnref:1"><a href="#fn:1" rel="footnote"><spanclass="hint--top hint--error hint--medium hint--rounded hint--bounce"aria-label=" [机器学习笔记： 混淆矩阵](https://blog.csdn.net/seagal890/article/details/105059498)">[1]</span></a></sup></p><p>在图像精度评价中，主要用于比较分类结果和实际测得值，可以把分类结果的精度显示在一个混淆矩阵里面。</p><p>混淆矩阵的结构一般如下图表示的方法。</p><p>混淆矩阵要表达的含义：</p><ul><li>混淆矩阵的每一列代表了预测类别，每一列的总数表示预测为该类别的数据的数目；</li><li>每一行代表了数据的真实归属类别，每一行的数据总数表示该类别的数据实例的数目；每一列中的数值表示真实数据被预测为该类的数目。</li></ul><p>TruePositive（TP）：真正类。样本的真实类别是正类，并且模型识别的结果也是正类。</p><p>FalseNegative（FN）：假负类。样本的真实类别是正类，但是模型将其识别为负类。</p><p>FalsePositive（FP）：假正类。样本的真实类别是负类，但是模型将其识别为正类。</p><p>TrueNegative（TN）：真负类。样本的真实类别是负类，并且模型将其识别为负类。</p><p>该矩阵可用于易于理解的二类分类问题，但通过向混淆矩阵添加更多行和列，可轻松应用于具有3个或更多类值的问题。</p><p>从混淆矩阵当中，可以得到更高级的分类指标：Accuracy（正确率），Precision（精度或者准确率），Recall（召回率），Specificity（特异性），Sensitivity（灵敏度）。</p><p>正确率Accuracy：</p><p><span class="math display">\[\text{准确率}=\frac{TP+FP}{TP+FP+FP+TN}\]</span></p><p>精度或查准率Precision：</p><p><span class="math display">\[\text{精度}=\frac{TP}{TP+FP}\]</span></p><p>召回率Recall：</p><p><span class="math display">\[\text{召回率}=\frac{TP}{TP+FN}\]</span></p><p>将Recall和Precision结合，可以组成F1度量，用于判断查准查全的性能</p><p>F1度量是Recall和Precision的调和平均值:</p><p>当Recall和Precision同时高时，F1才会高</p><p><span class="math display">\[F_1=\frac{2}{\frac{1}{\text{查准率}}+\frac{1}{\text{召回率}}}=2\times\frac{\text{查准率}\times\text{召回率}}{\text{查准率}+\text{召回率}}=\frac{2\timesTP}{\text{范例总数}+TP-TN}\]</span></p><p>Fβ是是Recall和Precision的加权调和平均值：</p><p><span class="math display">\[F_{\beta}=\frac{\left( 1+\beta ^2 \right) \times \text{查准率}\times\text{召回率}}{\left( \beta ^2\times \text{查准率} \right)+\text{召回率}}\]</span></p><p><span class="math inline">\(\beta\)</span>反映查全率相对于查准率的重要性： <spanclass="math inline">\(\beta=1\)</span>退化为标准的F1,<spanclass="math inline">\(\beta&gt;1\)</span>查全更重要，<spanclass="math inline">\(\beta&lt;1\)</span>查准率更重要</p><p>对于不同的训练背景，对查全率与查准率有不同的要求，例如推荐系统认为查准率更重要，重要物品信息检索系统认为查全率更重要。</p><p>我们构建混淆矩阵：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_predict<br>y_train_pred =cross_val_predict(sgd_clf,X_train,y_train_5,cv=<span class="hljs-number">3</span>)<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> confusion_matrix<br>confusion_matrix(y_train_5, y_train_pred)<br><span class="hljs-comment">#array([[53892,   687],</span><br><span class="hljs-comment">#      [ 1891,  3530]], dtype=int64)</span><br></code></pre></td></tr></table></figure><p>精度或查准率Precision：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> precision_score, recall_score<br>precision_score(y_train_5,y_train_pred)<br><span class="hljs-comment">#0.8370879772350012</span><br></code></pre></td></tr></table></figure><p>召回率Recall：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">recall_score(y_train_5,y_train_pred)<br><span class="hljs-comment">#0.6511713705958311</span><br></code></pre></td></tr></table></figure><p>F1度量：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span>  sklearn.metrics <span class="hljs-keyword">import</span> f1_score<br>f1_score(y_train_5,y_train_pred)<br></code></pre></td></tr></table></figure><p>从上面几个指标的表现来看，模型的训练结果并不是特别好，只有65.12%的数字5被检测出来。</p><p>我们还可以通过观察通过改变阈值来改变查准率和查全率，并观察整个变化过程：</p><h3 id="查准率召回率的权衡">查准率/召回率的权衡</h3><p>SGDClassifier模型会对每个实例，基于决策函数计算出一个值，如果该值大于阈值，将实例判断为正类，否则判断为负类，改变阈值将会影响正负类各自的个数，提高阈值可能会提高精度，降低召回率。</p><p>利用<code>decision_function</code>方法，能够得到决策分数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_predict<br>y_scores = cross_val_predict(sgd_clf,X_train,y_train_5,cv=<span class="hljs-number">3</span>,method=<span class="hljs-string">&#x27;decision_function&#x27;</span>)<br></code></pre></td></tr></table></figure><p>使用<code>precision_recall_curve</code>根据上面求出的<strong>决策分数</strong>，得出计算不同概率阈值的查准率/召回率对，可以画出来：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_precision_recall_vs_threshold</span>(<span class="hljs-params">precisions, recalls, thresholds</span>):<br>    plt.plot(thresholds,precisions[:-<span class="hljs-number">1</span>],<span class="hljs-string">&#x27;b--&#x27;</span>,label=<span class="hljs-string">&quot;Precisions&quot;</span>,linewidth=<span class="hljs-number">2</span>)<br>    plt.plot(thresholds,recalls[:-<span class="hljs-number">1</span>], <span class="hljs-string">&#x27;g-&#x27;</span>,label=<span class="hljs-string">&#x27;Recall&#x27;</span>,linewidth=<span class="hljs-number">2</span>)<br>    plt.legend(loc=<span class="hljs-string">&#x27;center right&#x27;</span>, fontsize=<span class="hljs-number">16</span>)<br>    plt.xlabel(<span class="hljs-string">&#x27;Threshold&#x27;</span>,fontsize=<span class="hljs-number">16</span>)<br>    plt.grid(<span class="hljs-literal">True</span>)<br>    plt.axis([-<span class="hljs-number">50000</span>,<span class="hljs-number">50000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>])<br>recall_90_precision = recalls[np.argmax(precisions &gt;=<span class="hljs-number">0.90</span>)]<br>threshold_90_precision = thresholds[np.argmax(precisions&gt;=<span class="hljs-number">0.90</span>)]<br><br>plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">4</span>))<br>plot_precision_recall_vs_threshold(precisions, recalls, thresholds)<br>plt.plot([threshold_90_precision,threshold_90_precision],[<span class="hljs-number">0.</span>,<span class="hljs-number">0.9</span>],<span class="hljs-string">&#x27;r:&#x27;</span>)<br>plt.plot([-<span class="hljs-number">50000</span>,threshold_90_precision],[<span class="hljs-number">0.9</span>,<span class="hljs-number">0.9</span>],<span class="hljs-string">&#x27;r:&#x27;</span>)<br>plt.plot([-<span class="hljs-number">50000</span>,threshold_90_precision],[recall_90_precision,recall_90_precision],<span class="hljs-string">&#x27;r:&#x27;</span>)<br>plt.plot([threshold_90_precision],[<span class="hljs-number">0.9</span>],<span class="hljs-string">&#x27;ro&#x27;</span>)<br>plt.plot([threshold_90_precision],[recall_90_precision],<span class="hljs-string">&#x27;ro&#x27;</span>)<br>save_fig(<span class="hljs-string">&#x27;precision_recall_vs_threshold_plot&#x27;</span>)<br>plt.show()![precision_recall_vs_threshold_plot](E:\blog\source\images\<span class="hljs-number">20221029</span>\precision_recall_vs_threshold_plot.png)<br></code></pre></td></tr></table></figure><p><img src="/images/20221029/precision_recall_vs_threshold_plot-16670469194531.png" alt="precision_recall_vs_threshold_plot" style="zoom:80%;" /></p><p>通过上面的图我们可以看出随着阈值Threshold的变化，查准率和召回率的变化，在图中，我们还可以看到查准率随着阈值提高会发生波动，例如，假设阈值提高一点点之后，并没有把非5法数字除去，反而去除了数字5的例子，会造成查准率的降低。</p><p>我们还可以画图查看查准率和查全率的关系：</p><p><img src="/images/20221029/precision_vs_recall_plot.png" alt="precision_vs_recall_plot" style="zoom:80%;" /></p><h3 id="roc曲线">ROC曲线</h3><p>ROC曲线，即受试者工作特征曲线，与查准率/召回率曲线非常相似，绘制的是真正类率（即原来的召回率，也叫灵敏度）和假正类率（FPR）。FPR又称为特异度，是错误被分成正类的负类实例比例，等于正确分类成负类的负类实例比例。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_curve<br><br>fpr,tpr, thresholds =roc_curve(y_train_5,y_scores)<br></code></pre></td></tr></table></figure><p>召回率越高，分类器产生的假正类类越多，虚线表示纯纯随机的分类器的ROC曲线，一个优秀的分类器应远离这条线</p><figure><img src="/images/20221029/image-20221101214240997.png"alt="image-20221101214240997" /><figcaption aria-hidden="true">image-20221101214240997</figcaption></figure><h1 id="多分类问题">多分类问题</h1><p>对于多分类的策略，常常有俩个策略<sup id="fnref:2"><a href="#fn:2" rel="footnote"><spanclass="hint--top hint--error hint--medium hint--rounded hint--bounce"aria-label="[多分类学习（OvO、OVR、MVM 原理区别）](https://blog.csdn.net/qq_34120015/article/details/123618901)">[2]</span></a></sup>：</p><p>OvR策略是一种一对多策略，每次将一类的样例作为正例、其他所有数据作为反例来进行数据集拆分。对于三分类问题，会分成：</p><blockquote><p>判断是否是0的二元分类器 以及相应得分 判断是否是1的二元分类器以及相应得分 判断是否是2的二元分类器 以及相应得分</p><p>最后选取<strong>得分最高</strong>的</p></blockquote><p>OvO策略是一种一对一策略，OvO的拆分策略比较简单，基本过程是将每个类别对应数据集单独拆分成一个子数据集，然后令其两两组合，再来进行模型训练。例如，对于上述三分类数据集，根据标签类别可将其拆分成三个数据集，然后再进行两两组合，总共有3种组合</p><p>OvO策略适用于较小数据量的分类任务</p><p>创建OVR分类器：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.multiclass <span class="hljs-keyword">import</span> OneVsRestClassifier<br>ovr_clf = OneVsRestClassifier(SVC(gamma=<span class="hljs-string">&#x27;auto&#x27;</span>,random_state=<span class="hljs-number">42</span>))<span class="hljs-comment">#基于SVC创建多类分类器</span><br>ovr_clf.fit(X_train[:<span class="hljs-number">1000</span>],y_train[:<span class="hljs-number">1000</span>])<br></code></pre></td></tr></table></figure><h2 id="误差分析多分类">误差分析（多分类）</h2><p>对于多分类问题，我们为了了解他的性能，可以制作其混淆矩阵：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_predict<br>y_train_pred = cross_val_predict(sgd_clf,x_train_scaled,y_train,cv=<span class="hljs-number">3</span>)<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> confusion_matrix<br>conf_mx=confusion_matrix(y_train,y_train_pred)<br>conf_mx<br></code></pre></td></tr></table></figure><p>得到混淆矩阵</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-built_in">array</span>([[<span class="hljs-number">5577</span>,    <span class="hljs-number">0</span>,   <span class="hljs-number">22</span>,    <span class="hljs-number">5</span>,    <span class="hljs-number">8</span>,   <span class="hljs-number">43</span>,   <span class="hljs-number">36</span>,    <span class="hljs-number">6</span>,  <span class="hljs-number">225</span>,    <span class="hljs-number">1</span>],<br><span class="hljs-string">       [   0, 6400,   37,   24,    4,   44,    4,    7,  212,   10]</span>,<br><span class="hljs-string">       [  27,   27, 5220,   92,   73,   27,   67,   36,  378,   11]</span>,<br><span class="hljs-string">       [  22,   17,  117, 5227,    2,  203,   27,   40,  403,   73]</span>,<br><span class="hljs-string">       [  12,   14,   41,    9, 5182,   12,   34,   27,  347,  164]</span>,<br><span class="hljs-string">       [  27,   15,   30,  168,   53, 4444,   75,   14,  535,   60]</span>,<br><span class="hljs-string">       [  30,   15,   42,    3,   44,   97, 5552,    3,  131,    1]</span>,<br><span class="hljs-string">       [  21,   10,   51,   30,   49,   12,    3, 5684,  195,  210]</span>,<br><span class="hljs-string">       [  17,   63,   48,   86,    3,  126,   25,   10, 5429,   44]</span>,<br><span class="hljs-string">       [  25,   18,   30,   64,  118,   36,    1,  179,  371, 5107]</span>],<br>      dtype=<span class="hljs-built_in">int64</span>)<br></code></pre></td></tr></table></figure><p>可以通过灰度图绘制出来：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.matshow(conf_mx,cmap=plt.cm.gray)<br>save_fig(<span class="hljs-string">&#x27;confusion_matrix_plot&#x27;</span>, tight_layout=<span class="hljs-literal">False</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><figure><img src="/images/20221029/image-20221101221248997.png"alt="image-20221101221248997" /><figcaption aria-hidden="true">image-20221101221248997</figcaption></figure><p>将矩阵每个数字除以每行总数（即实际上该行所指示类别的所包含的总和），并将对角线（正确分类的）设置为0，可以查看哪些类错误出现得最多（偏亮的）</p><figure><img src="/images/20221029/image-20221101221643918.png"alt="image-20221101221643918" /><figcaption aria-hidden="true">image-20221101221643918</figcaption></figure><p>图中表现出5被错误分成8的次数很多</p><h1 id="多标签分类与多输出分类">多标签分类与多输出分类</h1><p>使用一些分类器可以实现标签的多个输出,比如KNeighbors方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsClassifier<br>y_train = y_train.astype(np.uint8)<br>y_train_large =(y_train &gt;=<span class="hljs-number">7</span>)<br>y_train_odd = (y_train %<span class="hljs-number">2</span> ==<span class="hljs-number">1</span>)<br>y_multilabel =np.c_[y_train_large,y_train_odd]<br><br>knn_clf =KNeighborsClassifier()<br>knn_clf.fit(X_train,y_multilabel)<br></code></pre></td></tr></table></figure><p>而分类问题有时也可看做回归问题，我们将带有噪声的图片放入分类器中训练，对于同样带有噪音的测试集进行预测，这个过程是一种多输出分类，也像是回归的过程：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#构建噪音训练/测试集</span><br>noise = np.random.randint(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>,(<span class="hljs-built_in">len</span>(X_train),<span class="hljs-number">784</span>))<br>X_train_mod =X_train+noise<br>noise=  np.random.randint(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>,(<span class="hljs-built_in">len</span>(X_test),<span class="hljs-number">784</span>))<br>X_test_mod =X_test+noise<br>y_train_mod = X_train<br>y_test_mod = X_test<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_digit</span>(<span class="hljs-params">data</span>):<br>    image = data.reshape(<span class="hljs-number">28</span>, <span class="hljs-number">28</span>)<br>    plt.imshow(image, cmap = mpl.cm.binary,<br>               interpolation=<span class="hljs-string">&quot;nearest&quot;</span>)<br>    plt.axis(<span class="hljs-string">&quot;off&quot;</span>)<br>some_index =<span class="hljs-number">0</span><br>plt.subplot(<span class="hljs-number">121</span>); plot_digit(X_test_mod[some_index])<br>plt.subplot(<span class="hljs-number">122</span>); plot_digit(y_test_mod[some_index])<br>save_fig(<span class="hljs-string">&#x27;noisy_digit_example_plot&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p>构建的测试集：</p><figure><img src="/images/20221029/image-20221101222259805.png"alt="image-20221101222259805" /><figcaption aria-hidden="true">image-20221101222259805</figcaption></figure><p>分类器进行的预测：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">knn_clf.fit(X_train_mod, y_train_mod)<br>clean_digit = knn_clf.predict([X_test_mod[some_index]])<br>plot_digit(clean_digit)<br>save_fig(<span class="hljs-string">&quot;cleaned_digit_example_plot&quot;</span>)<br></code></pre></td></tr></table></figure><figure><img src="/images/20221029/image-20221101222354260.png"alt="image-20221101222354260" /><figcaption aria-hidden="true">image-20221101222354260</figcaption></figure><h1 id="讨论">讨论</h1><h2id="交叉验证过程中cross_val_score与cross_val_predict的使用">交叉验证过程中<code>cross_val_score</code>与<code>cross_val_predict</code>的使用</h2><p>：得到K折验证中每一折的得分，K个得分取平均值就是模型的平均性能</p><p>cross_val_predict：得到经过K折交叉验证计算得到的每个训练验证的输出预测</p><h1 id="参考">参考</h1><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><spanstyle="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><spanstyle="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://blog.csdn.net/seagal890/article/details/105059498">机器学习笔记：混淆矩阵</a><a href="#fnref:1" rev="footnote"> ↩︎</a></span></li><li id="fn:2"><spanstyle="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><spanstyle="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://blog.csdn.net/qq_34120015/article/details/123618901">多分类学习（OvO、OVR、MVM原理区别）</a><a href="#fnref:2" rev="footnote"> ↩︎</a></span></li></ol></div></div>]]></content>
    
    
    
    <tags>
      
      <tag>分类问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>重新记一次机器学习训练过程</title>
    <link href="/2022/10/22/2022-10-22-%E9%87%8D%E6%96%B0%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%AE%AD%E7%BB%83%E8%BF%87%E7%A8%8B/"/>
    <url>/2022/10/22/2022-10-22-%E9%87%8D%E6%96%B0%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%AE%AD%E7%BB%83%E8%BF%87%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="前言">前言</h1><p>最近重新捡起《<em>机器学习实战：基于Scikit-Learn、Keras和TensorFlow</em>》这本书，同时在整理西瓜书，以及白板推导的相关笔记，准备好好学习本科期间最想学习的机器学习，这篇文章按照原书的代码进行，一步步介绍机器学习的一般步骤。</p><p>本文，你即将掌握的知识：</p><ol type="1"><li>机器学习处理实际数据将会采用的方法</li><li>数据处理过程中使用的重要函数的使用方法</li><li>评价模型性能的过程</li></ol><h1 id="处理过程">处理过程</h1><h2 id="流程的数理">流程的数理</h2><p>前面我提到了什么是机器学习，简述了机器学习的基本概念，这次我们将进行的是对实际数据进行处理，将数据进行合理的处理之后，定性了解数据包含的特性，随后选择合理的模型进行训练。</p><h2 id="数据的获取">数据的获取</h2><p>数据来自https://raw.githubusercontent.com/ageron/handson-ml2/master/datasets/housing/housing.tgz</p><p>解压后数据是<code>housing.csv</code></p><h2 id="数据探索">数据探索</h2><p>首先读取一下数据,写一个数据读取函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">load_data</span>(<span class="hljs-params">data_path</span>):<br>    csv_path = os.path.join(data_path,<span class="hljs-string">&quot;housing.csv&quot;</span>)<br>    <span class="hljs-keyword">return</span> pd.read_csv(csv_path)<br>load_data(data_path)<br></code></pre></td></tr></table></figure><p><imgsrc="/images/2022-10-22-重新记一次机器学习训练过程/image-20221022191545021.png" /></p><p>数据的基本信息：</p><p><code>info()</code>：类型、数量</p><p><code>describe()</code>：平均值、总和、标准差、最大最小、分段</p><p><code>value_counts()</code>：每一类数据数目（定量角度）</p><p><code>hist()</code>：直方图，定性</p><p><imgsrc="/images/2022-10-22-重新记一次机器学习训练过程/image-20221022191602402.png" /></p><blockquote><p>这里可以看到<code>total_bedrooms</code>存在缺失值，<code>ocean_proximity</code>不是数据类型</p></blockquote><p><code>housing['ocean_proximity'].value_counts()</code>查看数据类型数目</p><p><imgsrc="/images/2022-10-22-重新记一次机器学习训练过程/image-20221022194938643.png" /></p><blockquote><p><code>ocean_proximity</code>有5种类型</p></blockquote><p>绘制直方图，数据探索的时候，可以直接对主要的数据进行直方图的绘制</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">housing.hist(bins=<span class="hljs-number">50</span>,figsize=(<span class="hljs-number">20</span>,<span class="hljs-number">15</span>))<br>save_fig(<span class="hljs-string">&#x27;attribute_histogram_plots&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p><imgsrc="/images/2022-10-22-重新记一次机器学习训练过程/image-20221022191616143.png" /></p><p>还可以看看数据的相关性：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> scatter_matrix<br><br>attributes =[<span class="hljs-string">&#x27;median_house_value&#x27;</span>,<span class="hljs-string">&#x27;median_income&#x27;</span>,<span class="hljs-string">&#x27;total_rooms&#x27;</span>,<br>            <span class="hljs-string">&#x27;housing_median_age&#x27;</span>]<br>scatter_matrix(housing[attributes],figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">8</span>))<br>save_fig(<span class="hljs-string">&quot;scatter_matrix_plot&quot;</span>)<br></code></pre></td></tr></table></figure><p><imgsrc="/images/2022-10-22-重新记一次机器学习训练过程/image-20221022194949949.png" /></p><p>由于数据集中包含了地理信息，所以我们还可以查看数据中的地理信息：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">housing.plot(kind=<span class="hljs-string">&quot;scatter&quot;</span>,x=<span class="hljs-string">&quot;longitude&quot;</span>,y=<span class="hljs-string">&quot;latitude&quot;</span>, alpha=<span class="hljs-number">0.1</span>)<br>save_fig(<span class="hljs-string">&quot;bad_visualization_plot&quot;</span>)<br></code></pre></td></tr></table></figure><p><imgsrc="/images/2022-10-22-重新记一次机器学习训练过程/image-20221022195003723.png" /></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">housing.plot(kind=<span class="hljs-string">&quot;scatter&quot;</span>,x=<span class="hljs-string">&quot;longitude&quot;</span>,y=<span class="hljs-string">&quot;latitude&quot;</span>,alpha=<span class="hljs-number">0.4</span>,<br>            s=housing[<span class="hljs-string">&#x27;population&#x27;</span>]/<span class="hljs-number">100</span>,label=<span class="hljs-string">&quot;population&quot;</span>,<br>             figsize=(<span class="hljs-number">10</span>,<span class="hljs-number">7</span>),c=<span class="hljs-string">&#x27;median_house_value&#x27;</span>,cmap=plt.get_cmap(<span class="hljs-string">&quot;jet&quot;</span>),colorbar=<span class="hljs-literal">True</span>,sharex=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><p><imgsrc="/images/2022-10-22-重新记一次机器学习训练过程/image-20221022195011174.png" /></p><h2 id="数据清洗">数据清洗</h2><h3 id="处理缺失值">处理缺失值</h3><p>这里采用的是中位数填补的方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">housing = strat_train_set.drop(<span class="hljs-string">&quot;median_house_value&quot;</span>,axis=<span class="hljs-number">1</span>)<br>housing_labels = strat_train_set[<span class="hljs-string">&#x27;median_house_value&#x27;</span>].copy()<br>median = housing[<span class="hljs-string">&#x27;total_bedrooms&#x27;</span>].median()<br>housing[<span class="hljs-string">&#x27;total_bedrooms&#x27;</span>].fillna(median,inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><p>也可以用<code>SimpleImputer()</code>函数，<code>SimpleImputer()</code>的用法和很多<code>sklearn</code>模型一样，都有<code>fit</code>和<code>transform</code>的过程</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.impute <span class="hljs-keyword">import</span> SimpleImputer<br>imputer =SimpleImputer(strategy=<span class="hljs-string">&quot;median&quot;</span>)<br>imputer.fit(housing_num)<br>X =imputer.transform(housing_num)<span class="hljs-comment"># 转换后的数据</span><br></code></pre></td></tr></table></figure><h3 id="独热编码">独热编码</h3><p>对于大部分机器学习模型的训练，都不能处理分类型的数据，所以对于上文提到的<code>ocean_proximity</code>，需要做一下转换：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">housing_cat = housing[[<span class="hljs-string">&quot;ocean_proximity&quot;</span>]]<br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> OneHotEncoder<br>cat_encoder = OneHotEncoder()<br>housing_cat_1hot = cat_encoder.fit_transform(housing_cat)<br></code></pre></td></tr></table></figure><h2 id="划分数据">划分数据</h2><p>一般数据并不是我们所想的那么均衡，可能依据合理指标进行分层划分比较合适。这里安装收入中位数为指标，划分不同人群。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">housing[<span class="hljs-string">&quot;income_cat&quot;</span>]=pd.cut(housing[<span class="hljs-string">&quot;median_income&quot;</span>],<br>                            bins=[<span class="hljs-number">0.</span>,<span class="hljs-number">1.5</span>,<span class="hljs-number">3.0</span>,<span class="hljs-number">4.5</span>,<span class="hljs-number">6.</span>,np.inf],<br>                            labels=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> StratifiedShuffleSplit<br><br>split =StratifiedShuffleSplit(n_splits=<span class="hljs-number">1</span>,test_size=<span class="hljs-number">0.2</span>,random_state=<span class="hljs-number">42</span>)<br><span class="hljs-keyword">for</span> train_index,test_index <span class="hljs-keyword">in</span> split.split(housing,housing[<span class="hljs-string">&#x27;income_cat&#x27;</span>]):<br>    strat_train_set = housing.loc[train_index]<br>    strat_test_set  = housing.loc[test_index]<br></code></pre></td></tr></table></figure><p>我们可以看到分层抽样的效果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">strat_test_set[<span class="hljs-string">&#x27;income_cat&#x27;</span>].value_counts()/<span class="hljs-built_in">len</span>(strat_test_set)<br></code></pre></td></tr></table></figure><p><imgsrc="/images/2022-10-22-重新记一次机器学习训练过程/image-20221022195027257.png" /></p><h2 id="模型训练">模型训练</h2><p>对模型进行训练，我们可以计算其RMSE、MSE或者使用交叉验证来对模型进行评估,这里展示的是每个模型10折交叉验证后的评分，分数越低越好</p><h3 id="线性回归">线性回归</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_score<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">display_scores</span>(<span class="hljs-params">scores</span>):<span class="hljs-comment">#这里定义一个展示评估模型性能的函数</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Scores:&quot;</span> ,scores)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Mean:&quot;</span>,scores.mean())<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Standard deviation:&quot;</span>,scores.std())<br>display_scores(tree_rmse_scores)<br><br>lin_reg = LinearRegression()<br>lin_reg.fit(housing_prepared, housing_labels)<br>lin_scores =cross_val_score(lin_reg, housing_prepared, housing_labels, scoring=<span class="hljs-string">&quot;neg_mean_squared_error&quot;</span>,cv=<span class="hljs-number">10</span>)<br>lin_rmse_scores=np.sqrt(-lin_scores)<br>display_scores(lin_rmse_scores)<br></code></pre></td></tr></table></figure><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dns">Scores: [<span class="hljs-number">66877</span>.<span class="hljs-number">52325028</span> <span class="hljs-number">66608.120256</span>   <span class="hljs-number">70575</span>.<span class="hljs-number">91118868</span> <span class="hljs-number">74179</span>.<span class="hljs-number">94799352</span><br> <span class="hljs-number">67683</span>.<span class="hljs-number">32205678</span> <span class="hljs-number">71103</span>.<span class="hljs-number">16843468</span> <span class="hljs-number">64782</span>.<span class="hljs-number">65896552</span> <span class="hljs-number">67711</span>.<span class="hljs-number">29940352</span><br> <span class="hljs-number">71080</span>.<span class="hljs-number">40484136</span> <span class="hljs-number">67687</span>.<span class="hljs-number">6384546</span> ]<br>Mean: <span class="hljs-number">68828</span>.<span class="hljs-number">99948449331</span><br>Standard deviation: <span class="hljs-number">2662</span>.<span class="hljs-number">761570610342</span><br></code></pre></td></tr></table></figure><h3 id="决策树">决策树</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeRegressor<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_score<br><br>tree_reg = DecisionTreeRegressor()<br>tree_reg.fit(housing_prepared,housing_labels)<br>scores =  cross_val_score(tree_reg, housing_prepared, housing_labels, scoring=<span class="hljs-string">&quot;neg_mean_squared_error&quot;</span>,cv=<span class="hljs-number">10</span>)<br>tree_rmse_scores = np.sqrt(-scores)<br>display_scores(tree_rmse_scores)<br></code></pre></td></tr></table></figure><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dns">Scores: [<span class="hljs-number">69595</span>.<span class="hljs-number">77288562</span> <span class="hljs-number">65892</span>.<span class="hljs-number">49840035</span> <span class="hljs-number">68904</span>.<span class="hljs-number">08708221</span> <span class="hljs-number">68631</span>.<span class="hljs-number">79627553</span><br> <span class="hljs-number">71158</span>.<span class="hljs-number">28958246</span> <span class="hljs-number">75759</span>.<span class="hljs-number">34692938</span> <span class="hljs-number">71756</span>.<span class="hljs-number">17740938</span> <span class="hljs-number">69757</span>.<span class="hljs-number">92410769</span><br> <span class="hljs-number">77555</span>.<span class="hljs-number">84660582</span> <span class="hljs-number">70320</span>.<span class="hljs-number">51898092</span>]<br>Mean: <span class="hljs-number">70933</span>.<span class="hljs-number">22582593601</span><br>Standard deviation: <span class="hljs-number">3259</span>.<span class="hljs-number">5535441625275</span><br></code></pre></td></tr></table></figure><h3 id="随机森林">随机森林</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestRegressor<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_score<br>forest_reg =RandomForestRegressor()<br>forest_reg.fit(housing_prepared,housing_labels)<br>housing_predictions = forest_reg.predict(housing_prepared)<br>forest_scores = cross_val_score(forest_reg,housing_prepared,housing_labels,scoring=<span class="hljs-string">&quot;neg_mean_squared_error&quot;</span>,cv=<span class="hljs-number">10</span>)<br>forest_rmse_scores = np.sqrt(-forest_scores)<br>display_scores(forest_rmse_scores)<br></code></pre></td></tr></table></figure><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dns">Scores: [<span class="hljs-number">49756</span>.<span class="hljs-number">8518613</span>  <span class="hljs-number">47523</span>.<span class="hljs-number">28917137</span> <span class="hljs-number">49592</span>.<span class="hljs-number">54848874</span> <span class="hljs-number">52307</span>.<span class="hljs-number">84156741</span><br> <span class="hljs-number">49780</span>.<span class="hljs-number">9586572</span>  <span class="hljs-number">53512</span>.<span class="hljs-number">58220897</span> <span class="hljs-number">49036</span>.<span class="hljs-number">6329955</span>  <span class="hljs-number">48293</span>.<span class="hljs-number">65141653</span><br> <span class="hljs-number">52721</span>.<span class="hljs-number">7847535</span>  <span class="hljs-number">50370</span>.<span class="hljs-number">22281034</span>]<br>Mean: <span class="hljs-number">50289</span>.<span class="hljs-number">63639308592</span><br>Standard deviation: <span class="hljs-number">1860</span>.<span class="hljs-number">5796438282039</span><br><br></code></pre></td></tr></table></figure><h2 id="网格搜索">网格搜索</h2><p>对于许多机器学习模型都会有很多参数可供调整和选择，但是并不是我最初设定或者默认的参数是最适合数据训练的，所以可以采取网格搜索或者随机搜索的方式进行训练。</p><p>网格搜索：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> GridSearchCV<br><br>param_grid=[<br>    &#123;<span class="hljs-string">&quot;n_estimators&quot;</span>:[<span class="hljs-number">3</span> ,<span class="hljs-number">10</span>, <span class="hljs-number">30</span>],<span class="hljs-string">&#x27;max_features&#x27;</span>: [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>]&#125;,<br>    &#123;<span class="hljs-string">&quot;bootstrap&quot;</span>: [<span class="hljs-literal">False</span>],<span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">3</span>,<span class="hljs-number">10</span>],<span class="hljs-string">&#x27;max_features&#x27;</span>:[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]&#125;,<br>]<br>forest_reg = RandomForestRegressor(random_state=<span class="hljs-number">42</span>)<br><br>grid_search = GridSearchCV(forest_reg,param_grid,cv=<span class="hljs-number">5</span>,<br>                          scoring=<span class="hljs-string">&quot;neg_mean_squared_error&quot;</span>,<br>                          return_train_score=<span class="hljs-literal">True</span>)<br>grid_search.fit(housing_prepared, housing_labels)<br></code></pre></td></tr></table></figure><p>最佳参数组合：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">grid_search.best_params_<br></code></pre></td></tr></table></figure><p>最佳模型：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">grid_search.best_estimator_<br></code></pre></td></tr></table></figure><p>展示所有结果：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">cvres = grid_search.cv_results_<br><span class="hljs-keyword">for</span> mean_score, params <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(cvres[<span class="hljs-string">&quot;mean_test_score&quot;</span>],cvres[<span class="hljs-string">&quot;params&quot;</span>]):<br>    <span class="hljs-built_in">print</span>(np.sqrt(-mean_score),params)<br></code></pre></td></tr></table></figure><p>随机搜索：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> RandomizedSearchCV<br><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> randint<br><br>param_distribs = &#123;<br>    <span class="hljs-string">&#x27;n_estimators&#x27;</span>: randint(low=<span class="hljs-number">1</span>,high=<span class="hljs-number">200</span>),<br>    <span class="hljs-string">&quot;max_features&quot;</span>: randint(low=<span class="hljs-number">1</span>,high=<span class="hljs-number">8</span>),<br>&#125;<br>forest_reg = RandomForestRegressor(random_state=<span class="hljs-number">42</span>)<br>rnd_search = RandomizedSearchCV(forest_reg,param_distributions=param_distribs,<br>                               n_iter=<span class="hljs-number">10</span>,cv=<span class="hljs-number">5</span>,scoring=<span class="hljs-string">&quot;neg_mean_squared_error&quot;</span>,random_state=<span class="hljs-number">42</span>)<br>rnd_search.fit(housing_prepared, housing_labels)<br></code></pre></td></tr></table></figure><h1 id="讨论">讨论</h1><h2 id="关于对分类型变量的处理">关于对分类型变量的处理</h2><h3 id="独热编码-1">独热编码</h3><p>对于存在N种类别的分类型数据，使用N位状态寄存器来对N个类型进行编码，每个状态都有它独立的寄存器位，并且在任意时候，其中只有一位有效。即，只有一位是1，其余都是零值。独热编码是利用0和1表示一些参数，使用N位状态寄存器来对N个状态进行编码。</p><p>例如：</p><blockquote><p>特征：["A"，"B"，"C"]（N=3，三维数据）： A =&gt; 100 B =&gt; 010 C=&gt; 001</p></blockquote><h4 id="优点">优点</h4><p>为什么要这么处理？因为在机器学习的很多算法中，都不能直接处理这种分类型数据，而算法对于特征之间距离的计算或相似度的计算存在一定的要求，而相似度的计算基于欧式空间进行，对变量进行独热编码处理，可以将原来不能处理的分类型数据扩展到欧式空间进行计算</p><h4 id="缺点">缺点</h4><p>但是问题在于假如分类型的变量变得非常多时，会使得独热编码生成的变量变得非常多</p><h3 id="与哑变量处理的关系">与哑变量处理的关系</h3><p>哑变量处理与独热编码的原理差不多，区别在于<sup id="fnref:1"><a href="#fn:1" rel="footnote"><spanclass="hint--top hint--error hint--medium hint--rounded hint--bounce"aria-label="[哑变量(Dummy Variable)与独热编码(one-hot Encoding)归纳](https://blog.csdn.net/qq_41933542/article/details/106711111)">[1]</span></a></sup>：</p><blockquote><p>哑变量处理：具有k-1个二进制状态，基准类别<strong>将被忽略</strong>,若基准类别选择不合理，<strong>仍存在共线性</strong>，因此建议众数的类别为基准类别。</p><p>独热编码：具有k个特征二进制特征</p></blockquote><h3 id="用法辨析">用法辨析</h3><blockquote><p>对于<strong>定类变量</strong> 对数值大小较敏感的模型，如LR SVM a哑变量的截距是基准类别的值，哑变量的回归系数表示的是某类别和基准类别之间的平均差异；b若线性模型有截距项，用哑变量，因为多余的自由度可以被统摄到截距项intercept里去；c若线性模型有截距项，且使用正则化，用独热编码，因为正则化会约束系数，使各变量地位相等，从而处理多余特征；d 无截距项，使用独热编码 e<strong>树模型不建议使用二进制类型的编码</strong>，因为会加深树的深度，或者减小节点分裂增益</p><p>对于<strong>定序变量</strong>既分类又排序，自定义的数字顺序可以不破坏原有逻辑，并与这个逻辑相对应。对数值大小不敏感的模型（如树模型）不建议使用one-hotencoding</p><p><strong>选择建议</strong>：最好是选择正则化 +one-hot编码；哑变量编码也可以使用，不过最好选择前者。对于树模型，不推荐使用定类编码，因为样本切分不均衡时，增益效果甚微(如较小的那个拆分样本集，它占总样本的比例太小。无论增益多大，乘以该比例之后几乎可以忽略)；</p></blockquote><h1 id="参考">参考</h1><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><spanstyle="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><spanstyle="display: inline-block; vertical-align: top; margin-left: 10px;"><a href="https://blog.csdn.net/qq_41933542/article/details/106711111">哑变量(DummyVariable)与独热编码(one-hotEncoding)归纳</a><a href="#fnref:1" rev="footnote"> ↩︎</a></span></li></ol></div></div>]]></content>
    
    
    
    <tags>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>机器学习心得2022.10.10</title>
    <link href="/2022/10/10/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BF%83%E5%BE%97/"/>
    <url>/2022/10/10/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%BF%83%E5%BE%97/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>因为研究生的需要，最近需要整理一下准备学习的资料，其中就把涉及机器学习的资料进行了整理</p><p>我目前学习的资料绝大部分还是19年左右的，问题是不够新，虽然我们目前学习的知识并不是以跟紧前沿为主，但是如果有比较新而且又比较好的教程还是非常值得推荐的</p><p>目前我准备学习的机器学习教程有：</p><ol type="1"><li>b站白板机器学习推导，特点是步步推导，细细梳理，但是对数理统计那块基础知识要求有点高</li><li>李航的统计学习方法，特点是囊括经典机器学习算法，缺点也是需要基础的数学知识，对小白并不友好</li><li>周志华的西瓜书（和南瓜书），特点也是包含的内容很广，缺点是讲的并不够细，比较适合小白</li><li>其他的教程之后慢慢说</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>brianyjh的搞机日常01</title>
    <link href="/2022/07/30/brianyjh%E7%9A%84%E6%90%9E%E6%9C%BA%E6%97%A5%E5%B8%B801/"/>
    <url>/2022/07/30/brianyjh%E7%9A%84%E6%90%9E%E6%9C%BA%E6%97%A5%E5%B8%B801/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>2020年的时候，我曾经安装过anaconda3，但是电脑最近中了次毒，很多东西都损坏了，呜呜呜于是重新安装了anaconda3， 安装完后还需要设置环境变量：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">E:\Anaconda<br>E:\Anaconda\Scripts                                <br>E:\Anaconda\Library\mingw-w64\bin<br>E:\Anaconda\Library\usr\bin<br>E:\Anaconda\Library\bin                       <br></code></pre></td></tr></table></figure><p>然后在cmd里输入python验证环境变量是否设置成功结果————————————————————————————————————————弹出了应用商店？！？！？！？！？！？！</p><figure><imgsrc="https://img-blog.csdnimg.cn/93ea53572bb34235ada1a622f107ce1a.png"alt="在这里插入图片描述" /><figcaption aria-hidden="true">在这里插入图片描述</figcaption></figure><p>原因是环境变量里的应用商店设置得太靠前。。。。。。。。。。。。把应用商店的环境变量移动下移即可（放在anaconda的环境变量后面） <imgsrc="https://img-blog.csdnimg.cn/4e0ce180b1e847519e6f2d23e3916a1e.png"alt="在这里插入图片描述" /></p><p>然后我打不开anaconda-navigator （。。。。。。） 找教程：<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">conda <span class="hljs-keyword">update</span> anaconda-navigator<br>anaconda-navigator <span class="hljs-comment">--reset</span><br>conda <span class="hljs-keyword">update</span> anaconda-client<br>conda <span class="hljs-keyword">update</span> -f anaconda-client<br></code></pre></td></tr></table></figure> 经过这么一顿操作，总算是把navigator打开了 <imgsrc="https://img-blog.csdnimg.cn/723bef525078452dbaeb8c5e4aeead3d.png"alt="在这里插入图片描述" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>anaconda</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>linux学习笔记03</title>
    <link href="/2022/07/28/Linux%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B003/"/>
    <url>/2022/07/28/Linux%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B003/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>@[TOC] # 概括 今天的任务还是把昨天的知识进行实操练习 简要概括如下：1. 运行表达定量比对的R程序 2. 继续进行批量操作 3.将表达定量的结果合并成矩阵 4.了解最后的定量矩阵、标准化矩阵、TMM算法调整的矩阵</p><p>主要程序过程如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">Rscript script/run-featurecounts.R -b ../1.Mapping/BLO_S1_LD1.bam -g ../ref/genes.gtf -o BLO_S1_LD1<br>awk <span class="hljs-string">&#x27;&#123;print &quot;Rscript script/run-featurecounts.R -b ../1.Mapping/&quot;$2&quot;.bam  -g ../ref/genes.gtf -o &quot;$2  &#125;&#x27;</span> ../data/samples.txt &gt; codee.sh<br>sh codee.sh<br><span class="hljs-comment">#在3.目录下进行以下代码</span><br><span class="hljs-built_in">ls</span> ../2.Quantification/*.count &gt;genes.quant_files.txt<br>perl script/abundance_estimates_to_matrix.pl --est_method featureCounts --quant_files genes.quant_files.txt --out_prefix genes<br>less -S genes.counts.matrix<br>less -S genes.TPM.not_cross_norm<br>less -S genes.TMM.EXPR.matrix<br>less -S genes.TPM.not_cross_norm.TMM_info.txt<br></code></pre></td></tr></table></figure><h1 id="遇到的问题">遇到的问题</h1><h2 id="r包版本问题">R包版本问题</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">Error: package or namespace load failed <span class="hljs-keyword">for</span> ‘edgeR’:<br> package ‘edgeR’ was installed by an R version with different internals; it needs to be reinstalled <span class="hljs-keyword">for</span> use with this R version<br>Execution halted<br></code></pre></td></tr></table></figure><p>看到上述问题，可以判断为版本不匹配所致，于是我尝试的<strong>解决方案</strong>是<em>安装最新的R和最新的<code>edgeR</code></em>主要原因是我的旧版本是<code>3.6.3</code>，更新的版本的是<code>4.0.3</code>。<font color=red><strong>强烈建议</strong> 先把旧版本的R包给删了</font>可以参考这里的教程 &gt;<ahref="http://www.360doc.com/content/21/1020/15/902502_1000571026.shtml">Linux系统更新最新版R语言方法</a></p><p>我直接就更新了，导致安装了新版本的r之后，许许多多的r程序都需要更新。呜呜呜~</p><h1 id="结果展示">结果展示</h1><h2 id="r程序subread比对">R程序——Subread比对</h2><p>把上述冲突处理完之后， 运行R程序：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/usr/bin/env Rscript</span><br><span class="hljs-comment"># parse parameter ---------------------------------------------------------</span><br>library(argparser, quietly=TRUE)<br><span class="hljs-comment"># Create a parser</span><br>p &lt;- arg_parser(<span class="hljs-string">&quot;run featureCounts and calculate FPKM/TPM&quot;</span>)<br><br><span class="hljs-comment"># Add command line arguments</span><br>p &lt;- add_argument(p, <span class="hljs-string">&quot;--bam&quot;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;input: bam file&quot;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;character&quot;</span>)<br>p &lt;- add_argument(p, <span class="hljs-string">&quot;--gtf&quot;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;input: gtf file&quot;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;character&quot;</span>)<br>p &lt;- add_argument(p, <span class="hljs-string">&quot;--output&quot;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&quot;output prefix&quot;</span>, <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;character&quot;</span>)<br><br><span class="hljs-comment"># Parse the command line arguments</span><br>argv &lt;- parse_args(p)<br><br>library(Rsubread)<br>library(limma)<br>library(edgeR)<br><br>bamFile &lt;- argv<span class="hljs-variable">$bam</span><br>gtfFile &lt;- argv<span class="hljs-variable">$gtf</span><br>nthreads &lt;- 1<br>outFilePref &lt;- argv<span class="hljs-variable">$output</span><br><br>outStatsFilePath  &lt;- <span class="hljs-built_in">paste</span>(outFilePref, <span class="hljs-string">&#x27;.log&#x27;</span>,  sep = <span class="hljs-string">&#x27;&#x27;</span>); <br>outCountsFilePath &lt;- <span class="hljs-built_in">paste</span>(outFilePref, <span class="hljs-string">&#x27;.count&#x27;</span>, sep = <span class="hljs-string">&#x27;&#x27;</span>); <br><br>fCountsList = featureCounts(bamFile, annot.ext=gtfFile, isGTFAnnotationFile=TRUE, nthreads=nthreads, isPairedEnd=TRUE)<br>dgeList = DGEList(counts=fCountsList<span class="hljs-variable">$counts</span>, genes=fCountsList<span class="hljs-variable">$annotation</span>)<br>fpkm = rpkm(dgeList, dgeList$genes<span class="hljs-variable">$Length</span>)<br>tpm = exp(<span class="hljs-built_in">log</span>(fpkm) - <span class="hljs-built_in">log</span>(<span class="hljs-built_in">sum</span>(fpkm)) + <span class="hljs-built_in">log</span>(1e6))<br><br>write.table(fCountsList<span class="hljs-variable">$stat</span>, outStatsFilePath, sep=<span class="hljs-string">&quot;\t&quot;</span>, col.names=FALSE, row.names=FALSE, quote=FALSE)<br><br>featureCounts = cbind(fCountsList<span class="hljs-variable">$annotation</span>[,1], fCountsList<span class="hljs-variable">$counts</span>, fpkm, tpm)<br>colnames(featureCounts) = c(<span class="hljs-string">&#x27;gene_id&#x27;</span>, <span class="hljs-string">&#x27;counts&#x27;</span>, <span class="hljs-string">&#x27;fpkm&#x27;</span>,<span class="hljs-string">&#x27;tpm&#x27;</span>)<br>write.table(featureCounts, outCountsFilePath, sep=<span class="hljs-string">&quot;\t&quot;</span>, col.names=TRUE, row.names=FALSE, quote=FALSE)<br></code></pre></td></tr></table></figure><p>得到了以下结果(以<code>KID_S4_LD3</code>为例)： <figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs gherkin"><br><br>        ==========     _____ _    _ ____  _____  ______          _____<br>        =====         / ____|<span class="hljs-string"> </span>|<span class="hljs-string">  </span>|<span class="hljs-string"> </span>|<span class="hljs-string">  _ \</span>|<span class="hljs-string">  __ \</span>|<span class="hljs-string">  ____</span>|<span class="hljs-string">   /\   </span>|<span class="hljs-string">  __ \</span><br><span class="hljs-string">          =====      </span>|<span class="hljs-string"> (___ </span>|<span class="hljs-string"> </span>|<span class="hljs-string">  </span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string">_) </span>|<span class="hljs-string"> </span>|<span class="hljs-string">__) </span>|<span class="hljs-string"> </span>|<span class="hljs-string">__     /  \  </span>|<span class="hljs-string"> </span>|<span class="hljs-string">  </span>|<span class="hljs-string"> </span>|<br>            ====      \___ \|<span class="hljs-string"> </span>|<span class="hljs-string">  </span>|<span class="hljs-string"> </span>|<span class="hljs-string">  _ &lt;</span>|<span class="hljs-string">  _  /</span>|<span class="hljs-string">  __</span>|<span class="hljs-string">   / /\ \ </span>|<span class="hljs-string"> </span>|<span class="hljs-string">  </span>|<span class="hljs-string"> </span>|<br>              ====    ____) |<span class="hljs-string"> </span>|<span class="hljs-string">__</span>|<span class="hljs-string"> </span>|<span class="hljs-string"> </span>|<span class="hljs-string">_) </span>|<span class="hljs-string"> </span>|<span class="hljs-string"> \ \</span>|<span class="hljs-string"> </span>|<span class="hljs-string">____ / ____ \</span>|<span class="hljs-string"> </span>|<span class="hljs-string">__</span>|<span class="hljs-string"> </span>|<br>        ==========   |<span class="hljs-string">_____/ \____/</span>|<span class="hljs-string">____/</span>|<span class="hljs-string">_</span>|<span class="hljs-string">  \_\______/_/    \_\_____/</span><br><span class="hljs-string">       Rsubread 2.4.3</span><br><span class="hljs-string"></span><br><span class="hljs-string">//========================== featureCounts setting ===========================\\</span><br><span class="hljs-string"></span>||<span class="hljs-string">                                                                            </span>||<br>||<span class="hljs-string">             Input files : 1 BAM file                                       </span>||<br>||<span class="hljs-string">                                                                            </span>||<br>||<span class="hljs-string">                           KID_S4_LD3.bam                                   </span>||<br>||<span class="hljs-string">                                                                            </span>||<br>||<span class="hljs-string">              Paired-end : no                                               </span>||<br>||<span class="hljs-string">        Count read pairs : no                                               </span>||<br>||<span class="hljs-string">              Annotation : genes.gtf (GTF)                                  </span>||<br>||<span class="hljs-string">      Dir for temp files : .                                                </span>||<br>||<span class="hljs-string">                 Threads : 1                                                </span>||<br>||<span class="hljs-string">                   Level : meta-feature level                               </span>||<br>||<span class="hljs-string">      Multimapping reads : counted                                          </span>||<br>||<span class="hljs-string"> Multi-overlapping reads : not counted                                      </span>||<br>||<span class="hljs-string">   Min overlapping bases : 1                                                </span>||<br>||<span class="hljs-string">                                                                            </span>||<br>\\============================================================================//<br><br>//================================= Running ==================================\\<br>||<span class="hljs-string">                                                                            </span>||<br>||<span class="hljs-string"> Load annotation file genes.gtf ...                                         </span>||<br>||<span class="hljs-string">    Features : 246042                                                       </span>||<br>||<span class="hljs-string">    Meta-features : 44677                                                   </span>||<br>||<span class="hljs-string">    Chromosomes/contigs : 18                                                </span>||<br>||<span class="hljs-string">                                                                            </span>||<br>||<span class="hljs-string"> Process BAM file KID_S4_LD3.bam...                                         </span>||<br>||<span class="hljs-string">    Single-end reads are included.                                          </span>||<br>||<span class="hljs-string">    Total alignments : 556850                                               </span>||<br>||<span class="hljs-string">    Successfully assigned alignments : 334274 (60.0%)                       </span>||<br>||<span class="hljs-string">    Running time : 0.02 minutes                                             </span>||<br>||<span class="hljs-string">                                                                            </span>||<br>||<span class="hljs-string"> Write the final count table.                                               </span>||<br>||<span class="hljs-string"> Write the read assignment summary.                                         </span>||<br>||<span class="hljs-string">                                                                            </span>||<br>\\============================================================================//<br><br><br></code></pre></td></tr></table></figure>我们从上面的结果可以看到，其实成功比对的真的很少很少，只有60%，这次主要是练习，数据文件本身就有残缺，所以结果就会如此</p><hr /><p>经过<code>subread</code>处理后会得到俩个文件，一个是<code>count</code>文件，记录基因对应的read关系，一个是<code>log</code>文件，尝试打开一个（<code>KID_S1_LD1.count</code>）：里面记录了每个基因的表达量，使用的是不同的标准化的模式（FPKM和TPM）<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">gene_id</span> counts  fpkm    tpm<br><span class="hljs-attribute">HF32875</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF32876</span> <span class="hljs-number">15</span>      <span class="hljs-number">25</span>.<span class="hljs-number">4415259802859</span>        <span class="hljs-number">23</span>.<span class="hljs-number">9388625965012</span><br><span class="hljs-attribute">HF32877</span> <span class="hljs-number">3</span>       <span class="hljs-number">2</span>.<span class="hljs-number">03342463708189</span>        <span class="hljs-number">1</span>.<span class="hljs-number">91332363574273</span><br><span class="hljs-attribute">HF32878</span> <span class="hljs-number">25</span>      <span class="hljs-number">29</span>.<span class="hljs-number">7651040853782</span>        <span class="hljs-number">28</span>.<span class="hljs-number">0070754176678</span><br><span class="hljs-attribute">HF32879</span> <span class="hljs-number">18</span>      <span class="hljs-number">42</span>.<span class="hljs-number">955539269997</span> <span class="hljs-number">40</span>.<span class="hljs-number">4184384670904</span><br><span class="hljs-attribute">HF32880</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF32881</span> <span class="hljs-number">57</span>      <span class="hljs-number">153</span>.<span class="hljs-number">870852921363</span>        <span class="hljs-number">144</span>.<span class="hljs-number">782715020522</span><br><span class="hljs-attribute">HF32882</span> <span class="hljs-number">6</span>       <span class="hljs-number">28</span>.<span class="hljs-number">953807443051</span> <span class="hljs-number">27</span>.<span class="hljs-number">2436967248677</span><br><span class="hljs-attribute">HF32883</span> <span class="hljs-number">11</span>      <span class="hljs-number">28</span>.<span class="hljs-number">7686512004096</span>        <span class="hljs-number">27</span>.<span class="hljs-number">0694764420548</span><br><span class="hljs-attribute">HF32884</span> <span class="hljs-number">17</span>      <span class="hljs-number">59</span>.<span class="hljs-number">0448663461795</span>        <span class="hljs-number">55</span>.<span class="hljs-number">5574749559139</span><br><span class="hljs-attribute">HF32885</span> <span class="hljs-number">5</span>       <span class="hljs-number">39</span>.<span class="hljs-number">2299789096495</span>        <span class="hljs-number">36</span>.<span class="hljs-number">9129224209838</span><br><span class="hljs-attribute">HF32886</span> <span class="hljs-number">4</span>       <span class="hljs-number">26</span>.<span class="hljs-number">4386282106244</span>        <span class="hljs-number">24</span>.<span class="hljs-number">8770725649297</span><br><span class="hljs-attribute">HF32887</span> <span class="hljs-number">18</span>      <span class="hljs-number">24</span>.<span class="hljs-number">5690631369069</span>        <span class="hljs-number">23</span>.<span class="hljs-number">1179303873095</span><br><span class="hljs-attribute">HF32888</span> <span class="hljs-number">1</span>       <span class="hljs-number">3</span>.<span class="hljs-number">79997705117859</span>        <span class="hljs-number">3</span>.<span class="hljs-number">57553743311272</span><br><span class="hljs-attribute">HF32889</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF32890</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF32891</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF32892</span> <span class="hljs-number">5</span>       <span class="hljs-number">6</span>.<span class="hljs-number">82473976025192</span>        <span class="hljs-number">6</span>.<span class="hljs-number">4216473298082</span><br><span class="hljs-attribute">HF32893</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF32894</span> <span class="hljs-number">3</span>       <span class="hljs-number">3</span>.<span class="hljs-number">67203169592005</span>        <span class="hljs-number">3</span>.<span class="hljs-number">45514896735134</span><br><span class="hljs-attribute">HF32895</span> <span class="hljs-number">6</span>       <span class="hljs-number">31</span>.<span class="hljs-number">308901828371</span> <span class="hljs-number">29</span>.<span class="hljs-number">4596911953114</span><br><span class="hljs-attribute">HF32896</span> <span class="hljs-number">32</span>      <span class="hljs-number">127</span>.<span class="hljs-number">835125414008</span>        <span class="hljs-number">120</span>.<span class="hljs-number">284746467792</span><br><span class="hljs-attribute">HF32897</span> <span class="hljs-number">6</span>       <span class="hljs-number">18</span>.<span class="hljs-number">0761339285346</span>        <span class="hljs-number">17</span>.<span class="hljs-number">0084957453594</span><br><span class="hljs-attribute">HF32898</span> <span class="hljs-number">6</span>       <span class="hljs-number">9</span>.<span class="hljs-number">26849926647243</span>        <span class="hljs-number">8</span>.<span class="hljs-number">72107005640241</span><br><span class="hljs-attribute">HF32899</span> <span class="hljs-number">3</span>       <span class="hljs-number">7</span>.<span class="hljs-number">59113745026628</span>        <span class="hljs-number">7</span>.<span class="hljs-number">14277895570777</span><br><span class="hljs-attribute">HF32900</span> <span class="hljs-number">34</span>      <span class="hljs-number">27</span>.<span class="hljs-number">6717731831349</span>        <span class="hljs-number">26</span>.<span class="hljs-number">0373837853089</span><br><span class="hljs-attribute">HF32901</span> <span class="hljs-number">83</span>      <span class="hljs-number">32</span>.<span class="hljs-number">8682837095589</span>        <span class="hljs-number">30</span>.<span class="hljs-number">9269706587429</span><br><span class="hljs-attribute">HF32902</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF32903</span> <span class="hljs-number">8</span>       <span class="hljs-number">10</span>.<span class="hljs-number">6790052747932</span>        <span class="hljs-number">10</span>.<span class="hljs-number">0482667642923</span><br><span class="hljs-attribute">HF32904</span> <span class="hljs-number">18</span>      <span class="hljs-number">50</span>.<span class="hljs-number">9887829776328</span>        <span class="hljs-number">47</span>.<span class="hljs-number">9772113752216</span><br><span class="hljs-attribute">HF32905</span> <span class="hljs-number">30</span>      <span class="hljs-number">87</span>.<span class="hljs-number">4807551086836</span>        <span class="hljs-number">82</span>.<span class="hljs-number">3138430457231</span><br><span class="hljs-attribute">HF32906</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><br></code></pre></td></tr></table></figure></p><p>再打开这个转录组log文件： 比对上的一共<code>305644</code>未比对成功的，其中<code>unmapped</code>未匹配上注释文件的一共有119800个，Unassigned_NoFeatures(未映射到注释文件中注释的片段)（130553），说明注释文件没有给出较为全面的注释，581个都是比对时模糊不清的。<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Assigned</span>        <span class="hljs-number">305644</span><br><span class="hljs-attribute">Unassigned_Unmapped</span>     <span class="hljs-number">119800</span><br><span class="hljs-attribute">Unassigned_Read_Type</span>    <span class="hljs-number">0</span><br><span class="hljs-attribute">Unassigned_Singleton</span>    <span class="hljs-number">0</span><br><span class="hljs-attribute">Unassigned_MappingQuality</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">Unassigned_Chimera</span>      <span class="hljs-number">0</span><br><span class="hljs-attribute">Unassigned_FragmentLength</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">Unassigned_Duplicate</span>    <span class="hljs-number">0</span><br><span class="hljs-attribute">Unassigned_MultiMapping</span> <span class="hljs-number">0</span><br><span class="hljs-attribute">Unassigned_Secondary</span>    <span class="hljs-number">0</span><br><span class="hljs-attribute">Unassigned_NonSplit</span>     <span class="hljs-number">0</span><br><span class="hljs-attribute">Unassigned_NoFeatures</span>   <span class="hljs-number">130553</span><br><span class="hljs-attribute">Unassigned_Overlapping_Length</span>   <span class="hljs-number">0</span><br><span class="hljs-attribute">Unassigned_Ambiguity</span>    <span class="hljs-number">581</span><br></code></pre></td></tr></table></figure></p><blockquote><p>参考网上的说法 Assigned: The read (or fragment) was assigned to agene feature in the annotation file provided with option -a Ambiguity:Section 5.3 of the paper. The fragment might originate from gene A orgene B, and it is not clear which gene it originated from. MultiMapping:The fragment maps to multiple different positions. Will a read withmultiple alignments be assigned or unassigned if I use the --primaryoption? NoFeatures: The fragment mapped to a region that is notannotated in the annotation file. Unmapped: The fragment is not mappedto the reference at all. MappingQuality: The fragment’s mapping qualityis below the threshold I set with option -Q. FragementLength: The insertsize between the two read mates is larger or smaller than the optionsset with -d and -D. Chimera: ??? I’m guessing that the fragment’s matesare mapped to different chromosomes. Secondary: ??? Nonjunction: ???Duplicate: The fragment is duplicated in the data, so it was notassigned.</p></blockquote><p>我们打开count矩阵，可以看到不同基因下匹配到的reads</p><p>reads count矩阵</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs apache">        <span class="hljs-attribute">BLO_S1_LD1</span>      BLO_S1_LD2      BLO_S1_LD3      BLO_S2_LD1      BLO_S2_LD2      BLO_S2_LD3      BLO_S3_LD1      BLO_S3_LD2      BLO_S3_LD3      BLO_S4_LD1      BLO_S4_<br><span class="hljs-attribute">HF18496</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF16431</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF07143</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF39048</span> <span class="hljs-number">10</span>      <span class="hljs-number">0</span>       <span class="hljs-number">1</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">3</span>       <span class="hljs-number">1</span>       <span class="hljs-number">1</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">1</span>       <span class="hljs-number">0</span>       <span class="hljs-number">1</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">1</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF32055</span> <span class="hljs-number">2</span>       <span class="hljs-number">1</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">1</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">1</span><br><span class="hljs-attribute">HF35981</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF31129</span> <span class="hljs-number">197</span>     <span class="hljs-number">12</span>      <span class="hljs-number">4</span>       <span class="hljs-number">15</span>      <span class="hljs-number">11</span>      <span class="hljs-number">12</span>      <span class="hljs-number">16</span>      <span class="hljs-number">9</span>       <span class="hljs-number">4</span>       <span class="hljs-number">9</span>       <span class="hljs-number">13</span>      <span class="hljs-number">10</span>      <span class="hljs-number">8</span>       <span class="hljs-number">12</span>      <span class="hljs-number">24</span>      <span class="hljs-number">13</span>      <span class="hljs-number">13</span>      <span class="hljs-number">11</span>      <span class="hljs-number">15</span>      <span class="hljs-number">13</span>      <span class="hljs-number">14</span><br><span class="hljs-attribute">HF14726</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF30136</span> <span class="hljs-number">397</span>     <span class="hljs-number">28</span>      <span class="hljs-number">16</span>      <span class="hljs-number">17</span>      <span class="hljs-number">20</span>      <span class="hljs-number">18</span>      <span class="hljs-number">20</span>      <span class="hljs-number">18</span>      <span class="hljs-number">28</span>      <span class="hljs-number">27</span>      <span class="hljs-number">26</span>      <span class="hljs-number">26</span>      <span class="hljs-number">21</span>      <span class="hljs-number">23</span>      <span class="hljs-number">29</span>      <span class="hljs-number">19</span>      <span class="hljs-number">17</span>      <span class="hljs-number">15</span>      <span class="hljs-number">28</span>      <span class="hljs-number">25</span>      <span class="hljs-number">20</span><br><span class="hljs-attribute">HF01285</span> <span class="hljs-number">144</span>     <span class="hljs-number">5</span>       <span class="hljs-number">11</span>      <span class="hljs-number">7</span>       <span class="hljs-number">7</span>       <span class="hljs-number">6</span>       <span class="hljs-number">10</span>      <span class="hljs-number">11</span>      <span class="hljs-number">10</span>      <span class="hljs-number">6</span>       <span class="hljs-number">3</span>       <span class="hljs-number">4</span>       <span class="hljs-number">4</span>       <span class="hljs-number">5</span>       <span class="hljs-number">6</span>       <span class="hljs-number">6</span>       <span class="hljs-number">10</span>      <span class="hljs-number">6</span>       <span class="hljs-number">12</span>      <span class="hljs-number">8</span>       <span class="hljs-number">16</span><br><span class="hljs-attribute">HF15351</span> <span class="hljs-number">146</span>     <span class="hljs-number">7</span>       <span class="hljs-number">11</span>      <span class="hljs-number">6</span>       <span class="hljs-number">3</span>       <span class="hljs-number">6</span>       <span class="hljs-number">6</span>       <span class="hljs-number">9</span>       <span class="hljs-number">11</span>      <span class="hljs-number">5</span>       <span class="hljs-number">2</span>       <span class="hljs-number">9</span>       <span class="hljs-number">9</span>       <span class="hljs-number">6</span>       <span class="hljs-number">10</span>      <span class="hljs-number">4</span>       <span class="hljs-number">5</span>       <span class="hljs-number">2</span>       <span class="hljs-number">6</span>       <span class="hljs-number">12</span>      <span class="hljs-number">6</span><br><span class="hljs-attribute">HF28792</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF42099</span> <span class="hljs-number">175</span>     <span class="hljs-number">9</span>       <span class="hljs-number">11</span>      <span class="hljs-number">4</span>       <span class="hljs-number">4</span>       <span class="hljs-number">12</span>      <span class="hljs-number">17</span>      <span class="hljs-number">11</span>      <span class="hljs-number">15</span>      <span class="hljs-number">75</span>      <span class="hljs-number">79</span>      <span class="hljs-number">67</span>      <span class="hljs-number">7</span>       <span class="hljs-number">14</span>      <span class="hljs-number">15</span>      <span class="hljs-number">4</span>       <span class="hljs-number">10</span>      <span class="hljs-number">6</span>       <span class="hljs-number">15</span>      <span class="hljs-number">21</span>      <span class="hljs-number">30</span><br><span class="hljs-attribute">HF12561</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF21569</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF05175</span> <span class="hljs-number">67</span>      <span class="hljs-number">3</span>       <span class="hljs-number">4</span>       <span class="hljs-number">2</span>       <span class="hljs-number">2</span>       <span class="hljs-number">3</span>       <span class="hljs-number">1</span>       <span class="hljs-number">1</span>       <span class="hljs-number">3</span>       <span class="hljs-number">4</span>       <span class="hljs-number">2</span>       <span class="hljs-number">5</span>       <span class="hljs-number">3</span>       <span class="hljs-number">1</span>       <span class="hljs-number">0</span>       <span class="hljs-number">2</span>       <span class="hljs-number">3</span>       <span class="hljs-number">3</span>       <span class="hljs-number">5</span>       <span class="hljs-number">4</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF24422</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF02960</span> <span class="hljs-number">110</span>     <span class="hljs-number">4</span>       <span class="hljs-number">5</span>       <span class="hljs-number">4</span>       <span class="hljs-number">15</span>      <span class="hljs-number">6</span>       <span class="hljs-number">14</span>      <span class="hljs-number">17</span>      <span class="hljs-number">15</span>      <span class="hljs-number">14</span>      <span class="hljs-number">14</span>      <span class="hljs-number">15</span>      <span class="hljs-number">6</span>       <span class="hljs-number">5</span>       <span class="hljs-number">6</span>       <span class="hljs-number">8</span>       <span class="hljs-number">6</span>       <span class="hljs-number">9</span>       <span class="hljs-number">12</span>      <span class="hljs-number">7</span>       <span class="hljs-number">10</span><br><span class="hljs-attribute">HF03959</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF11853</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF20463</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF30006</span> <span class="hljs-number">4</span>       <span class="hljs-number">2</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">1</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF25733</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF19008</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF42715</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><br></code></pre></td></tr></table></figure><p>对上述矩阵进行标准化后：（方法是TPM） TPM矩阵 <figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs apache">        <span class="hljs-attribute">BLO_S1_LD1</span>      BLO_S1_LD2      BLO_S1_LD3      BLO_S2_LD1      BLO_S2_LD2      BLO_S2_LD3      BLO_S3_LD1      BLO_S3_LD2      BLO_S3_LD3      BLO_S4_LD1      BLO_S4_<br><span class="hljs-attribute">HF18496</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF16431</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF07143</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF39048</span> <span class="hljs-number">3</span>.<span class="hljs-number">64430415937764</span>        <span class="hljs-number">0</span>       <span class="hljs-number">6</span>.<span class="hljs-number">43321840995913</span>        <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">16</span>.<span class="hljs-number">4326267389083</span>        <span class="hljs-number">5</span>.<span class="hljs-number">64536361832566</span>        <span class="hljs-number">5</span>.<span class="hljs-number">9040116944613</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF32055</span> <span class="hljs-number">0</span>.<span class="hljs-number">728860831875528</span>       <span class="hljs-number">5</span>.<span class="hljs-number">97388663516309</span>        <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">6</span>.<span class="hljs-number">79366266459393</span>        <span class="hljs-number">0</span><br><span class="hljs-attribute">HF35981</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF31129</span> <span class="hljs-number">39</span>.<span class="hljs-number">2324922495974</span>        <span class="hljs-number">39</span>.<span class="hljs-number">1744833621847</span>        <span class="hljs-number">14</span>.<span class="hljs-number">0622023236281</span>        <span class="hljs-number">52</span>.<span class="hljs-number">9458320708972</span>        <span class="hljs-number">40</span>.<span class="hljs-number">927037081633</span> <span class="hljs-number">44</span>.<span class="hljs-number">2142685920757</span>        <span class="hljs-number">49</span>.<span class="hljs-number">040039090221</span> <span class="hljs-number">26</span>.<span class="hljs-number">939733798730</span><br><span class="hljs-attribute">HF14726</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF30136</span> <span class="hljs-number">34</span>.<span class="hljs-number">1377121086869</span>        <span class="hljs-number">39</span>.<span class="hljs-number">4679251851224</span>        <span class="hljs-number">24</span>.<span class="hljs-number">2872065814187</span>        <span class="hljs-number">25</span>.<span class="hljs-number">9091803167698</span>        <span class="hljs-number">32</span>.<span class="hljs-number">1300831021721</span>        <span class="hljs-number">28</span>.<span class="hljs-number">636368181224</span> <span class="hljs-number">26</span>.<span class="hljs-number">468239396608</span> <span class="hljs-number">23</span>.<span class="hljs-number">264168192162</span><br><span class="hljs-attribute">HF01285</span> <span class="hljs-number">15</span>.<span class="hljs-number">7755890482016</span>        <span class="hljs-number">8</span>.<span class="hljs-number">97915475837397</span>        <span class="hljs-number">21</span>.<span class="hljs-number">273035110233</span> <span class="hljs-number">13</span>.<span class="hljs-number">5919566175187</span>        <span class="hljs-number">14</span>.<span class="hljs-number">3271260131465</span>        <span class="hljs-number">12</span>.<span class="hljs-number">1611843060004</span>        <span class="hljs-number">16</span>.<span class="hljs-number">8606473865918</span>        <span class="hljs-number">18</span>.<span class="hljs-number">1128</span><br><span class="hljs-attribute">HF15351</span> <span class="hljs-number">12</span>.<span class="hljs-number">8641539257505</span>        <span class="hljs-number">10</span>.<span class="hljs-number">1104101111559</span>        <span class="hljs-number">17</span>.<span class="hljs-number">1093983041183</span>        <span class="hljs-number">9</span>.<span class="hljs-number">37001896517854</span>        <span class="hljs-number">4</span>.<span class="hljs-number">93841491101642</span>        <span class="hljs-number">9</span>.<span class="hljs-number">78095250926674</span>        <span class="hljs-number">8</span>.<span class="hljs-number">13637161714809</span><br><span class="hljs-attribute">HF28792</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF42099</span> <span class="hljs-number">14</span>.<span class="hljs-number">9759943290718</span>        <span class="hljs-number">12</span>.<span class="hljs-number">6253227129725</span>        <span class="hljs-number">16</span>.<span class="hljs-number">6174347746069</span>        <span class="hljs-number">6</span>.<span class="hljs-number">06706233315074</span>        <span class="hljs-number">6</span>.<span class="hljs-number">39522101362723</span>        <span class="hljs-number">18</span>.<span class="hljs-number">9994221266268</span>        <span class="hljs-number">22</span>.<span class="hljs-number">3901855790316</span><br><span class="hljs-attribute">HF12561</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF21569</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF05175</span> <span class="hljs-number">2</span>.<span class="hljs-number">61418438934525</span>        <span class="hljs-number">1</span>.<span class="hljs-number">91877931981567</span>        <span class="hljs-number">2</span>.<span class="hljs-number">75508552443989</span>        <span class="hljs-number">1</span>.<span class="hljs-number">38309578315818</span>        <span class="hljs-number">1</span>.<span class="hljs-number">4579054459325</span> <span class="hljs-number">2</span>.<span class="hljs-number">16562968886897</span>        <span class="hljs-number">0</span>.<span class="hljs-number">600499386164851</span>       <span class="hljs-number">0</span>.<span class="hljs-number">58645</span><br><span class="hljs-attribute">HF24422</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><span class="hljs-attribute">HF02960</span> <span class="hljs-number">19</span>.<span class="hljs-number">3843415319528</span>        <span class="hljs-number">11</span>.<span class="hljs-number">5547544127497</span>        <span class="hljs-number">15</span>.<span class="hljs-number">5539984582893</span>        <span class="hljs-number">12</span>.<span class="hljs-number">493358620238</span> <span class="hljs-number">49</span>.<span class="hljs-number">3841491101642</span>        <span class="hljs-number">19</span>.<span class="hljs-number">5619050185335</span>        <span class="hljs-number">37</span>.<span class="hljs-number">9697342133578</span>        <span class="hljs-number">45</span>.<span class="hljs-number">0275</span><br><span class="hljs-attribute">HF03959</span> <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span>       <span class="hljs-number">0</span><br><br></code></pre></td></tr></table></figure>与此同时TPM矩阵相应有个校正因子的信息，我们可以发现因子大部分是大于80%，可见校正幅度不大。norm factors校正因子 <figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs apache"><br><span class="hljs-attribute">group</span>   lib.size        norm.factors    eff.lib.size<br><span class="hljs-attribute">BLO_S1_LD1</span>      <span class="hljs-number">999623</span>  <span class="hljs-number">1</span>.<span class="hljs-number">19835285824697</span>        <span class="hljs-number">1197901</span>.<span class="hljs-number">07921941</span><br><span class="hljs-attribute">BLO_S1_LD2</span>      <span class="hljs-number">1000024</span> <span class="hljs-number">1</span>.<span class="hljs-number">14444978101036</span>        <span class="hljs-number">1144477</span>.<span class="hljs-number">24780511</span><br><span class="hljs-attribute">BLO_S1_LD3</span>      <span class="hljs-number">1000092</span> <span class="hljs-number">1</span>.<span class="hljs-number">17712340823365</span>        <span class="hljs-number">1177231</span>.<span class="hljs-number">70358721</span><br><span class="hljs-attribute">BLO_S2_LD1</span>      <span class="hljs-number">1000051</span> <span class="hljs-number">0</span>.<span class="hljs-number">790137765984441</span>       <span class="hljs-number">790178</span>.<span class="hljs-number">063010506</span><br><span class="hljs-attribute">BLO_S2_LD2</span>      <span class="hljs-number">1000037</span> <span class="hljs-number">0</span>.<span class="hljs-number">920995506851478</span>       <span class="hljs-number">921029</span>.<span class="hljs-number">583685232</span><br><span class="hljs-attribute">BLO_S2_LD3</span>      <span class="hljs-number">999995</span>  <span class="hljs-number">1</span>.<span class="hljs-number">0840994226589</span> <span class="hljs-number">1084094</span>.<span class="hljs-number">00216179</span><br><span class="hljs-attribute">BLO_S3_LD1</span>      <span class="hljs-number">999966</span>  <span class="hljs-number">0</span>.<span class="hljs-number">971096339652144</span>       <span class="hljs-number">971063</span>.<span class="hljs-number">322376596</span><br><span class="hljs-attribute">BLO_S3_LD2</span>      <span class="hljs-number">1000002</span> <span class="hljs-number">0</span>.<span class="hljs-number">897106990690095</span>       <span class="hljs-number">897108</span>.<span class="hljs-number">784904077</span><br><span class="hljs-attribute">BLO_S3_LD3</span>      <span class="hljs-number">999976</span>  <span class="hljs-number">0</span>.<span class="hljs-number">887155199786789</span>       <span class="hljs-number">887133</span>.<span class="hljs-number">908061994</span><br><span class="hljs-attribute">BLO_S4_LD1</span>      <span class="hljs-number">999972</span>  <span class="hljs-number">0</span>.<span class="hljs-number">874964482098764</span>       <span class="hljs-number">874939</span>.<span class="hljs-number">983093265</span><br><span class="hljs-attribute">BLO_S4_LD2</span>      <span class="hljs-number">1000096</span> <span class="hljs-number">0</span>.<span class="hljs-number">929513259538841</span>       <span class="hljs-number">929602</span>.<span class="hljs-number">492811757</span><br><span class="hljs-attribute">BLO_S4_LD3</span>      <span class="hljs-number">1000037</span> <span class="hljs-number">0</span>.<span class="hljs-number">875277014429481</span>       <span class="hljs-number">875309</span>.<span class="hljs-number">399679015</span><br><span class="hljs-attribute">KID_S1_LD1</span>      <span class="hljs-number">999994</span>  <span class="hljs-number">1</span>.<span class="hljs-number">266534203831</span>  <span class="hljs-number">1266526</span>.<span class="hljs-number">60462578</span><br><span class="hljs-attribute">KID_S1_LD2</span>      <span class="hljs-number">999939</span>  <span class="hljs-number">1</span>.<span class="hljs-number">21755253986366</span>        <span class="hljs-number">1217478</span>.<span class="hljs-number">26915873</span><br><span class="hljs-attribute">KID_S1_LD3</span>      <span class="hljs-number">1000050</span> <span class="hljs-number">1</span>.<span class="hljs-number">24861324728186</span>        <span class="hljs-number">1248675</span>.<span class="hljs-number">67794423</span><br><span class="hljs-attribute">KID_S2_LD1</span>      <span class="hljs-number">999975</span>  <span class="hljs-number">0</span>.<span class="hljs-number">968264483401714</span>       <span class="hljs-number">968240</span>.<span class="hljs-number">276789629</span><br><span class="hljs-attribute">KID_S2_LD2</span>      <span class="hljs-number">999949</span>  <span class="hljs-number">1</span>.<span class="hljs-number">08012898371</span>   <span class="hljs-number">1080073</span>.<span class="hljs-number">89713183</span><br><span class="hljs-attribute">KID_S2_LD3</span>      <span class="hljs-number">1000066</span> <span class="hljs-number">1</span>.<span class="hljs-number">11022114688009</span>        <span class="hljs-number">1110294</span>.<span class="hljs-number">42147579</span><br><span class="hljs-attribute">KID_S3_LD1</span>      <span class="hljs-number">999960</span>  <span class="hljs-number">1</span>.<span class="hljs-number">00488458514679</span>        <span class="hljs-number">1004844</span>.<span class="hljs-number">38976338</span><br><span class="hljs-attribute">KID_S3_LD2</span>      <span class="hljs-number">999942</span>  <span class="hljs-number">0</span>.<span class="hljs-number">898797372534519</span>       <span class="hljs-number">898745</span>.<span class="hljs-number">242286912</span><br><span class="hljs-attribute">KID_S3_LD3</span>      <span class="hljs-number">999931</span>  <span class="hljs-number">0</span>.<span class="hljs-number">974514145521912</span>       <span class="hljs-number">974446</span>.<span class="hljs-number">904045871</span><br><span class="hljs-attribute">KID_S4_LD1</span>      <span class="hljs-number">1000018</span> <span class="hljs-number">0</span>.<span class="hljs-number">87262090923823</span>        <span class="hljs-number">872636</span>.<span class="hljs-number">616414597</span><br><span class="hljs-attribute">KID_S4_LD2</span>      <span class="hljs-number">999966</span>  <span class="hljs-number">0</span>.<span class="hljs-number">892593891696263</span>       <span class="hljs-number">892563</span>.<span class="hljs-number">543503945</span><br><span class="hljs-attribute">KID_S4_LD3</span>      <span class="hljs-number">999965</span>  <span class="hljs-number">0</span>.<span class="hljs-number">931133742026098</span>       <span class="hljs-number">931101</span>.<span class="hljs-number">152345127</span><br><br></code></pre></td></tr></table></figure></p><p>在TPM算法下，使用TMM修正后的矩阵：（一般我们使用的就是这个矩阵）TMM校正依赖这个perl程序<code>script/support_scripts/run_TMM_scale_matrix.pl</code></p><p>TPM+TMM矩阵 <figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs apache">        <span class="hljs-attribute">BLO_S1_LD1</span>      BLO_S1_LD2      BLO_S1_LD3      BLO_S2_LD1      BLO_S2_LD2      BLO_S2_LD3      BLO_S3_LD1      BLO_S3_LD2      BLO_S3_LD3      BLO_S4_LD1      BLO_S4_<br><span class="hljs-attribute">HF18496</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF16431</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF07143</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF39048</span> <span class="hljs-number">3</span>.<span class="hljs-number">041</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">5</span>.<span class="hljs-number">465</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">18</span>.<span class="hljs-number">317</span>  <span class="hljs-number">6</span>.<span class="hljs-number">363</span>   <span class="hljs-number">6</span>.<span class="hljs-number">748</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">5</span>.<span class="hljs-number">580</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">7</span>.<span class="hljs-number">018</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">6</span>.<span class="hljs-number">191</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF32055</span> <span class="hljs-number">0</span>.<span class="hljs-number">608</span>   <span class="hljs-number">5</span>.<span class="hljs-number">220</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">5</span>.<span class="hljs-number">580</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">5</span>.<span class="hljs-number">755</span><br><span class="hljs-attribute">HF35981</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF31129</span> <span class="hljs-number">32</span>.<span class="hljs-number">739</span>  <span class="hljs-number">34</span>.<span class="hljs-number">230</span>  <span class="hljs-number">11</span>.<span class="hljs-number">946</span>  <span class="hljs-number">67</span>.<span class="hljs-number">008</span>  <span class="hljs-number">44</span>.<span class="hljs-number">438</span>  <span class="hljs-number">40</span>.<span class="hljs-number">784</span>  <span class="hljs-number">50</span>.<span class="hljs-number">500</span>  <span class="hljs-number">30</span>.<span class="hljs-number">030</span>  <span class="hljs-number">13</span>.<span class="hljs-number">910</span>  <span class="hljs-number">33</span>.<span class="hljs-number">187</span>  <span class="hljs-number">44</span>.<span class="hljs-number">993</span>  <span class="hljs-number">38</span>.<span class="hljs-number">408</span>  <span class="hljs-number">24</span>.<span class="hljs-number">096</span>  <span class="hljs-number">36</span>.<span class="hljs-number">590</span>  <span class="hljs-number">70</span>.<span class="hljs-number">466</span>  <span class="hljs-number">49</span>.<span class="hljs-number">855</span>  <span class="hljs-number">50</span>.<span class="hljs-number">071</span>  <span class="hljs-number">41</span>.<span class="hljs-number">555</span>  <span class="hljs-number">50</span>.<span class="hljs-number">901</span>  <span class="hljs-number">43</span>.<span class="hljs-number">980</span>  <span class="hljs-number">44</span>.<span class="hljs-number">029</span><br><span class="hljs-attribute">HF14726</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF30136</span> <span class="hljs-number">28</span>.<span class="hljs-number">487</span>  <span class="hljs-number">34</span>.<span class="hljs-number">486</span>  <span class="hljs-number">20</span>.<span class="hljs-number">633</span>  <span class="hljs-number">32</span>.<span class="hljs-number">791</span>  <span class="hljs-number">34</span>.<span class="hljs-number">886</span>  <span class="hljs-number">26</span>.<span class="hljs-number">415</span>  <span class="hljs-number">27</span>.<span class="hljs-number">256</span>  <span class="hljs-number">25</span>.<span class="hljs-number">932</span>  <span class="hljs-number">42</span>.<span class="hljs-number">042</span>  <span class="hljs-number">42</span>.<span class="hljs-number">988</span>  <span class="hljs-number">38</span>.<span class="hljs-number">854</span>  <span class="hljs-number">43</span>.<span class="hljs-number">118</span>  <span class="hljs-number">27</span>.<span class="hljs-number">311</span>  <span class="hljs-number">30</span>.<span class="hljs-number">281</span>  <span class="hljs-number">36</span>.<span class="hljs-number">764</span>  <span class="hljs-number">31</span>.<span class="hljs-number">462</span>  <span class="hljs-number">28</span>.<span class="hljs-number">272</span>  <span class="hljs-number">24</span>.<span class="hljs-number">467</span>  <span class="hljs-number">41</span>.<span class="hljs-number">026</span>  <span class="hljs-number">36</span>.<span class="hljs-number">519</span>  <span class="hljs-number">27</span>.<span class="hljs-number">158</span><br><span class="hljs-attribute">HF01285</span> <span class="hljs-number">13</span>.<span class="hljs-number">164</span>  <span class="hljs-number">7</span>.<span class="hljs-number">846</span>   <span class="hljs-number">18</span>.<span class="hljs-number">072</span>  <span class="hljs-number">17</span>.<span class="hljs-number">202</span>  <span class="hljs-number">15</span>.<span class="hljs-number">556</span>  <span class="hljs-number">11</span>.<span class="hljs-number">218</span>  <span class="hljs-number">17</span>.<span class="hljs-number">362</span>  <span class="hljs-number">20</span>.<span class="hljs-number">190</span>  <span class="hljs-number">19</span>.<span class="hljs-number">129</span>  <span class="hljs-number">12</span>.<span class="hljs-number">171</span>  <span class="hljs-number">5</span>.<span class="hljs-number">712</span>   <span class="hljs-number">8</span>.<span class="hljs-number">451</span>   <span class="hljs-number">6</span>.<span class="hljs-number">628</span>   <span class="hljs-number">8</span>.<span class="hljs-number">387</span>   <span class="hljs-number">9</span>.<span class="hljs-number">691</span>   <span class="hljs-number">12</span>.<span class="hljs-number">658</span>  <span class="hljs-number">21</span>.<span class="hljs-number">188</span>  <span class="hljs-number">12</span>.<span class="hljs-number">469</span>  <span class="hljs-number">22</span>.<span class="hljs-number">401</span>  <span class="hljs-number">14</span>.<span class="hljs-number">888</span>  <span class="hljs-number">27</span>.<span class="hljs-number">680</span><br><span class="hljs-attribute">HF15351</span> <span class="hljs-number">10</span>.<span class="hljs-number">735</span>  <span class="hljs-number">8</span>.<span class="hljs-number">834</span>   <span class="hljs-number">14</span>.<span class="hljs-number">535</span>  <span class="hljs-number">11</span>.<span class="hljs-number">859</span>  <span class="hljs-number">5</span>.<span class="hljs-number">362</span>   <span class="hljs-number">9</span>.<span class="hljs-number">022</span>   <span class="hljs-number">8</span>.<span class="hljs-number">379</span>   <span class="hljs-number">13</span>.<span class="hljs-number">286</span>  <span class="hljs-number">16</span>.<span class="hljs-number">924</span>  <span class="hljs-number">8</span>.<span class="hljs-number">157</span>   <span class="hljs-number">3</span>.<span class="hljs-number">063</span>   <span class="hljs-number">15</span>.<span class="hljs-number">294</span>  <span class="hljs-number">11</span>.<span class="hljs-number">993</span>  <span class="hljs-number">8</span>.<span class="hljs-number">094</span>   <span class="hljs-number">12</span>.<span class="hljs-number">990</span>  <span class="hljs-number">6</span>.<span class="hljs-number">787</span>   <span class="hljs-number">8</span>.<span class="hljs-number">520</span>   <span class="hljs-number">3</span>.<span class="hljs-number">343</span>   <span class="hljs-number">9</span>.<span class="hljs-number">008</span>   <span class="hljs-number">17</span>.<span class="hljs-number">961</span>  <span class="hljs-number">8</span>.<span class="hljs-number">348</span><br><span class="hljs-attribute">HF28792</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF42099</span> <span class="hljs-number">12</span>.<span class="hljs-number">497</span>  <span class="hljs-number">11</span>.<span class="hljs-number">032</span>  <span class="hljs-number">14</span>.<span class="hljs-number">117</span>  <span class="hljs-number">7</span>.<span class="hljs-number">678</span>   <span class="hljs-number">6</span>.<span class="hljs-number">944</span>   <span class="hljs-number">17</span>.<span class="hljs-number">526</span>  <span class="hljs-number">23</span>.<span class="hljs-number">057</span>  <span class="hljs-number">15</span>.<span class="hljs-number">772</span>  <span class="hljs-number">22</span>.<span class="hljs-number">414</span>  <span class="hljs-number">118</span>.<span class="hljs-number">840</span> <span class="hljs-number">117</span>.<span class="hljs-number">491</span> <span class="hljs-number">110</span>.<span class="hljs-number">580</span> <span class="hljs-number">9</span>.<span class="hljs-number">060</span>   <span class="hljs-number">18</span>.<span class="hljs-number">344</span>  <span class="hljs-number">18</span>.<span class="hljs-number">925</span>  <span class="hljs-number">6</span>.<span class="hljs-number">592</span>   <span class="hljs-number">16</span>.<span class="hljs-number">551</span>  <span class="hljs-number">9</span>.<span class="hljs-number">740</span>   <span class="hljs-number">21</span>.<span class="hljs-number">873</span>  <span class="hljs-number">30</span>.<span class="hljs-number">529</span>  <span class="hljs-number">40</span>.<span class="hljs-number">542</span><br><span class="hljs-attribute">HF12561</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF21569</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF05175</span> <span class="hljs-number">2</span>.<span class="hljs-number">181</span>   <span class="hljs-number">1</span>.<span class="hljs-number">677</span>   <span class="hljs-number">2</span>.<span class="hljs-number">341</span>   <span class="hljs-number">1</span>.<span class="hljs-number">750</span>   <span class="hljs-number">1</span>.<span class="hljs-number">583</span>   <span class="hljs-number">1</span>.<span class="hljs-number">998</span>   <span class="hljs-number">0</span>.<span class="hljs-number">618</span>   <span class="hljs-number">0</span>.<span class="hljs-number">654</span>   <span class="hljs-number">2</span>.<span class="hljs-number">044</span>   <span class="hljs-number">2</span>.<span class="hljs-number">890</span>   <span class="hljs-number">1</span>.<span class="hljs-number">356</span>   <span class="hljs-number">3</span>.<span class="hljs-number">762</span>   <span class="hljs-number">1</span>.<span class="hljs-number">770</span>   <span class="hljs-number">0</span>.<span class="hljs-number">597</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">1</span>.<span class="hljs-number">503</span>   <span class="hljs-number">2</span>.<span class="hljs-number">264</span>   <span class="hljs-number">2</span>.<span class="hljs-number">220</span>   <span class="hljs-number">3</span>.<span class="hljs-number">324</span>   <span class="hljs-number">2</span>.<span class="hljs-number">651</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF24422</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF02960</span> <span class="hljs-number">16</span>.<span class="hljs-number">176</span>  <span class="hljs-number">10</span>.<span class="hljs-number">096</span>  <span class="hljs-number">13</span>.<span class="hljs-number">214</span>  <span class="hljs-number">15</span>.<span class="hljs-number">812</span>  <span class="hljs-number">53</span>.<span class="hljs-number">620</span>  <span class="hljs-number">18</span>.<span class="hljs-number">044</span>  <span class="hljs-number">39</span>.<span class="hljs-number">100</span>  <span class="hljs-number">50</span>.<span class="hljs-number">192</span>  <span class="hljs-number">46</span>.<span class="hljs-number">156</span>  <span class="hljs-number">45</span>.<span class="hljs-number">680</span>  <span class="hljs-number">42</span>.<span class="hljs-number">875</span>  <span class="hljs-number">50</span>.<span class="hljs-number">979</span>  <span class="hljs-number">15</span>.<span class="hljs-number">991</span>  <span class="hljs-number">13</span>.<span class="hljs-number">491</span>  <span class="hljs-number">15</span>.<span class="hljs-number">588</span>  <span class="hljs-number">27</span>.<span class="hljs-number">148</span>  <span class="hljs-number">20</span>.<span class="hljs-number">449</span>  <span class="hljs-number">30</span>.<span class="hljs-number">085</span>  <span class="hljs-number">36</span>.<span class="hljs-number">033</span>  <span class="hljs-number">20</span>.<span class="hljs-number">955</span>  <span class="hljs-number">27</span>.<span class="hljs-number">828</span><br><span class="hljs-attribute">HF03959</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF11853</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF20463</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF30006</span> <span class="hljs-number">0</span>.<span class="hljs-number">351</span>   <span class="hljs-number">3</span>.<span class="hljs-number">015</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">1</span>.<span class="hljs-number">611</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF25733</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF19008</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF42715</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF19277</span> <span class="hljs-number">26</span>.<span class="hljs-number">619</span>  <span class="hljs-number">28</span>.<span class="hljs-number">132</span>  <span class="hljs-number">35</span>.<span class="hljs-number">548</span>  <span class="hljs-number">21</span>.<span class="hljs-number">269</span>  <span class="hljs-number">19</span>.<span class="hljs-number">234</span>  <span class="hljs-number">18</span>.<span class="hljs-number">493</span>  <span class="hljs-number">21</span>.<span class="hljs-number">467</span>  <span class="hljs-number">21</span>.<span class="hljs-number">559</span>  <span class="hljs-number">23</span>.<span class="hljs-number">652</span>  <span class="hljs-number">16</span>.<span class="hljs-number">302</span>  <span class="hljs-number">22</span>.<span class="hljs-number">363</span>  <span class="hljs-number">28</span>.<span class="hljs-number">736</span>  <span class="hljs-number">30</span>.<span class="hljs-number">729</span>  <span class="hljs-number">27</span>.<span class="hljs-number">998</span>  <span class="hljs-number">27</span>.<span class="hljs-number">958</span>  <span class="hljs-number">16</span>.<span class="hljs-number">954</span>  <span class="hljs-number">13</span>.<span class="hljs-number">098</span>  <span class="hljs-number">23</span>.<span class="hljs-number">125</span>  <span class="hljs-number">23</span>.<span class="hljs-number">080</span>  <span class="hljs-number">17</span>.<span class="hljs-number">257</span>  <span class="hljs-number">14</span>.<span class="hljs-number">973</span><br><span class="hljs-attribute">HF34254</span> <span class="hljs-number">2</span>.<span class="hljs-number">451</span>   <span class="hljs-number">5</span>.<span class="hljs-number">802</span>   <span class="hljs-number">4</span>.<span class="hljs-number">556</span>   <span class="hljs-number">4</span>.<span class="hljs-number">543</span>   <span class="hljs-number">4</span>.<span class="hljs-number">109</span>   <span class="hljs-number">3</span>.<span class="hljs-number">457</span>   <span class="hljs-number">3</span>.<span class="hljs-number">210</span>   <span class="hljs-number">1</span>.<span class="hljs-number">697</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">3</span>.<span class="hljs-number">520</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">1</span>.<span class="hljs-number">532</span>   <span class="hljs-number">3</span>.<span class="hljs-number">101</span>   <span class="hljs-number">1</span>.<span class="hljs-number">493</span>   <span class="hljs-number">1</span>.<span class="hljs-number">950</span>   <span class="hljs-number">5</span>.<span class="hljs-number">876</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">5</span>.<span class="hljs-number">177</span>   <span class="hljs-number">3</span>.<span class="hljs-number">441</span>   <span class="hljs-number">3</span>.<span class="hljs-number">198</span><br><span class="hljs-attribute">HF27633</span> <span class="hljs-number">6</span>.<span class="hljs-number">529</span>   <span class="hljs-number">7</span>.<span class="hljs-number">067</span>   <span class="hljs-number">11</span>.<span class="hljs-number">628</span>  <span class="hljs-number">1</span>.<span class="hljs-number">581</span>   <span class="hljs-number">4</span>.<span class="hljs-number">290</span>   <span class="hljs-number">4</span>.<span class="hljs-number">812</span>   <span class="hljs-number">3</span>.<span class="hljs-number">351</span>   <span class="hljs-number">5</span>.<span class="hljs-number">905</span>   <span class="hljs-number">6</span>.<span class="hljs-number">154</span>   <span class="hljs-number">2</span>.<span class="hljs-number">610</span>   <span class="hljs-number">3</span>.<span class="hljs-number">675</span>   <span class="hljs-number">5</span>.<span class="hljs-number">438</span>   <span class="hljs-number">8</span>.<span class="hljs-number">529</span>   <span class="hljs-number">6</span>.<span class="hljs-number">475</span>   <span class="hljs-number">6</span>.<span class="hljs-number">235</span>   <span class="hljs-number">4</span>.<span class="hljs-number">072</span>   <span class="hljs-number">2</span>.<span class="hljs-number">727</span>   <span class="hljs-number">4</span>.<span class="hljs-number">011</span>   <span class="hljs-number">3</span>.<span class="hljs-number">603</span>   <span class="hljs-number">3</span>.<span class="hljs-number">592</span>   <span class="hljs-number">2</span>.<span class="hljs-number">226</span><br><span class="hljs-attribute">HF30992</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF35339</span> <span class="hljs-number">26</span>.<span class="hljs-number">367</span>  <span class="hljs-number">39</span>.<span class="hljs-number">055</span>  <span class="hljs-number">21</span>.<span class="hljs-number">648</span>  <span class="hljs-number">17</span>.<span class="hljs-number">989</span>  <span class="hljs-number">19</span>.<span class="hljs-number">522</span>  <span class="hljs-number">19</span>.<span class="hljs-number">161</span>  <span class="hljs-number">20</span>.<span class="hljs-number">336</span>  <span class="hljs-number">32</span>.<span class="hljs-number">247</span>  <span class="hljs-number">19</span>.<span class="hljs-number">605</span>  <span class="hljs-number">17</span>.<span class="hljs-number">819</span>  <span class="hljs-number">33</span>.<span class="hljs-number">449</span>  <span class="hljs-number">27</span>.<span class="hljs-number">840</span>  <span class="hljs-number">31</span>.<span class="hljs-number">536</span>  <span class="hljs-number">36</span>.<span class="hljs-number">837</span>  <span class="hljs-number">28</span>.<span class="hljs-number">376</span>  <span class="hljs-number">24</span>.<span class="hljs-number">709</span>  <span class="hljs-number">37</span>.<span class="hljs-number">224</span>  <span class="hljs-number">18</span>.<span class="hljs-number">255</span>  <span class="hljs-number">16</span>.<span class="hljs-number">398</span>  <span class="hljs-number">27</span>.<span class="hljs-number">247</span>  <span class="hljs-number">22</span>.<span class="hljs-number">796</span><br><span class="hljs-attribute">HF06789</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><span class="hljs-attribute">HF33530</span> <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span>   <span class="hljs-number">0</span>.<span class="hljs-number">000</span><br><br></code></pre></td></tr></table></figure></p><p>目前记录表达量有俩种手段，一种是基于比对，一种基于kmer，使用比对方法好处就是能了解到reads的情况（有没有污染啥的）edgeR可以没有生物学重复</p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux学习笔记01</title>
    <link href="/2022/07/26/Linux%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B001/"/>
    <url>/2022/07/26/Linux%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B001/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="今日的工作">今日的工作：</h1><blockquote><p>完成24个转录组数据的比对（到参考基因组）1.处理参考基因组，黑盒模型——hisat2 2.hisat2比对出sam 3.samtools转sam为bam 4.生成bam index方便后续IGV软件操作</p></blockquote><p>熟悉：<code>htop</code>，<code>hisat</code></p><h1 id="问题">问题：</h1><p><code>samtools: error while loading shared libraries: libncurses.so.5: cannot open shared object file: No such file or directory</code>原因是没有安装 依赖库：<code>libncurses</code> 按照网络教程来安装：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt-get install lib32ncurses5<br></code></pre></td></tr></table></figure> 结果报错： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">E: The package mega-cc needs to be reinstalled, but I can<span class="hljs-string">&#x27;t find an archive for it</span><br></code></pre></td></tr></table></figure>一查说是这个<code>mega-cc</code>软件包安装出错，所以需要删除<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> /var/lib/dpkg/status status.bkp<br><span class="hljs-built_in">chmod</span> 777 /var/lib/dpkg/status<br></code></pre></td></tr></table></figure> 于是恢复</p><p>随后运行程序还是报错 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">error <span class="hljs-keyword">while</span> loading shared libraries: libncurses.so.5: cannot open shared object file: No such file or directory<br></code></pre></td></tr></table></figure> 瞥一眼看到var/lib32里面其实是安装了更新的版本的libncursesw.so.6.1 于是连接<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo <span class="hljs-built_in">ln</span> -s /usr/lib32/libncursesw.so.6.1 /usr/lib/libncurses.so.5<br></code></pre></td></tr></table></figure> 后面发现还是没用一查发现对于不同的发行版，libncurses的安装是不一样的于是查了下Debian的libncurses安装方法： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt-get install libncurses5<br></code></pre></td></tr></table></figure> 于是安装成功</p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>linux学习笔记02</title>
    <link href="/2022/07/26/Linux%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B002/"/>
    <url>/2022/07/26/Linux%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B002/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="今日的工作">今日的工作：</h1><ul><li>完成R语言部分的对接</li><li>使用R包'rsubread'将对比对后的reads数据比对到具体基因上</li><li>完成差异表达量的计算，构建矩阵（perl）</li></ul><h1 id="遇到的问题">遇到的问题</h1><h2 id="还是共享包的问题">还是共享包的问题</h2><p><ahref="https://blog.csdn.net/weixin_45536936/article/details/125998154?csdn_share_tail=%7B%22type%22:%22blog%22,%22rType%22:%22article%22,%22rId%22:%22125998154%22,%22source%22:%22weixin_45536936%22%7D&amp;ctrtid=FEeeX">昨天</a>在准备使用<code>samtools</code>的时候，遇到了共享库未成功安装/检索连接的问题，今天准备用R的时候也还是遇到了——<code>libreadline</code>这个共享库未成功检索到的难题。我按照昨天的教程重新安装了'libreadline'，结果问题并没有解决，于是想到可能是我安装的是更新的版本，需要像昨天一样做一个连接。但是我翻遍了<code>lib</code>或者<code>lib*</code>都没有找到<code>libreadline</code>的目录。于是只能用'whereis'或者'which'，一开始用的是<code>which</code>发现它能搜的范围其实很小，所以没搜到，最后用<code>whereis</code>搜到，于是切到了<code>libreadline</code>目录，进行了连接。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">whereis libreadline<br>/usr/lib/x86_64-linux-gnu/libreadline.so<br><span class="hljs-built_in">cd</span> /usr/lib/x86_64-linux-gnu/libreadline.so<br>sudo <span class="hljs-built_in">ln</span> -s libreadline.so.7.0 libreadline.so.6<br><br></code></pre></td></tr></table></figure><h2 id="r包的安装">R包的安装：</h2><p>R包的安装有两种，一个是CRAN，另一个是Bioconductor CRAN ---`install.packages('ggplot') Bioconductor---BiocManager::install('edgeR')</p>]]></content>
    
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>机器学习日记02</title>
    <link href="/2021/07/13/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B002/"/>
    <url>/2021/07/13/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B002/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="引言多元线性回归">01 引言(多元线性回归)</h1><p>“多元线性回归本质上与单元变量线性回归没太大区别”增添更多特征后，我们引入一系列新的注释：<imgsrc="https://img-blog.csdnimg.cn/20210712211035495.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> 引入多元变量后，我们直接把原来的函数<imgsrc="https://img-blog.csdnimg.cn/20210712211129836.png"alt="在这里插入图片描述" /> 简写为<imgsrc="https://img-blog.csdnimg.cn/20210712211501466.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> ## 多元线性回归 #### 梯度下降</p><blockquote><p>多元变量的线性回归的梯度下降与一元的没什么区别</p></blockquote><h4 id="梯度下降技巧01-特征缩放">梯度下降技巧01-特征缩放</h4><p>在我们面对多维特征问题的时候，我们要保证这些特征都具有相近的尺度，这将帮助梯度下降算法更快地收敛。</p><p>以房价问题为例，假设我们使用两个特征，房屋的尺寸和房间的数量，尺寸的值为0-2000平方英尺，而房间数量的值则是0-5，以两个参数分别为横纵坐标，绘制代价函数的等高线图能，看出图像会显得很扁，梯度下降算法需要非常多次的迭代才能收敛。</p><p>解决的方法是尝试将所有特征的尺度都尽量缩放到-1到 1之间。如图： <imgsrc="https://img-blog.csdnimg.cn/20210712211930759.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /><imgsrc="https://img-blog.csdnimg.cn/20210712212004964.jpg"alt="在这里插入图片描述" /></p><h4id="梯度下降技巧02-学习率与终止迭代条件">梯度下降技巧02-学习率与终止迭代条件</h4><p>梯度下降算法收敛所需要的迭代次数根据模型的不同而不同，我们不能提前预知，我们可以绘制迭代次数和代价函数的图表来观测算法在何时趋于收敛。</p><p>也有一些自动测试是否收敛的方法，例如将代价函数的变化值与某个阀值（例如0.001进行比较，但通常看上面这样的图表更好。）如笔记01的代码的终止条件</p><p><strong>学习率的选择</strong> <imgsrc="https://img-blog.csdnimg.cn/20210712212237449.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /></p><h2 id="用多项式回归模型">用多项式回归模型</h2><h1 id="normal-equation法">02 Normal Equation法</h1><p>到目前为止，我们都在使用梯度下降算法，但是对于某些线性回归问题，正规方程（NormalEquation）方法是更好的解决方案。如： <imgsrc="https://img-blog.csdnimg.cn/20210712212511688.png"alt="在这里插入图片描述" /><imgsrc="https://img-blog.csdnimg.cn/20210712212540238.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /></p><h4 id="推导过程">推导过程</h4><p><span class="math inline">\(\theta=\left(X^{T} X\right)^{-1} X^{T}y\)</span>的推导过程： <span class="math inline">\(J(\theta)=\frac{1}{2m}\sum\limits_{i=1}^{m}\left(h_{\theta}\left(x^{(i)}\right)-y^{(i)}\right)^{2}\text { 其中: } h_{\theta}(x)=\theta^{T} X=\theta_{0} x_{0}+\theta_{1}x_{1}+\theta_{2} x_{2}+\ldots+\theta_{n} x_{n}\)</span></p><p>将向量表达形式转为矩阵表达形式, 则有 <spanclass="math inline">\(J(\theta)=\frac{1}{2}(X \theta-y)^{2}\)</span>,其中 <span class="math inline">\(X\)</span> 为 <spanclass="math inline">\(m\)</span> 行 <spanclass="math inline">\(n\)</span> 列的矩阵 <spanclass="math inline">\((m\)</span> 为样本个数, <spanclass="math inline">\(n\)</span> 为特征个数）, <spanclass="math inline">\(\theta\)</span> 为 <spanclass="math inline">\(n\)</span> 行 1 列的矩阵, <spanclass="math inline">\(y\)</span> 为 <spanclass="math inline">\(m\)</span> 行 1 列的矩阵, 对 <spanclass="math inline">\(J(\theta)\)</span> 进行如 下变换: <spanclass="math display">\[\begin{array}{c}J(\theta)=\frac{1}{2}(X \theta-y)^{T}(X \theta-y) \\\quad=\frac{1}{2}\left(\theta^{T} X^{T}-y^{T}\right)(X \theta-y) \\=\frac{1}{2}\left(\theta^{T} X^{T} X \theta-\theta^{T} X^{T} y-y^{T} X\theta-y^{T} y\right)\end{array}\]</span> 接下来对 𝐽(𝜃)偏导，需要用到以下几个矩阵的求导法则 :<span class="math inline">\(\frac{dAB}{dB}=A^T\)</span></p><p><span class="math inline">\(\frac{dX^{\tau}AX}{dX}=2AX\)</span></p><p>所以有 : <span class="math display">\[\begin{array}{c}\frac{\partial J(\theta)}{\partial \theta}=\frac{1}{2}\left(2 X^{T} X\theta-X^{T} y-\left(y^{T} X\right)^{T}-0\right) \\=\frac{1}{2}\left(2 X^{T} X \theta-X^{T} y-X^{T} y-0\right) \\=X^{T} X \theta-X^{T} y\end{array}\]</span> <span class="math inline">\(\begin{array}{l}\text { 令 } \frac{\partial J(\theta)}{\partial \theta}=0 \\\text { 则有 } \theta=\left(X^{T} X\right)^{-1} X^{T} y\end{array}\)</span></p><h2 id="normal-equation法与梯度下降法比较">NormalEquation法与梯度下降法比较</h2><figure><imgsrc="https://img-blog.csdnimg.cn/20210712212645455.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /><figcaption aria-hidden="true">在这里插入图片描述</figcaption></figure><p>总结一下，只要特征变量的<strong>数目并不大</strong>，标准方程是一个很好的计算参数𝜃的<strong>替代方法</strong>。具体地说，只要特征变量数量小于一万，我通常使用标准方程法，而不使用<strong>梯度下降法</strong>。</p><p>随着我们要讲的学习算法越来越复杂，例如，当我们讲到分类算法，像逻辑回归算法，我们会看到，实际上对于那些算法，<strong>并不能使用标准方程法</strong>。对于那些更复杂的学习算法，我们将不得不仍然使用梯度下降法。因此，<strong>梯度下降法是一个非常有用的算法</strong>，可以用在有大量特征变量的线性回归问题。或者我们以后在课程中，会讲到的一些其的算法，因为标准方程法不适合或者不能用在它们上。但对于这个特定的线性回归模型，标准方程法是一个比梯度下降法更快的替代算法。所以，根据具体的问题，以及你的特征变量的数量，这两种算法都是值得学习的。</p><h1 id="logistics回归logistic-regression">03 logistics回归(LogisticRegression)</h1><h2 id="开始">开始</h2><p>步骤： 1.确定目标与条件 我是要进行分类吗？（二分类？多分类？）二分类直接使用，多分类（需要修改） 条件</p><p>2.通过梯度下降算得</p><h2 id="分类问题引言">分类问题引言</h2><p>分类问题中，预测的变量 𝑦 是离散的值</p><p>二元的分类问题：负向类（negative class）和正向类（positiveclass）</p><p>如果我们要用线性回归算法来解决一个分类问题，会出问题</p><p>在逻辑回归中，h（假设）的方程换了一个形式 希望我们的分类器的输出值在0和 1之间，因此逻辑回归模型的假设是： <imgsrc="https://img-blog.csdnimg.cn/20210712215942320.jpg"alt="在这里插入图片描述" /> 𝑋 代表特征向量𝑔 代表逻辑函数（ logisticfunction)是一个常用的逻辑函数为是一个常用的逻辑函数为S形函数（形函数（Sigmoidfunction），公式为：<imgsrc="https://img-blog.csdnimg.cn/20210712220058887.jpg"alt="在这里插入图片描述" /> #### sigmoid函数 该函数的图像为： <imgsrc="https://img-blog.csdnimg.cn/20210712220146585.png"alt="在这里插入图片描述" /></p><h4 id="判定边界">判定边界</h4><p>现在讲下决策边界(decisionboundary)的概念。这个概念能更好地帮助我们理解逻辑回归的假设函数在计算什么。</p><blockquote><p>假设函数计算内容</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20210712221148700.png"alt="在这里插入图片描述" /> <imgsrc="https://img-blog.csdnimg.cn/20210712221242157.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> 现在假设我们有一个模型： <imgsrc="https://img-blog.csdnimg.cn/20210712221345897.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> <imgsrc="https://img-blog.csdnimg.cn/20210712221505277.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> <imgsrc="https://img-blog.csdnimg.cn/20210712221518892.png"alt="在这里插入图片描述" /></p><h4 id="逻辑回归函数回顾">逻辑回归函数回顾</h4><p><imgsrc="https://img-blog.csdnimg.cn/2021071222184955.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> #### 代价函数</p><blockquote><p>逻辑回归的代价函数与线性回归的不一样</p><p><imgsrc="https://img-blog.csdnimg.cn/20210712222038385.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> <imgsrc="https://img-blog.csdnimg.cn/20210713085554985.png"alt="在这里插入图片描述" /></p></blockquote><p><em>这意味着我们的代价函数有许多局部最小值，这将影响梯度下降算法寻找全局最小值。</em></p><p><imgsrc="https://img-blog.csdnimg.cn/20210712222148817.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> <imgsrc="https://img-blog.csdnimg.cn/20210712222332118.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> #### 函数代码</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs matlab">clc;clear;<br>x1 = <span class="hljs-number">0.4999999999</span>:<span class="hljs-number">-0.01</span>:<span class="hljs-number">0</span><br>x2 = <span class="hljs-number">0.5</span>:<span class="hljs-number">0.01</span>:<span class="hljs-number">0.99</span><br><br>y1= -<span class="hljs-built_in">log</span>(<span class="hljs-number">1</span>-x1)<br>y2= -<span class="hljs-built_in">log</span>(x2)<br><span class="hljs-built_in">plot</span>(x1,y1,<span class="hljs-string">&#x27;b*&#x27;</span>)<br><span class="hljs-built_in">hold</span> on<br><span class="hljs-built_in">plot</span>(x2,y2,<span class="hljs-string">&#x27;r-&#x27;</span>)<br></code></pre></td></tr></table></figure><p><imgsrc="https://img-blog.csdnimg.cn/20210712224212827.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> 进一步简化 <imgsrc="https://img-blog.csdnimg.cn/20210712224426351.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">cost</span>(<span class="hljs-params">theta, X, y</span>):<br>theta=np.matrix(theta)<br>X = np.matrix(X)<br>y = np.matrix(y)<br>first = np.multiply(-y, np.log(sigmoid(X*theta.T)))<br>second = np.multiply(( <span class="hljs-number">1</span>-y), np.log( <span class="hljs-number">1</span>-sigmoid(X*theta.T)))<br><span class="hljs-keyword">return</span> np. <span class="hljs-built_in">sum</span> (first - second) /(<span class="hljs-built_in">len</span> (X))<br></code></pre></td></tr></table></figure><h4 id="梯度下降">梯度下降</h4><blockquote><p>逻辑回归的梯度下降与线性回归的梯度下降是不一样的</p></blockquote><p><imgsrc="https://img-blog.csdnimg.cn/20210712224820275.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> 梯度下降推导 <imgsrc="https://img-blog.csdnimg.cn/20210713093319366.jpg"alt="在这里插入图片描述" /> <imgsrc="https://img-blog.csdnimg.cn/20210713093410428.jpg"alt="在这里插入图片描述" /> <imgsrc="https://img-blog.csdnimg.cn/20210713093435350.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> <imgsrc="https://img-blog.csdnimg.cn/20210713093628583.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" />注：虽然得到的梯度下降算法表面上看上去与线性回归的梯度下降算法一样，但是这里的ℎ𝜃(𝑥)=𝑔(𝜃𝑇𝑋)与线性回归中不同，所以实际上是不一样的。另外，在运行梯度下降算法之前，进行特征缩放依旧是非常必要的。</p><p>一些梯度下降算法之外的选择：除了梯度下降算法以外，还有一些常被用来令代价函数最小的算法，这些算法更加复杂和优越，而且通常不需要人工选择学习率，通常比梯度下降算法要更加快速。这些算法有：共轭梯度 Conjugate Gradient 局部优化法 (Broyden fletcher goldfarbshann,BFGS)和 有限内存局部优化法 (LBFGS) fminunc是 matlab和 octave中都带的一个最小值优化函数，使用时我们需要提供代价函数和每个参数的求导#### 简化的损失函数和梯度下降</p><blockquote><p>找出一种稍微简单一点的方法来写代价函数，来替换我们现在用的方法。弄清楚如何运用梯度下降法，来拟合出逻辑回归的参数。</p></blockquote><p>这就是逻辑回归的代价函数： <imgsrc="https://img-blog.csdnimg.cn/20210713094416207.png"alt="在这里插入图片描述" /> 这个式子可以合并成： <imgsrc="https://img-blog.csdnimg.cn/20210713094513727.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" />就是这样，现在你知道如何实现逻辑回归，这是一种非常强大，甚至可能世界上使用最广泛的一种分类算法。</p><h4 id="高级优化">高级优化</h4><blockquote><p>学一些高级优化算法和一些高级的优化概念，利用这些方法，我们就能够使通过梯度下降，进行逻辑回归的速度大大提高，而这也将使算法更加适合解决大型的机器学习问题</p></blockquote><h4 id="一对多分类">一对多分类</h4><blockquote><p>有几种情况就制作几个分类器，每个分类器进行一次二分类，选择最高的概率值，我们预测 𝑦就 是那个值</p></blockquote><p>你现在知道了基本的挑选分类器的方法，选择出哪一个分类器是可信度最高效果最好的，那么就可认为得到一个正确的分类，无论 𝑖值是多少，我们都有最高的概率值，我们预测 𝑦就是那个值。这就是多类别分类问题，以及一对多的方法，通过这个小方法，你现在也可以将逻辑回归分类器用在多类分类的问题上。 # 04 正则化(Regularization) ##过拟合与欠拟合第一个模型是一个线性模型，欠拟合，不能很好地适应我们的训练集；第三个模型是一个四次方的模型，过于强调拟合原始数据，而丢失了算法的本质：预测新数据。我们可以看出，若给出一个新的值使之预测，它将表现的很差，是过拟合，虽然能非常好地适应我们的训练集但在新输入变量进行预测时可能会效果不好；而中间的模型似乎最合适。<imgsrc="https://img-blog.csdnimg.cn/20210713102559266.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" />问题是，如果我们发现了过拟合问题，应该如何处理？ <imgsrc="https://img-blog.csdnimg.cn/20210713102637950.png"alt="在这里插入图片描述" /> ## 代价函数</p><blockquote><p>高次项导致了过拟合的产生，是高次项的系数小一点接近于0，可以解决过拟合问题</p></blockquote><blockquote><p>所以我们要做的就是在一定程度上==减小===这些参数𝜃的值，这就是正则化的<strong>基本方法</strong>。</p></blockquote><figure><img src="https://img-blog.csdnimg.cn/20210713103010262.png"alt="在这里插入图片描述" /><figcaption aria-hidden="true">在这里插入图片描述</figcaption></figure><p>如上，我们决定要减少 𝜃3和𝜃4的大小，我们要做的便是==修改代价函数==，在其中 𝜃3和 𝜃4设置一点惩罚。这样做的话，我们在尝试最小化代价时也需要将这个惩罚纳入考虑中，并最终导致选择较小一些的𝜃3和 𝜃4。</p><p>修改后的代价函数如下： <imgsrc="https://img-blog.csdnimg.cn/20210713103350720.png"alt="在这里插入图片描述" /></p><blockquote><p>这是在==明确惩罚对象==的情况下设置的</p></blockquote><p>但假如我们有非常多的特征，我们==并不知道==其中哪些特征我们要惩罚，我们将对所有的特征进行惩罚，并且让代价函数最优化的软件来选择这些惩罚的程度。这样的结果是得到了一个较为简单的能防止过拟合问题的假设： <imgsrc="https://img-blog.csdnimg.cn/20210713103702417.jpg"alt="在这里插入图片描述" /> 其中𝜆又称为正则化参数（ RegularizationParameter）。 注：根据惯例，我们不对 𝜃<sub>0</sub> 进行惩罚。经过正则化处理的模型与原模型的可能对比如下图所示： <imgsrc="https://img-blog.csdnimg.cn/20210713103854686.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> 如果选择的正则化参数λ过大则会把所有的参数都最小化了 导致模型变成ℎ<sub>𝜃(𝑥)</sub>=𝜃<sub>0</sub>，也就是上图中红色直线所示的情况，造成==欠拟合==。</p><blockquote><p>那为什么增加的一项𝜆=Σ<sub>𝑗=1</sub><sup>n</sup>𝜃<sub>𝑗</sub><sup>2</sup>以使 𝜃的值减小呢？</p></blockquote><p>因为如果我们令 𝜆 的值很大的话，为了使 代价函数尽可能的小，所有的 𝜃的值（不包括 𝜃<sub>0</sub>）都会在一定程度上减小。 但若λ的值太大了 那么𝜃（不包括 𝜃<sub>0</sub>）都会趋近于 0，这样我们所得到的只能是一条平行于𝑥轴的直线。</p><p>所以对于正则化，我们要取一个合理的𝜆的值，这样才能更好的应用正则化。</p><h2 id="正则化线性回归">正则化线性回归</h2><blockquote><p>对于线性回归的求解，我们之前推导了两种学习算法：一种基于梯度下降，一种基于正规方程。</p></blockquote><h4 id="梯度下降-1">梯度下降</h4><p>对于基于正则化的梯度下降 <imgsrc="https://img-blog.csdnimg.cn/20210713104804853.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> 整理得到 <imgsrc="https://img-blog.csdnimg.cn/20210713104931406.png"alt="在这里插入图片描述" /> #### 正规方程我们同样也可以利用正规方程来求解正则化线性回归模型，方法如下所示： <imgsrc="https://img-blog.csdnimg.cn/20210713105130272.png"alt="在这里插入图片描述" /> 矩阵大小图中的矩阵尺寸为(𝑛+1)∗(𝑛+1)</p><h2 id="正则化的逻辑回归模型">正则化的逻辑回归模型</h2><blockquote><p>针对逻辑回归问题，我们在之前的课程已经学习过两种优化算法：我们首先学习了使用梯度下降法来优化代价函数𝐽(𝜃)，接下来学习了更高级的优化算法，这些高级优化算法需要你自己设计代价函数 𝐽(𝜃)。</p></blockquote><p>自己计算导数同样对于逻辑回归，我们也给代价函数增加一个正则化的表达式，得到代价函数：<img src="https://img-blog.csdnimg.cn/20210713105341290.jpg"alt="在这里插入图片描述" /></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">costReg</span>(<span class="hljs-params">theta, X, y, learningRate</span>):<br>theta=np.matrix(theta)<br>X=np.matrix(X)<br>y=np.matrix(y)<br>first=np.multiply(-y, np.log(sigmoid(X-theta.T)))<br>second=np.multiply((<span class="hljs-number">1</span>-y), np.log(<span class="hljs-number">1</span>-sigmoid(X theta.T)))<br>reg=(learningRate/(<span class="hljs-number">2</span>*<span class="hljs-built_in">len</span>(x))*np.<span class="hljs-built_in">sum</span>(np.power(theta[ : , <span class="hljs-number">1</span>:theta. shape[<span class="hljs-number">1</span>]],<span class="hljs-number">2</span>))<br><span class="hljs-keyword">return</span> np.<span class="hljs-built_in">sum</span>(first-second) <span class="hljs-built_in">len</span> (X))+reg<br></code></pre></td></tr></table></figure><p>要最小化该代价函数，通过求导，得出梯度下降算法为： <imgsrc="https://img-blog.csdnimg.cn/20210713105816955.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" />注：看上去同线性回归一样，但是知道ℎ𝜃(𝑥)=𝑔(𝜃𝑇𝑋)，所以与线性回归不同。</p><p>注意： 1.虽然正则化的逻辑回归中的梯度下降和正则化的线性回归中的表达式看起来一样，但由于两者的 ℎ𝜃(𝑥)不同所以还是有很大差别。 2.𝜃0不参与其中的任何一个正则化。</p><p>接下来的课程中，我们将学习一个非常强大的非线性分类器，无论是线性回归问题，还是逻辑回归问题，都可以构造多项式来解决。你将逐渐发现还有更强大的非线性分类器，可以用来解决多项式回归问题。我们接下来将学会，比现在解决问题的方法强大N倍的学习 算法。</p>]]></content>
    
    
    
    <tags>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>机器学习日记01</title>
    <link href="/2021/07/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001/"/>
    <url>/2021/07/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001/</url>
    
    <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="概念">01 概念</h1><p>什么是机器学习？<imgsrc="https://img-blog.csdnimg.cn/20210712193902372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> T:任务，目的，结果 E:训练集，经验值h：假设，方程 p：置信区间</p><blockquote><p>一个程序被认为能从经验E中学习,解决任务T，达到性能度量值P，当且仅当，有了经验E后，经过P评判，程序在处理T时的性能有所提升。我认为经验E就是程序上万次的自我练习的经验而任务，T是下棋。性能度量值P呢，就是它在与一些新的对手比赛时，赢得比赛的概率。</p></blockquote><p>更经典的定义：</p><blockquote><p>一个计算机程序利用经验E来学习任务T，性能是P，如果针对任务T的性能P随着经验E不断增长，则称为机器学习。</p><p>汤姆·米切尔（Tom Mitchell），1997</p></blockquote><figure><imgsrc="C:\Users\brianyang\Desktop\机器学习实战：基于Scikit-Learn、Keras和TensorFlow：原书第2版中文版.jpg"alt="机器学习实战：基于Scikit-Learn、Keras和TensorFlow：原书第2版中文版" /><figcaptionaria-hidden="true">机器学习实战：基于Scikit-Learn、Keras和TensorFlow：原书第2版中文版</figcaption></figure><h2 id="特点">特点</h2><ul><li>有解决方案（但解决方案需要进行大量人工微调或需要遵循大量规则）的问题：机器学习算法通常可以简化代码，相比传统方法有更好的性能</li><li>传统方法难以解决的复杂问题：最好的机器学习技术也许可以找到解决方案。</li><li>环境有波动：机器学习算法可以适应新数据。</li><li>洞察复杂问题和大量数据。</li></ul><h2 id="基本概念">基本概念</h2><p><em>有监督学习和无监督学习</em> <strong>有监督学习</strong>:我们将教计算机如何去完成任务</p><p><strong>无监督学习</strong>中:我们打算让它自己进行学习</p><p>此外你将听到诸如，<strong>强化学习</strong>和<strong>推荐系统</strong>等各种术语。这些都是机器学习算法的一员</p><h2 id="监督学习">监督学习</h2><blockquote><p>监督学习指的就是我们给学习算法一个数据集。这个数据集由“正确答案"组成。在房价的例子中,我们给了一系列房子的数据,我们给定数据集中每个样本的正确价格在预测类的问题中，监督学习的过程是<strong>给予数据集，设置假设，计算预测</strong></p></blockquote><h4 id="回归分类其他">回归&amp;分类&amp;其他</h4><blockquote><p>回归这个词的意思是，我们在试着推测出这一系列连续值属性。</p></blockquote><blockquote><p>分类指的是，我们试着推测出离散的输出值：0或1良性或恶性，而事实上在分类问题中，输出可能不止两个值。比如说可能有三种乳腺癌，所以你希望预测离散输出</p></blockquote><p>我们以后会讲一个算法，叫支持向量机，里面有一个巧妙的数学技巧，能让计算机处理无限多个特征。</p><h4 id="总结">总结</h4><p>现在来回顾一下，这节课我们介绍了监督学习。其基本思想是，我们数据集中的每个样本都有相应的“正确答案 ”。 再根据这些样本作出预测 就像房子和肿瘤的例子中做的那样。我们还介绍了回归问题，即通过回归来推出一个连续的输出，之后我们介绍了分类问题，其目标是推出一组离散的结果。</p><h2 id="无监督学习">无监督学习</h2><h4 id="两种列举的无监督学习">两种列举的无监督学习</h4><blockquote><p>无监督学习算法可能会把这些数据分成两个不同的簇。所以叫做聚类算法。事实证明，它能被用在很多地方。</p></blockquote><blockquote><p>鸡尾酒宴会——另外一种方法</p></blockquote><h1 id="正题单变量线性回归">02 正题：单变量线性回归</h1><blockquote><p>回归 一词指的是，我们根据之前或者已有的数据预测出一个准确的输出值</p></blockquote><h4 id="对一般回归问题的标记">对一般回归问题的标记</h4><p><imgsrc="https://img-blog.csdnimg.cn/20210712195749468.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> <imgsrc="https://img-blog.csdnimg.cn/20210712194959448.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> 我将选择最初的使用规则ℎ代表hypothesis，因而，要解决房价预测问题，我们实际上是要将训练集 “喂”给我们的学习算法 进而学习得到一个假设ℎ，然后将我们要预测的房屋的尺寸作为输入变量输入给ℎ，预测出该房屋的交易价格作为输出变量输出为结果。</p><p>一种可能的表达方式为：<imgsrc="https://img-blog.csdnimg.cn/20210712200006880.png"alt="在这里插入图片描述" /> ​​，因为只含有一个特征/输入变量，因此这样的问题叫作单变量线性回归问题。 #### 代价函数因为我们设置的h只是一种假设，因此通过假设方程预测的数与真值一定有偏差，将已知的真值与通过假设方程的差异展现出来的方程叫做代价函数</p><p>在优化类数模模型中：</p><blockquote><p>一个最佳化问题的目标是将损失函数最小化。</p></blockquote><p>代价函数的常见形式是<strong>最小二乘法</strong>模型所预测的值与训练集中实际值之间的差距（下图中蓝线所指）就是 建模误差modeling error） <imgsrc="https://img-blog.csdnimg.cn/20210712200749540.png"alt="在这里插入图片描述" />我们的目标便是选择出可以使得建模误差的平方和能够最小的模型参数。即使得代价函数最小<imgsrc="https://img-blog.csdnimg.cn/20210712200826808.png"alt="代价函数" /></p><h4 id="损失函数的图形化表示">损失函数的图形化表示</h4><p>𝐽(𝜃0,𝜃1) 就是代价函数，也称损失函数 𝐽(𝜃1) 是二维的函数关系 𝐽(𝜃0,𝜃1)是三维的函数关系</p><p><imgsrc="https://img-blog.csdnimg.cn/20210712202539555.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> #### 损失函数存在的意义 <imgsrc="https://img-blog.csdnimg.cn/20210712203143582.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" />为了使得求得的预测值与真值差距最小化，在损失函数中应当找到函数的极小值</p><p>如何找到极小值，一般有两种方法，一个叫梯度下降，另一个叫normalequation，下面先讲梯度下降</p><h2 id="梯度下降">梯度下降</h2><p>梯度下降——梯度下降是一个用来求函数最小值的算法，我们将使用梯度下降算法来求出代价函数𝐽(𝜃0,𝜃1)的最小值。</p><p>梯度下降背后的思想是：开始时我们随机选择一个参数的组合(𝜃0,𝜃1,......,𝜃𝑛)，计算代价函数，然后我们寻找下一个能让代价函数值下降最多的参数组合。我们持续这么做直到到到一个局部最小值（localminimum），因为我们并没有尝试完所有的参数组合，所以不能确定我们得到的局部最小值是否便是全局最小值（global minimum），选择不同的初始参数 组合，可能会找到不同的局部最小值。<imgsrc="https://img-blog.csdnimg.cn/20210712203656507.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /> 批量梯度下降（ batch gradientdescent）算法的公式为 <imgsrc="https://img-blog.csdnimg.cn/20210712203757584.png"alt="在这里插入图片描述" /> 其中 𝑎是学习率（ learningrate），它决定了我们沿着能让代价函数下降程度最大的方向向下迈出的步子有多大，在批量梯度下降中，我们每一次都同时让所有的参数减去学习速率乘以代价函数的导数。 <imgsrc="https://img-blog.csdnimg.cn/20210712204108527.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" />对于这个问题，求导的目的，基本上可以说取这个红点的切线，就是这样一条红色的直线，刚好与函数相切于这一点，让我们看看这条红色直线的斜率，就是这条刚好与函数曲线相切的这条直线，这条直线的斜率正好是这个三角形的高度除以这个水平长度，现在，这条线有一个正斜率，也就是说它有正导数，因此，我得到的新的𝜃1 𝜃1更新后等于 𝜃1减去一个正数乘以 𝑎。</p><p>如果𝑎太小了，即我的学习速率太小，结果就是只能这样像小宝宝一样一点点地挪动，去努力接近最低点，这样就需要很多步才能到达最低点，所以如果𝑎太小的话，可能会很慢，因为它会一点点挪动，它会需要很多步才能到达全局最低点。</p><p>如果𝑎太大，那么梯度下降法可能会越过最低点，甚至可能无法收敛，下一次迭代又移动了一大步，越过一次，又越过一次，一次次越过最低点，直到你发现实际上离最低点越来yuan</p><h5 id="梯度下降python实现bgd">梯度下降python实现，BGD</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># _*_ coding: utf-8 _*_</span><br><span class="hljs-comment"># 作者: yhao</span><br><span class="hljs-comment"># 博客: http://blog.csdn.net/yhao2014</span><br><span class="hljs-comment"># 邮箱: yanhao07@sina.com</span><br> <br><span class="hljs-comment"># 训练集</span><br><span class="hljs-comment"># 每个样本点有3个分量 (x0,x1,x2)</span><br>x = [(<span class="hljs-number">1</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">2.</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">3.</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">4.</span>, <span class="hljs-number">4</span>)]<br><span class="hljs-comment"># y[i] 样本点对应的输出</span><br>y = [<span class="hljs-number">95.364</span>, <span class="hljs-number">97.217205</span>, <span class="hljs-number">75.195834</span>, <span class="hljs-number">60.105519</span>, <span class="hljs-number">49.342380</span>]<br> <br><span class="hljs-comment"># 迭代阀值，当两次迭代损失函数之差小于该阀值时停止迭代</span><br>epsilon = <span class="hljs-number">0.0001</span><br> <br><span class="hljs-comment"># 学习率</span><br>alpha = <span class="hljs-number">0.01</span><br>diff = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>]<br>max_itor = <span class="hljs-number">1000</span><br>error1 = <span class="hljs-number">0</span><br>error0 = <span class="hljs-number">0</span><br>cnt = <span class="hljs-number">0</span><br>m = <span class="hljs-built_in">len</span>(x)<br> <br><span class="hljs-comment"># 初始化参数</span><br>theta0 = <span class="hljs-number">0</span><br>theta1 = <span class="hljs-number">0</span><br>theta2 = <span class="hljs-number">0</span><br> <br> <br> <br> <br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    cnt += <span class="hljs-number">1</span><br> <br>    <span class="hljs-comment"># 参数迭代计算</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>        <span class="hljs-comment"># 拟合函数为 y = theta0 * x[0] + theta1 * x[1] +theta2 * x[2]</span><br>        <span class="hljs-comment"># 计算残差</span><br>        diff[<span class="hljs-number">0</span>] = (theta0 + theta1 * x[i][<span class="hljs-number">1</span>] + theta2 * x[i][<span class="hljs-number">2</span>]) - y[i]<br> <br>        <span class="hljs-comment"># 梯度 = diff[0] * x[i][j]</span><br>        theta0 -= alpha * diff[<span class="hljs-number">0</span>] * x[i][<span class="hljs-number">0</span>]<br>        theta1 -= alpha * diff[<span class="hljs-number">0</span>] * x[i][<span class="hljs-number">1</span>]<br>        theta2 -= alpha * diff[<span class="hljs-number">0</span>] * x[i][<span class="hljs-number">2</span>]<br> <br>    <span class="hljs-comment"># 计算损失函数</span><br>    error1 = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> lp <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(x)):<br>        error1 += (y[lp] - (theta0 + theta1 * x[lp][<span class="hljs-number">1</span>] + theta2 * x[lp][<span class="hljs-number">2</span>])) ** <span class="hljs-number">2</span> / <span class="hljs-number">2</span><br> <br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">abs</span>(error1 - error0) &lt; epsilon:<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">else</span>:<br>        error0 = error1<br> <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;theta0 : %f, theta1 : %f, theta2 : %f, error1 : %f&quot;</span> % (theta0, theta1, theta2, error1))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Done: theta0 : %f, theta1 : %f, theta2 : %f&#x27;</span> % (theta0, theta1, theta2))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;迭代次数: %d&#x27;</span> % cnt)<br><span class="hljs-comment">#为什么相邻两个残差相差在0.0001说明我们能够找到全局最优解呢？因为根据梯度下降的原理，每一次迭代过程我们得到的m个theta必然越来越接近最优解的，相差0.0001说明m个theta无法继续下降</span><br></code></pre></td></tr></table></figure><h4 id="梯度下降的表现形式">梯度下降的表现形式</h4><p><imgsrc="https://img-blog.csdnimg.cn/20210712204321620.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" />在梯度下降算法中，这是正确实现同时更新的方法。我不打算解释为什么你需要同时更新，同时更新是梯度下降中的一种常用方法。我们之后会讲到，同步更新是更自然的实现方法。当人们谈到梯度下降时，他们的意思就是同步更新。</p><h4 id="梯度下降的进一步理解">梯度下降的进一步理解</h4><p>梯度下降算法如下： <imgsrc="https://img-blog.csdnimg.cn/20210712204846425.png"alt="在这里插入图片描述" /> 描述：对 𝜃赋值，使得𝐽(𝜃)按梯度下降最快方向进行，一直迭代下去，最终得到局部最小值。其中𝑎是学习率（ learningrate），它决定了我们沿着能让代价函数下降程度最大的方向向下迈出的步子有多大</p><p>求导能够把函数化简 <imgsrc="https://img-blog.csdnimg.cn/2021071220530574.png"alt="在这里插入图片描述" /></p><h4 id="线性回归与梯度下降">线性回归与梯度下降</h4><p>梯度下降与线性回归算法 <imgsrc="https://img-blog.csdnimg.cn/20210712205758183.png"alt="在这里插入图片描述" /> <imgsrc="https://img-blog.csdnimg.cn/20210712205848160.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNjkzNg==,size_16,color_FFFFFF,t_70"alt="在这里插入图片描述" /></p><p>现在我们已经掌握了梯度下降，我们可以在不同的环境中使用梯度下降法，我们还将在不同的机器学习问题中大量地使用它。所以，祝贺大家成功学会你的第一个机器学习算法。</p>]]></content>
    
    
    
    <tags>
      
      <tag>机器学习</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
